(this.webpackJsonpgasonwheelz=this.webpackJsonpgasonwheelz||[]).push([[22],{247:function(e,t,a){"use strict";t.a=a.p+"static/media/project_orange_logo.90ce7bd7.png"},657:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(4),c=a(5),o=a(42),l=a(17),i=a(656),d=a(392),b=a(661),j=a(393),u=a(655),m=a(652),h=a(631),x=a(247),O=a(8),p=a(23),f=a(61),w=a(79),v=a(9),g=function(e){var t=e.handleClose,a=Object(O.useState)({uid:""}),s=Object(l.a)(a,2),r=s[0],n=s[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"my-1 text-nowrap ",children:Object(v.jsx)("h3",{className:"text-center mb-5 fw-bolder",children:"Password Reset "})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w.b.sendPasswordResetEmail(r.uid).then((function(){alert("Password Reset mail has been sent to ".concat(r.uid,".")),n({uid:""}),t()})).catch((function(e){alert(e.message)}))},children:[Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label fw-bold",children:"User ID"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD",fontSize:"1.125rem"},type:"text",className:"form-control",id:"exampleFormControlInput1",name:"uid",value:r.uid,onChange:function(e){var t=e.target,a=t.name,s=t.value;n((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},a,s))}))},placeholder:"Enter your User ID",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",required:!0})]}),Object(v.jsx)("button",{style:{width:"100%"},className:"btn btn-primary",type:"submit",children:"Send Mail"})]}),Object(v.jsx)("div",{className:"col-12  mt-3",children:Object(v.jsx)(u.a,{style:{textTransform:"capitalize",fontWeight:"bold"},className:" w-100",variant:"text",onClick:t,children:"Cancel"})})]})})]})})},y=a(414),S=a.n(y),C=a(415),N=a.n(C),P=a(634),F=a(635);t.default=Object(p.j)((function(e){var t=e.history,a=Object(O.useContext)(f.a).currentUser,s=Object(O.useState)(!1),y=Object(l.a)(s,2),C=y[0],I=y[1],k=function(){return I(!1)},z=Object(O.useState)({email:"",password:"",showPassword:!1}),E=Object(l.a)(z,2),W=E[0],D=E[1],R=function(e){return function(t){D(Object(o.a)(Object(o.a)({},W),{},Object(c.a)({},e,t.target.value)))}},A=Object(O.useCallback)(function(){var e=Object(n.a)(r.a.mark((function e(a){var s,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=a.target.elements,n=s.email,c=s.password,e.prev=2,e.next=5,w.b.setPersistence(w.a.auth.Auth.Persistence.SESSION);case 5:return e.next=7,w.b.signInWithEmailAndPassword(n.value,c.value).then((function(e){var a=e.user;if(!a)return alert("Incorrect User Credentials"),Object(v.jsx)(p.a,{to:"/"});w.c.collection("USERS").doc(a.uid).get().then((function(e){var s=e.data();try{s.roles||(s.roles={})}catch(r){return Object(v.jsx)(p.a,{to:"/"})}a=Object(o.a)({uid:a.uid,email:a.email},s),sessionStorage.setItem("user_name",n.value),sessionStorage.setItem("useraim",c.value),sessionStorage.setItem("role",a.role),sessionStorage.setItem("name",a.name),t.push("/homepage")}))})).catch((function(e){var t=e.code,a=e.message;alert(t,a)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert("Incorrect User Credentials");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return a?Object(v.jsx)(p.a,{to:"/homepage"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.a,{maxWidth:"xs",children:Object(v.jsxs)(h.a,{sx:{p:"24px",boxShadow:"0px 10px 45px 0px rgba(0, 0, 0, 0.1)",borderRadius:"15px",backgroundColor:"#ffff"},children:[Object(v.jsx)("div",{className:"w-100 text-center bg-white",children:Object(v.jsx)("img",{src:x.a,alt:"",height:"60px",width:"60px"})}),Object(v.jsxs)(d.a,{color:"textPrimary",className:"fw-bold mt-3",variant:"h4",children:["Welcome back ",Object(v.jsx)("br",{})," to ",Object(v.jsx)("span",{style:{color:"#FF6700"},children:" Gaz on Wheelz "})]}),Object(v.jsxs)("form",{onSubmit:A,children:[Object(v.jsxs)("div",{style:{width:"100%"},className:"my-4",children:[Object(v.jsx)("label",{className:"fw-bold",children:"Email "}),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,{sx:{fontWeight:"bold",fontFamily:"Sen",color:"primary"},id:"standard-adornment-amount",value:W.email,onChange:R("email"),placeholder:" Enter your Email",name:"email",startAdornment:Object(v.jsx)(S.a,{}),fullWidth:!0,required:!0})]}),Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)("label",{className:"fw-bold",children:"Password "}),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,{sx:{fontWeight:"bold",fontFamily:"Sen",color:"primary"},id:"standard-adornment-amount",placeholder:" Enter your Password",name:"password",value:W.password,onChange:R("password"),type:W.showPassword?"text":"password",startAdornment:Object(v.jsx)(N.a,{}),endAdornment:Object(v.jsx)(j.a,{"aria-label":"toggle password visibility",onClick:function(){D(Object(o.a)(Object(o.a)({},W),{},{showPassword:!W.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:W.showPassword?Object(v.jsx)(P.a,{}):Object(v.jsx)(F.a,{})}),fullWidth:!0,required:!0})]}),Object(v.jsx)(u.a,{sx:{fontSize:"0.8rem",textTransform:"capitalize"},onClick:function(){I(!0)},children:"Forgot Password?"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(u.a,{sx:{borderRadius:"2.5em"},disableElevation:!0,type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"LOGIN"})]})]})}),Object(v.jsx)(m.a,{open:C,onClose:k,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsx)(h.a,{sx:{position:"absolute",top:"47.5%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",borderRadius:"1.125rem",boxShadow:24,p:6},children:Object(v.jsx)(g,{handleClose:k})})})]})}))}}]);
//# sourceMappingURL=22.2d4b9bee.chunk.js.map