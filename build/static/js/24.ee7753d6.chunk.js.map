{"version":3,"sources":["Registration.js"],"names":["Registration","showAlert","retrievedname","sessionStorage","getItem","useState","fname","lname","phone","address","street","city","state","zip","data","setData","InputEvent","event","target","name","value","preVal","style","backgroundColor","borderRadius","width","className","onSubmit","e","preventDefault","firestore","collection","where","get","then","doc","empty","set","EName","gstin","nKGD","Number","sKGD","tKGD","delivery","date","serverTimestamp","country","catch","error","message","htmlFor","fontSize","type","id","placeholder","onChange","required","pattern","list"],"mappings":"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","file":"static/js/24.ee7753d6.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport {firestore} from './Firebase';\r\nimport {serverTimestamp} from \"firebase/firestore\";\r\n\r\nconst Registration =({showAlert}) => {\r\n\r\n    var retrievedname = sessionStorage.getItem('name');\r\n    const[data,setData] = useState({\r\n        fname:\"\",\r\n        lname:\"\",\r\n        phone:\"\",\r\n        address:\"\",\r\n        street:\"\",\r\n        city:\"\",\r\n        state:\"\",\r\n        zip:\"\",\r\n    });\r\n\r\n    const InputEvent= (event)=>{\r\n        const {name,value} = event.target;\r\n        setData((preVal) =>{\r\n            return{...preVal, [name] : value,}\r\n        });\r\n    };\r\n    const formSubmit =(e) =>{\r\n        e.preventDefault();\r\n        firestore.collection(\"customers\").where(\"phone\", \"==\", data.phone).get()\r\n        .then((doc) => { \r\n            if(!doc.empty){\r\n                showAlert(\"user already exists\",\"danger\");\r\n            }else{\r\n                firestore.collection(\"customers\").doc(`GGTD${data.phone}`).set({\r\n                    name : data.fname+ \" \"+data.lname,\r\n                    EName: retrievedname,\r\n                    address : data.address,\r\n                    street : data.street,\r\n                    state : data.state,\r\n                    city : data.city,\r\n                    zip : data.zip,\r\n                    phone : data.phone,\r\n                    gstin : \"\",\r\n                    nKGD:Number(0),\r\n                    sKGD:Number(0),\r\n                    tKGD:Number(0),\r\n                    delivery:Number(0),\r\n                    date : serverTimestamp(),\r\n                })      \r\n                .then(() =>{\r\n                    showAlert(` ${data.fname} is Registered successfully. He can now order Gas Cylinder.`,'info')\r\n                    setData({\r\n                        fname:\"\",\r\n                        lname:\"\",\r\n                        phone:\"\",\r\n                        address:\"\",\r\n                        city:\"\",\r\n                        state:\"\",\r\n                        zip:\"\",\r\n                        country:\"\",\r\n                    })\r\n                }).catch(error => { showAlert(error.message); });\r\n            }\r\n        }).catch(error => { showAlert(error.message); });\r\n        \r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div style={{backgroundColor:\"white\", borderRadius:\"0.75rem\", width:\"90%\"}} className=\"container py-4 mt-5\">\r\n                <div className=\" mb-4\">\r\n                    <h3 className=\"text-center fw-bold\">New Customer Registration</h3>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-10 mx-auto\">\r\n                        <form onSubmit={formSubmit}>\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-6 \">\r\n                            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\" >First Name</label>\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"First name\" name=\"fname\" value={data.fname} onChange={InputEvent} required/>\r\n                            </div>\r\n                            <div className=\"col-lg-6\">\r\n                            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\" >Last Name</label>\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Last name\" name=\"lname\" value={data.lname} onChange={InputEvent} required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6 mb-3 pr-lg-2\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\">Mobile Number</label>\r\n                        <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" className=\"form-control round\" id=\"exampleFormControlInput1\" name=\"phone\" value={data.phone} onChange={InputEvent} placeholder=\"Enter Customer's Mobile Number\" pattern=\"[6-9]{1}[0-9]{9}\" required/>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\">Address Details</label>\r\n                        <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" className=\"form-control round\" id=\"exampleFormControlInput1\" name=\"address\" value={data.address} onChange={InputEvent} placeholder=\"Building/house number \" required/>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Street Name\" name=\"state\" value={data.street} onChange={InputEvent} required/>\r\n                            </div>\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" list=\"cname\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"City\" name=\"city\" value={data.city} onChange={InputEvent} required/>\r\n                            <datalist id=\"cname\">\r\n                                <option>Bengaluru</option>\r\n                            </datalist>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" list=\"sname\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"State\" name=\"state\" value={data.state} onChange={InputEvent} required/>\r\n                            <datalist id=\"sname\">\r\n                                <option>Karnataka</option>\r\n                            </datalist>\r\n                            </div>\r\n                            <div className=\"col-lg-6\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"number\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Zip/Postal Code\" name=\"zip\" value={data.zip} onChange={InputEvent} pattern=\"[1-9]{1}[0-9]{5}\" required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col float-end\">\r\n                            <button className=\"btn btn-primary px-5\" type=\"submit\">Register</button>\r\n                        </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Registration;"],"sourceRoot":""}