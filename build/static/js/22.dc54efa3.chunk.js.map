{"version":3,"sources":["Registration.js"],"names":["Registration","showAlert","retrievedname","sessionStorage","getItem","useState","fname","lname","phone","address","city","state","zip","country","data","setData","InputEvent","event","target","name","value","preVal","style","backgroundColor","borderRadius","width","className","onSubmit","e","preventDefault","firestore","collection","where","get","then","doc","empty","set","EName","gstin","nKGD","Number","sKGD","tKGD","delivery","date","serverTimestamp","catch","error","message","htmlFor","fontSize","type","id","placeholder","onChange","required","pattern"],"mappings":"qSAmHeA,UA/GK,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UAEdC,EAAgBC,eAAeC,QAAQ,QAC3C,EAAsBC,mBAAS,CAC3BC,MAAM,GACNC,MAAM,GACNC,MAAM,GACNC,QAAQ,GACRC,KAAK,GACLC,MAAM,GACNC,IAAI,GACJC,QAAQ,KARZ,mBAAMC,EAAN,KAAWC,EAAX,KAWMC,EAAY,SAACC,GACf,MAAqBA,EAAMC,OAApBC,EAAP,EAAOA,KAAKC,EAAZ,EAAYA,MACZL,GAAQ,SAACM,GACL,kCAAUA,GAAV,kBAAmBF,EAAQC,QAwCnC,OACI,mCACI,sBAAKE,MAAO,CAACC,gBAAgB,QAASC,aAAa,UAAWC,MAAM,OAAQC,UAAU,sBAAtF,UACI,qBAAKA,UAAU,QAAf,SACI,oBAAIA,UAAU,sBAAd,yCAEJ,qBAAKA,UAAU,MAAf,SACI,qBAAKA,UAAU,iBAAf,SACI,uBAAMC,SA7CR,SAACC,GACfA,EAAEC,iBACFC,IAAUC,WAAW,aAAaC,MAAM,QAAS,KAAMlB,EAAKN,OAAOyB,MAClEC,MAAK,SAACC,GACCA,EAAIC,MAGJN,IAAUC,WAAW,aAAaI,IAAlC,cAA6CrB,EAAKN,QAAS6B,IAAI,CAC3DlB,KAAOL,EAAKR,MAAO,IAAIQ,EAAKP,MAC5B+B,MAAOpC,EACPO,QAASK,EAAKL,QAAQ,IAAIK,EAAKJ,KAAK,IAAII,EAAKH,MAAM,IAAIG,EAAKD,QAAQ,IAAIC,EAAKF,IAC7EJ,MAAQM,EAAKN,MACb+B,MAAQ,GACRC,KAAKC,OAAO,GACZC,KAAKD,OAAO,GACZE,KAAKF,OAAO,GACZG,SAASH,OAAO,GAChBI,KAAOC,gBAEVZ,MAAK,WACFjC,EAAU,IAAD,OAAKa,EAAKR,MAAV,gEACTS,EAAQ,CACJT,MAAM,GACNC,MAAM,GACNC,MAAM,GACNC,QAAQ,GACRC,KAAK,GACLC,MAAM,GACNC,IAAI,GACJC,QAAQ,QAEbkC,OAAM,SAAAC,GAAW/C,EAAU+C,EAAMC,YA1BpChD,EAAU,sBAAsB,aA4BrC8C,OAAM,SAAAC,GAAW/C,EAAU+C,EAAMC,aAYpB,UACA,sBAAKvB,UAAU,WAAf,UACI,sBAAKA,UAAU,YAAf,UACA,uBAAOwB,QAAQ,2BAA2BxB,UAAU,qBAApD,wBACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAOC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,aAAanC,KAAK,QAAQC,MAAON,EAAKR,MAAOiD,SAAUvC,EAAYwC,UAAQ,OAEzO,sBAAK9B,UAAU,WAAf,UACA,uBAAOwB,QAAQ,2BAA2BxB,UAAU,qBAApD,uBACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAOC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,YAAYnC,KAAK,QAAQC,MAAON,EAAKP,MAAOgD,SAAUvC,EAAYwC,UAAQ,UAG5O,sBAAK9B,UAAU,wBAAf,UACA,uBAAOwB,QAAQ,2BAA2BxB,UAAU,qBAApD,2BACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAO1B,UAAU,qBAAqB2B,GAAG,2BAA2BlC,KAAK,QAAQC,MAAON,EAAKN,MAAO+C,SAAUvC,EAAYsC,YAAY,iCAAiCG,QAAQ,mBAAmBD,UAAQ,OAExR,sBAAK9B,UAAU,OAAf,UACA,uBAAOwB,QAAQ,2BAA2BxB,UAAU,qBAApD,6BACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAO1B,UAAU,qBAAqB2B,GAAG,2BAA2BlC,KAAK,UAAUC,MAAON,EAAKL,QAAS8C,SAAUvC,EAAYsC,YAAY,2BAA2BE,UAAQ,OAE3P,sBAAK9B,UAAU,MAAf,UACI,qBAAKA,UAAU,gBAAf,SACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAOC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,OAAOnC,KAAK,OAAOC,MAAON,EAAKJ,KAAM6C,SAAUvC,EAAYwC,UAAQ,MAEjO,qBAAK9B,UAAU,gBAAf,SACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAOC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,QAAQnC,KAAK,QAAQC,MAAON,EAAKH,MAAO4C,SAAUvC,EAAYwC,UAAQ,SAGxO,sBAAK9B,UAAU,WAAf,UACI,qBAAKA,UAAU,gBAAf,SACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,SAASC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,kBAAkBnC,KAAK,MAAMC,MAAON,EAAKF,IAAK2C,SAAUvC,EAAYyC,QAAQ,mBAAmBD,UAAQ,MAEvQ,qBAAK9B,UAAU,WAAf,SACA,uBAAOJ,MAAO,CAACC,gBAAgB,mBAAoB4B,SAAS,YAAaC,KAAK,OAAOC,GAAG,2BAA2B3B,UAAU,qBAAqB4B,YAAY,UAAUnC,KAAK,UAAUC,MAAON,EAAKD,QAAS0C,SAAUvC,EAAYwC,UAAQ,SAG9O,qBAAK9B,UAAU,gBAAf,SACI,wBAAQA,UAAU,uBAAuB0B,KAAK,SAA9C","file":"static/js/22.dc54efa3.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport {firestore} from './Firebase';\r\nimport {serverTimestamp} from \"firebase/firestore\";\r\n\r\nconst Registration =({showAlert}) => {\r\n\r\n    var retrievedname = sessionStorage.getItem('name');\r\n    const[data,setData] = useState({\r\n        fname:\"\",\r\n        lname:\"\",\r\n        phone:\"\",\r\n        address:\"\",\r\n        city:\"\",\r\n        state:\"\",\r\n        zip:\"\",\r\n        country:\"\",\r\n    });\r\n\r\n    const InputEvent= (event)=>{\r\n        const {name,value} = event.target;\r\n        setData((preVal) =>{\r\n            return{...preVal, [name] : value,}\r\n        });\r\n    };\r\n    const formSubmit =(e) =>{\r\n        e.preventDefault();\r\n        firestore.collection(\"customers\").where(\"phone\", \"==\", data.phone).get()\r\n        .then((doc) => { \r\n            if(!doc.empty){\r\n                showAlert(\"user already exists\",\"danger\");\r\n            }else{\r\n                firestore.collection(\"customers\").doc(`GGTD${data.phone}`).set({\r\n                    name : data.fname+ \" \"+data.lname,\r\n                    EName: retrievedname,\r\n                    address: data.address+\",\"+data.city+\",\"+data.state+\",\"+data.country+\"-\"+data.zip,\r\n                    phone : data.phone,\r\n                    gstin : \"\",\r\n                    nKGD:Number(0),\r\n                    sKGD:Number(0),\r\n                    tKGD:Number(0),\r\n                    delivery:Number(0),\r\n                    date : serverTimestamp(),\r\n                })      \r\n                .then(() =>{\r\n                    showAlert(` ${data.fname} is Registered successfully. He can now order Gas Cylinder.`)\r\n                    setData({\r\n                        fname:\"\",\r\n                        lname:\"\",\r\n                        phone:\"\",\r\n                        address:\"\",\r\n                        city:\"\",\r\n                        state:\"\",\r\n                        zip:\"\",\r\n                        country:\"\",\r\n                    })\r\n                }).catch(error => { showAlert(error.message); });\r\n            }\r\n        }).catch(error => { showAlert(error.message); });\r\n        \r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div style={{backgroundColor:\"white\", borderRadius:\"0.75rem\", width:\"90%\"}} className=\"container py-4 mt-5\">\r\n                <div className=\" mb-4\">\r\n                    <h3 className=\"text-center fw-bold\">New Customer Registration</h3>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-10 mx-auto\">\r\n                        <form onSubmit={formSubmit}>\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-6 \">\r\n                            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\" >First Name</label>\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"First name\" name=\"fname\" value={data.fname} onChange={InputEvent} required/>\r\n                            </div>\r\n                            <div className=\"col-lg-6\">\r\n                            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\" >Last Name</label>\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Last name\" name=\"lname\" value={data.lname} onChange={InputEvent} required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6 mb-3 pr-lg-2\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\">Mobile Number</label>\r\n                        <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" className=\"form-control round\" id=\"exampleFormControlInput1\" name=\"phone\" value={data.phone} onChange={InputEvent} placeholder=\"Enter Customer's Mobile Number\" pattern=\"[6-9]{1}[0-9]{9}\" required/>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label fw-bold\">Address Details</label>\r\n                        <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" className=\"form-control round\" id=\"exampleFormControlInput1\" name=\"address\" value={data.address} onChange={InputEvent} placeholder=\"Enter Customer's Address\" required/>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"City\" name=\"city\" value={data.city} onChange={InputEvent} required/>\r\n                            </div>\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"State\" name=\"state\" value={data.state} onChange={InputEvent} required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-6 mb-3\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"number\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Zip/Postal Code\" name=\"zip\" value={data.zip} onChange={InputEvent} pattern=\"[1-9]{1}[0-9]{5}\" required/>\r\n                            </div>\r\n                            <div className=\"col-lg-6\">\r\n                            <input style={{backgroundColor:\"rgb(231 232 239)\", fontSize:'1.125rem'}} type=\"text\" id=\"exampleFormControlInput1\" className=\"form-control round\" placeholder=\"Country\" name=\"country\" value={data.country} onChange={InputEvent} required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col float-end\">\r\n                            <button className=\"btn btn-primary px-5\" type=\"submit\">Register</button>\r\n                        </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Registration;"],"sourceRoot":""}