/*! For license information please see 6.8e8c23bd.chunk.js.LICENSE.txt */
(this.webpackJsonpgasonwheelz=this.webpackJsonpgasonwheelz||[]).push([[6],[function(e,t,n){e.exports=n(126)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return ne})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return G})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return ue})),n.d(t,"r",(function(){return te})),n.d(t,"s",(function(){return he})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return $})),n.d(t,"z",(function(){return N})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return E})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return R})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return D})),n.d(t,"G",(function(){return P})),n.d(t,"H",(function(){return K})),n.d(t,"I",(function(){return B})),n.d(t,"J",(function(){return Y})),n.d(t,"K",(function(){return Z})),n.d(t,"L",(function(){return ee})),n.d(t,"M",(function(){return Q})),n.d(t,"N",(function(){return fe})),n.d(t,"O",(function(){return le})),n.d(t,"P",(function(){return z})),n.d(t,"Q",(function(){return oe})),n.d(t,"R",(function(){return se})),n.d(t,"S",(function(){return ce})),n.d(t,"T",(function(){return M}));var r=n(6),i=n(17),a=n(35),o=n(10),u=n(11),s=n(95),c=n(2),l=n(3),f=!1,h=!1,d="${JSCORE_VERSION}",p=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database ("+d+") INTERNAL ASSERT FAILED: "+e)},y=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var t=y(e);return m.encodeByteArray(t,!0)},b=function(e){return g(e).replace(/\./g,"")},k=function(e){try{return m.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _(e){return w(void 0,e)}function w(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=w(e[n],t[n]));return e}var O=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function j(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b(JSON.stringify({alg:"none",type:"JWT"})),b(JSON.stringify(a)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function I(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function T(){return"object"===typeof self&&self.self===self}function S(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function A(){return x().indexOf("Electron/")>=0}function N(){var e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P(){return x().indexOf("MSAppHost/")>=0}function R(){return!0===f||!0===h}function D(){return!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){return"object"===typeof indexedDB}function M(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var F=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var o;return Object(c.a)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(Object(a.a)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(o),U.prototype.create),o}return n}(Object(s.a)(Error)),U=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function V(e,t){return e.replace(q,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var q=/\{\$([^}]+)}/g;function B(e){return JSON.parse(e)}function z(e){return JSON.stringify(e)}var W=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=B(k(a[0])||""),n=B(k(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},K=function(e){var t=W(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},H=function(e){var t=W(e).claims;return"object"===typeof t&&!0===t.admin};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function J(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(X(u)&&X(s)){if(!J(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function X(e){return null!==e&&"object"===typeof e}function Z(e){for(var t=[],n=function(){var e=Object(i.a)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function ee(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(i.a)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function te(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ne=function(){function e(){Object(c.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(l.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function re(e,t){var n=new ie(e,t);return n.subscribe.bind(n)}var ie=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var i,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=ae),void 0===i.error&&(i.error=ae),void 0===i.complete&&(i.complete=ae);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(e){}})),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ae(){}var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ue(e,t){return"".concat(e," failed: ").concat(t," argument ")}function se(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ue(e,t)+"must be a valid function.")}function ce(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ue(e,t)+"must be a valid context object.")}var le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,p(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function he(e){return e&&e._delegate?e._delegate:e}}).call(this,n(58))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _n})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return Ze})),n.d(t,"e",(function(){return nt})),n.d(t,"f",(function(){return Tt})),n.d(t,"g",(function(){return Ne})),n.d(t,"h",(function(){return Mt})),n.d(t,"i",(function(){return qt})),n.d(t,"j",(function(){return ji})),n.d(t,"k",(function(){return Bt})),n.d(t,"l",(function(){return fi})),n.d(t,"m",(function(){return zt})),n.d(t,"n",(function(){return Vt})),n.d(t,"o",(function(){return Kt})),n.d(t,"p",(function(){return Ht})),n.d(t,"q",(function(){return Jt})),n.d(t,"r",(function(){return dn})),n.d(t,"s",(function(){return vn})),n.d(t,"t",(function(){return mn})),n.d(t,"u",(function(){return xr})),n.d(t,"v",(function(){return En})),n.d(t,"w",(function(){return Tn})),n.d(t,"x",(function(){return Cn})),n.d(t,"y",(function(){return Nn})),n.d(t,"z",(function(){return Rn})),n.d(t,"A",(function(){return Ln})),n.d(t,"B",(function(){return Fn})),n.d(t,"C",(function(){return Un})),n.d(t,"D",(function(){return qn})),n.d(t,"E",(function(){return Bn})),n.d(t,"F",(function(){return sa})),n.d(t,"G",(function(){return ia})),n.d(t,"H",(function(){return Gi})),n.d(t,"I",(function(){return Hi})),n.d(t,"J",(function(){return Je})),n.d(t,"K",(function(){return Tr})),n.d(t,"L",(function(){return Wt})),n.d(t,"M",(function(){return Hn})),n.d(t,"N",(function(){return Qn})),n.d(t,"O",(function(){return Yn})),n.d(t,"P",(function(){return er})),n.d(t,"Q",(function(){return nr})),n.d(t,"R",(function(){return rr})),n.d(t,"S",(function(){return nn})),n.d(t,"T",(function(){return hr})),n.d(t,"U",(function(){return vr})),n.d(t,"V",(function(){return br})),n.d(t,"W",(function(){return We})),n.d(t,"X",(function(){return F})),n.d(t,"Y",(function(){return ze})),n.d(t,"Z",(function(){return Ve})),n.d(t,"ab",(function(){return A})),n.d(t,"bb",(function(){return Da})),n.d(t,"cb",(function(){return fa})),n.d(t,"db",(function(){return N})),n.d(t,"eb",(function(){return L})),n.d(t,"fb",(function(){return V})),n.d(t,"gb",(function(){return Pe})),n.d(t,"hb",(function(){return Or})),n.d(t,"ib",(function(){return Pi})),n.d(t,"jb",(function(){return Mi})),n.d(t,"kb",(function(){return Di})),n.d(t,"lb",(function(){return Yi})),n.d(t,"mb",(function(){return ea})),n.d(t,"nb",(function(){return Xi})),n.d(t,"ob",(function(){return Qr})),n.d(t,"pb",(function(){return na})),n.d(t,"qb",(function(){return Ma})),n.d(t,"rb",(function(){return yi})),n.d(t,"sb",(function(){return Ua})),n.d(t,"tb",(function(){return Wa})),n.d(t,"ub",(function(){return O})),n.d(t,"vb",(function(){return gi})),n.d(t,"wb",(function(){return pi})),n.d(t,"xb",(function(){return wi}));var r,i=n(24),a=n(19),o=n(35),u=n(10),s=n(11),c=n(6),l=n(0),f=n.n(l),h=n(17),d=n(4),p=n(2),v=n(3),y=n(18),m=n(5),g=n(1),b=n(16),k=n(47),_=n(21),w=n(20),O={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function x(){return Object(m.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var E=function(){var e;return e={},Object(m.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(m.a)(e,"argument-error",""),Object(m.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(m.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(m.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(m.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(m.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(m.a)(e,"cors-unsupported","This browser is not supported."),Object(m.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(m.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(m.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(m.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(m.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(m.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(m.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(m.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(m.a)(e,"expired-action-code","The action code has expired."),Object(m.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(m.a)(e,"internal-error","An internal AuthError has occurred."),Object(m.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(m.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(m.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(m.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(m.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(m.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(m.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(m.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(m.a)(e,"invalid-email","The email address is badly formatted."),Object(m.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(m.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(m.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(m.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(m.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(m.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(m.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(m.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(m.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(m.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(m.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(m.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(m.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(m.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(m.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(m.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(m.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(m.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(m.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(m.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(m.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(m.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(m.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(m.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(m.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(m.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(m.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(m.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(m.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(m.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(m.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(m.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(m.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(m.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(m.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(m.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(m.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(m.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(m.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(m.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(m.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(m.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(m.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(m.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(m.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(m.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(m.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(m.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(m.a)(e,"timeout","The operation has timed out."),Object(m.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(m.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(m.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(m.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(m.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(m.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(m.a)(e,"unverified-email","The operation requires a verified email."),Object(m.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(m.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(m.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(m.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(m.a)(e,"user-signed-out",""),Object(m.a)(e,"weak-password","The password must be 6 characters long or more."),Object(m.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(m.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},I=x,T=new g.b("auth","Firebase",x()),S=new _.b("@firebase/auth");function C(e){if(S.logLevel<=_.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.error.apply(S,["Auth (".concat(b.SDK_VERSION,"): ").concat(e)].concat(n))}}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw D.apply(void 0,[e].concat(n))}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return D.apply(void 0,[e].concat(n))}function P(e,t,n){var r=Object.assign(Object.assign({},I()),Object(m.a)({},t,n));return new g.b("auth","Firebase",r).create(t,{appName:e.name})}function R(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&A(e,"argument-error"),P(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(y.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(y.a)(o)))}return T.create.apply(T,[e].concat(n))}function L(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw D.apply(void 0,[t].concat(r))}}function M(e){var t="INTERNAL ASSERTION FAILED: "+e;throw C(t),new Error(t)}function F(e,t){e||M(t)}var U=new Map;function V(e){F(e instanceof Function,"Expected a class definition");var t=U.get(e);return t?(F(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,U.set(e,t),t)}function q(e,t){var n=Object(b._getProvider)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(Object(g.o)(i,null!==t&&void 0!==t?t:{}))return r;A(r,"already-initialized")}return n.initialize({options:t})}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function z(){return"http:"===W()||"https:"===W()}function W(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var K=function(){function e(t,n){Object(p.a)(this,e),this.shortDelay=t,this.longDelay=n,F(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(g.B)()||Object(g.E)()}return Object(v.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(z()||Object(g.w)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function H(e,t){F(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var G=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void M("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void M("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void M("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Q=(r={},Object(m.a)(r,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(m.a)(r,"MISSING_CUSTOM_TOKEN","internal-error"),Object(m.a)(r,"INVALID_IDENTIFIER","invalid-email"),Object(m.a)(r,"MISSING_CONTINUE_URI","internal-error"),Object(m.a)(r,"INVALID_PASSWORD","wrong-password"),Object(m.a)(r,"MISSING_PASSWORD","internal-error"),Object(m.a)(r,"EMAIL_EXISTS","email-already-in-use"),Object(m.a)(r,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(m.a)(r,"INVALID_IDP_RESPONSE","invalid-credential"),Object(m.a)(r,"INVALID_PENDING_TOKEN","invalid-credential"),Object(m.a)(r,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(m.a)(r,"MISSING_REQ_TYPE","internal-error"),Object(m.a)(r,"EMAIL_NOT_FOUND","user-not-found"),Object(m.a)(r,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(m.a)(r,"EXPIRED_OOB_CODE","expired-action-code"),Object(m.a)(r,"INVALID_OOB_CODE","invalid-action-code"),Object(m.a)(r,"MISSING_OOB_CODE","internal-error"),Object(m.a)(r,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(m.a)(r,"INVALID_ID_TOKEN","invalid-user-token"),Object(m.a)(r,"TOKEN_EXPIRED","user-token-expired"),Object(m.a)(r,"USER_NOT_FOUND","user-token-expired"),Object(m.a)(r,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(m.a)(r,"INVALID_CODE","invalid-verification-code"),Object(m.a)(r,"INVALID_SESSION_INFO","invalid-verification-id"),Object(m.a)(r,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(m.a)(r,"MISSING_SESSION_INFO","missing-verification-id"),Object(m.a)(r,"SESSION_EXPIRED","code-expired"),Object(m.a)(r,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(m.a)(r,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(m.a)(r,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(m.a)(r,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(m.a)(r,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(m.a)(r,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(m.a)(r,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(m.a)(r,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(m.a)(r,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(m.a)(r,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(m.a)(r,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),r),$=new K(3e4,6e4);function Y(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function J(e,t,n,r){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(f.a.mark((function e(t,n,r,i){var a,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Z(t,a,Object(d.a)(f.a.mark((function e(){var a,o,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(g.K)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",G.fetch()(re(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o,u,s,c,l,d,p,v;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Q),n),e.prev=2,a=new ie(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ae(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Object(h.a)(c,2),d=l[0],p=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ae(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ae(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ae(t,"user-disabled",u);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw P(t,v,p);case 34:A(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof g.c)){e.next=41;break}throw e.t0;case 41:A(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function te(e,t,n,r){return ne.apply(this,arguments)}function ne(){return(ne=Object(d.a)(f.a.mark((function e(t,n,r,i){var a,o,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,J(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&A(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?H(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ie=function(){function e(t){var n=this;Object(p.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(N(n.auth,"network-request-failed"))}),$.get())}))}return Object(v.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ae(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=N(e,t,r);return i.customData._tokenResponse=n,i}function oe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function de(){return(de=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(g.s)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,L((a=ve(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:he(pe(a.auth_time)),issuedAtTime:he(pe(a.iat)),expirationTime:he(pe(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return 1e3*Number(e)}function ve(e){var t=e.split("."),n=Object(h.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return C("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(g.h)(i);return o?JSON.parse(o):(C("Failed to decode base64 JWT payload"),null)}catch(u){return C("Caught error parsing JWT payload as JSON",u),null}}function ye(e,t){return me.apply(this,arguments)}function me(){return(me=Object(d.a)(f.a.mark((function e(t,n){var r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof g.c&&ge(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ge(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var be=function(){function e(t){Object(p.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(v.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ke=function(){function e(t,n){Object(p.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(v.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=he(this.lastLoginAt),this.creationTime=he(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _e(e){return we.apply(this,arguments)}function we(){return(we=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s,c,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ye(t,le(r,{idToken:i}));case 6:L(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?xe(o.providerUserInfo):[],s=je(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ke(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(g.s)(t),e.next=3,_e(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(y.a)(n),Object(y.a)(t))}function xe(e){return e.map((function(e){var t=e.providerId,n=Object(k.a)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ee(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(d.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,{},Object(d.a)(f.a.mark((function e(){var r,i,a,o,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.K)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=re(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",G.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(){function e(){Object(p.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(v.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){L(e.idToken,"internal-error"),L("undefined"!==typeof e.idToken,"internal-error"),L("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ve(e);return L(t,"internal-error"),L("undefined"!==typeof t.exp,"internal-error"),L("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],L(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return M("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(L("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(L("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(L("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Se(e,t){L("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ce=function(){function e(t){Object(p.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Object(k.a)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(y.a)(a.providerData):[],this.metadata=new ke(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(v.a)(e,[{key:"getIdToken",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(L(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return de.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Oe.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_e(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ye(this,oe(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,_=n.isAnonymous,w=n.providerData,O=n.stsTokenManager;L(b&&O,t,"internal-error");var j=Te.fromJSON(this.name,O);L("string"===typeof b,t,"internal-error"),Se(f,t.name),Se(h,t.name),L("boolean"===typeof k,t,"internal-error"),L("boolean"===typeof _,t,"internal-error"),Se(d,t.name),Se(p,t.name),Se(v,t.name),Se(y,t.name),Se(m,t.name),Se(g,t.name);var x=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:j,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(x.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(x._redirectEventId=y),x}},{key:"_fromIdTokenResponse",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r){var i,a,o,u=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Te).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_e(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ae=function(){function e(){Object(p.a)(this,e),this.type="NONE",this.storage={}}return Object(v.a)(e,[{key:"_isAvailable",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ae.type="NONE";var Ne=Ae;function Pe(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Re=function(){function e(t,n,r){Object(p.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Pe(this.userKey,a.apiKey,o),this.fullPersistenceKey=Pe("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(v.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ce._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r){var i,a,o,u,s,l,h,p,v,y,m,g=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(V(Ne),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||V(Ne),u=Pe(i,n.config.apiKey,n.name),s=null,l=Object(c.a)(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=29;break}return p=h.value,t.prev=14,t.next=17,p._get(u);case 17:if(!(v=t.sent)){t.next=23;break}return y=Ce._fromJSON(n,v),p!==o&&(s=y),o=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function De(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qe(t))return"Blackberry";if(Be(t))return"Webos";if(Me(t))return"Safari";if((t.includes("chrome/")||Fe(t))&&!t.includes("edge/"))return"Chrome";if(Ve(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/firefox\//i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/crios\//i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/iemobile/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/android/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/blackberry/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/webos/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/iphone|ipad|ipod/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ke(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return ze(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function He(){return Object(g.z)()&&10===document.documentMode}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.t)();return ze(e)||Ve(e)||Be(e)||qe(e)||/windows phone/i.test(e)||Ue(e)}function Qe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=De(Object(g.t)());break;case"Worker":t="".concat(De(Object(g.t)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(b.SDK_VERSION,"/").concat(r)}var $e=function(){function e(t){Object(p.a)(this,e),this.auth=t,this.queue=[]}return Object(v.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Object(c.a)(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Object(c.a)(r);try{for(u.s();!(s=u.n()).done;){l=s.value;try{l()}catch(f){}}}catch(h){u.e(h)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ye=function(){function e(t,n,r){Object(p.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xe(this),this.idTokenSubscription=new Xe(this),this.beforeStateQueue=new $e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(v.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=V(t)),this._initializationPromise=this.queue(Object(d.a)(f.a.mark((function r(){var i,a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Re.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return L(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(g.s)(t):null)&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r=this,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&L(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(d.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(V(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new g.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return L(n=t&&V(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Re.create(this,[V(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return L(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qe(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Je(e){return Object(g.s)(e)}var Xe=function(){function e(t){var n=this;Object(p.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(g.m)((function(e){return n.observer=e}))}return Object(v.a)(e,[{key:"next",get:function(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ze(e,t,n){var r=Je(e);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=et(t),o=function(e){var t=et(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:tt(r.substr(a.length+1))}}var o=r.split(":"),u=Object(h.a)(o,2);return{host:u[0],port:tt(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function et(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tt(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var nt=function(){function e(t,n){Object(p.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(v.a)(e,[{key:"toJSON",value:function(){return M("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return M("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return M("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return M("not implemented")}}]),e}();function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:resetPassword",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPassword",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendOobCode",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ft(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ft(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ft(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ft(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(p.a)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Object(v.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ct(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_t(t,{email:this._email,oobCode:this._password}));case 5:A(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",at(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ot(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:A(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(nt);function Et(e,t){return It.apply(this,arguments)}function It(){return(It=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithIdp",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(v.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Et(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Et(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Et(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(g.K)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):A("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Object(k.a)(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(nt);function St(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendVerificationCode",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return(At=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=Object(d.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ae(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pt=Object(m.a)({},"USER_NOT_FOUND","user-not-found");function Rt(){return(Rt=Object(d.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,r),Pt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(v.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return At.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Nt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Rt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(nt);var Lt=function(){function e(t){var n,r,i,a,o,u;Object(p.a)(this,e);var s=Object(g.L)(Object(g.r)(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);L(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Object(v.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(g.L)(Object(g.r)(e)).link,n=t?Object(g.L)(Object(g.r)(t)).deep_link_id:null,r=Object(g.L)(Object(g.r)(e)).deep_link_id;return(r?Object(g.L)(Object(g.r)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Mt=function(){function e(){Object(p.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(v.a)(e,null,[{key:"credential",value:function(e,t){return xt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Lt.parseLink(t);return L(n,"argument-error"),xt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Mt.PROVIDER_ID="password",Mt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ft=function(){function e(t){Object(p.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(v.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ut=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(v.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(y.a)(this.scopes)}}]),n}(Ft),Vt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return L(e.idToken||e.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return L("providerId"in t&&"signInMethod"in t,"argument-error"),Tt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ut),qt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(p.a)(this,n),t.call(this,"facebook.com")}return Object(v.a)(n,null,[{key:"credential",value:function(e){return Tt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ut);qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";var Bt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(v.a)(n,null,[{key:"credential",value:function(e,t){return Tt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ut);Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";var zt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(p.a)(this,n),t.call(this,"github.com")}return Object(v.a)(n,null,[{key:"credential",value:function(e){return Tt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ut);zt.GITHUB_SIGN_IN_METHOD="github.com",zt.PROVIDER_ID="github.com";var Wt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(v.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Et(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Et(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Et(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nt),Kt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(p.a)(this,n),L(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Object(v.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Wt.fromJSON(e);return L(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Wt._create(r,n)}catch(i){return null}}}]),n}(Ft),Ht=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(p.a)(this,n),t.call(this,"twitter.com")}return Object(v.a)(n,null,[{key:"credential",value:function(e,t){return Tt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ut);function Gt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signUp",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ht.TWITTER_SIGN_IN_METHOD="twitter.com",Ht.PROVIDER_ID="twitter.com";var $t=function(){function e(t){Object(p.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(v.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r,i){var a,o,u,s,c=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ce._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yt(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(d.a)(f.a.mark((function t(n,r,i){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(d.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $t({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Gt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$t._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,a){var u,s;return Object(p.a)(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=a,Object.setPrototypeOf(Object(o.a)(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return Object(v.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(g.c);function en(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zt._fromErrorAndOperation(e,n,t,r);throw n}))}function tn(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.s)(t),e.next=3,un(!0,r,n);case 3:return e.t0=se,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tn(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return(on=Object(d.a)(f.a.mark((function e(t,n){var r,i,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ye,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$t._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n);case 2:i=tn(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",L(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return(ln=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ye(t,en(i,a,n,t),r);case 6:return L((o=e.sent).idToken,i,"internal-error"),L(u=ve(o.idToken),i,"internal-error"),s=u.sub,L(t.uid===s,i,"user-mismatch"),e.abrupt("return",$t._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&A(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function fn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,en(t,i,n);case 4:return a=e.sent,e.next=7,$t._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(Je(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(d.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.s)(t),e.next=3,un(!1,r,n.providerId);case 3:return e.abrupt("return",an(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(Object(g.s)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithCustomToken",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(d.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je(t),e.next=3,bn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,$t._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var On=function(){function e(t,n){Object(p.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(v.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?jn._fromServerResponse(e,t):A(e,"internal-error")}}]),e}(),jn=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(v.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(On);function xn(e,t,n){var r;L((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),L("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(L(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(L(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function En(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),a={requestType:"PASSWORD_RESET",email:n},r&&xn(i,a,r),e.next=5,vt(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(d.a)(f.a.mark((function e(t,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(Object(g.s)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(Object(g.s)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.s)(t),e.next=3,rt(r,{oobCode:n});case 3:i=e.sent,L(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return L(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:L(i.mfaInfo,r,"internal-error");case 13:L(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=On._fromServerResponse(Je(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(d.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(Object(g.s)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t,n){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),e.next=3,Gt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$t._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t,n){return dn(Object(g.s)(e),Mt.credential(t,n))}function Un(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),a={requestType:"EMAIL_SIGNIN",email:n},L(r.handleCodeInApp,i,"argument-error"),r&&xn(i,a,r),e.next=6,mt(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t){var n=Lt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Bn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),L((a=Mt.credentialWithLink(n,r||B()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",dn(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:createAuthUri",Y(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z()?B():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Wn(Object(g.s)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return $n.apply(this,arguments)}function $n(){return($n=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.s)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xn(r.auth,a,n),e.next=8,dt(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xn(i.auth,o,r),e.next=8,bt(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o,u,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(g.s)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ye(a,Xn(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){return ir(Object(g.s)(e),t,null)}function rr(e,t){return ir(Object(g.s)(e),null,t)}function ir(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ye(t,at(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var or=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(p.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ur=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,a){var o;return Object(p.a)(this,n),(o=t.call(this,e,r,i)).username=a,o}return n}(or),sr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"facebook.com",r)}return n}(or),cr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return n}(ur),lr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"google.com",r)}return n}(or),fr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){return Object(p.a)(this,n),t.call(this,e,"twitter.com",r,i)}return n}(ur);function hr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ve(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new or(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sr(a,i);case"github.com":return new cr(a,i);case"google.com":return new lr(a,i);case"twitter.com":return new fr(a,i,e.screenName||null);case"custom":case"anonymous":return new or(a,null);default:return new or(a,r,i)}}(n)}var dr=function(){function e(t,n){Object(p.a)(this,e),this.type=t,this.credential=n}return Object(v.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(m.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),pr=function(){function e(t,n,r){Object(p.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(v.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Je(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return On._fromServerResponse(r,e)}));L(i.mfaPendingCredential,r,"internal-error");var o=dr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(d.a)(f.a.mark((function e(t){var a,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$t._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return L(n.user,r,"internal-error"),e.abrupt("return",$t._forOperation(n.user,n.operationType,u));case 17:A(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function vr(e,t){var n,r=Object(g.s)(e),i=t;return L(t.customData.operationType,r,"argument-error"),L(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pr._fromError(r,i)}function yr(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:start",Y(e,t))}var mr=function(){function e(t){var n=this;Object(p.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return On._fromServerResponse(t.auth,e)})))}))}return Object(v.a)(e,[{key:"getSession",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=dr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ye(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ye(this.user,J(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gr=new WeakMap;function br(e){var t=Object(g.s)(e);return gr.has(t)||gr.set(t,mr._fromUser(t)),gr.get(t)}var kr="__sak",_r=function(){function e(t,n){Object(p.a)(this,e),this.storageRetriever=t,this.type=n}return Object(v.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(kr,"1"),this.storage.removeItem(kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(g.t)();return Me(e)||ze(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ge(),e._shouldAllowMigration=!0,e}return Object(v.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);He()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(d.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(_r);wr.type="LOCAL";var Or=wr,jr=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(p.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(v.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(_r);jr.type="SESSION";var xr=jr;function Er(e){return Promise.all(e.map(function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ir=function(){function e(t){Object(p.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(v.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Er(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Tr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ir.receivers=[];var Sr=function(){function e(t){Object(p.a)(this,e),this.target=t,this.handlers=new Set}return Object(v.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Tr("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Cr(){return window}function Ar(){return"undefined"!==typeof Cr().WorkerGlobalScope&&"function"===typeof Cr().importScripts}function Nr(){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Rr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Dr="firebaseLocalStorageDb",Lr="firebaseLocalStorage",Mr="fbase_key",Fr=function(){function e(t){Object(p.a)(this,e),this.request=t}return Object(v.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ur(e,t){return e.transaction([Lr],t?"readwrite":"readonly").objectStore(Lr)}function Vr(){var e=indexedDB.deleteDatabase(Dr);return new Fr(e).toPromise()}function qr(){var e=indexedDB.open(Dr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lr,{keyPath:Mr})}catch(r){n(r)}})),e.addEventListener("success",Object(d.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lr)){n.next=12;break}return r.close(),n.next=5,Vr();case 5:return n.t0=t,n.next=8,qr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Br(e,t,n){return zr.apply(this,arguments)}function zr(){return(zr=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ur(t,!0).put((i={},Object(m.a)(i,Mr,n),Object(m.a)(i,"value",r),i)),e.abrupt("return",new Fr(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=Object(d.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t,!1).get(n),e.next=3,new Fr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){var n=Ur(e,!0).delete(t);return new Fr(n).toPromise()}var Gr=function(){function e(){Object(p.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(v.a)(e,[{key:"_openDb",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ar()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ir._getInstance(Ar()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(d.a)(f.a.mark((function e(n,r){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Sr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Rr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qr();case 5:return t=e.sent,e.next=8,Br(t,kr,"1");case 8:return e.next=10,Hr(t,kr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Br(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Hr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,r,i,a,o,u,s,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ur(e,!1).getAll();return new Fr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(c.a)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(f){i.e(f)}finally{i.f()}for(l=0,h=Object.keys(this.localCache);l<h.length;l++)d=h[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Gr.type="LOCAL";var Qr=Gr;function $r(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:start",Y(e,t))}function Yr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=N("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ei=1e12,ti=function(){function e(t){Object(p.a)(this,e),this.auth=t,this.counter=ei,this._widgets=new Map}return Object(v.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ni(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ei;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ei;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ei,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ni=function(){function e(t,n,r){var i=this;Object(p.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;L(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(v.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ri=Zr("rcb"),ii=new K(3e4,6e4),ai="https://www.google.com/recaptcha/api.js?",oi=function(){function e(){Object(p.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cr().grecaptcha}return Object(v.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return L(ui(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Cr().grecaptcha):new Promise((function(r,i){var a=Cr().setTimeout((function(){i(N(e,"network-request-failed"))}),ii.get());Cr()[ri]=function(){Cr().clearTimeout(a),delete Cr()[ri];var o=Cr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(N(e,"internal-error"))},Xr("".concat(ai,"?").concat(Object(g.K)({onload:ri,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(N(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Cr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ui(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var si=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"load",value:function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ti(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ci="recaptcha",li={theme:"light",type:"image"},fi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},li),r=arguments.length>2?arguments[2]:void 0;Object(p.a)(this,e),this.parameters=n,this.type=ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Je(r),this.isInvisible="invisible"===this.parameters.size,L("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;L(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new si:new oi,this.validateStartingState()}return Object(v.a)(e,[{key:"verify",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,r,i=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Cr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){L(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(z()&&!Ar(),this.auth,"internal-error"),e.next=3,hi();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Yr(this.auth);case 8:L(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function hi(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var di=function(){function e(t,n){Object(p.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(v.a)(e,[{key:"confirm",value:function(e){var t=Dt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function pi(e,t,n){return vi.apply(this,arguments)}function vi(){return(vi=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),e.next=3,ki(i,n,Object(g.s)(r));case 3:return a=e.sent,e.abrupt("return",new di(a,(function(e){return dn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),e.next=3,un(!1,i,"phone");case 3:return e.next=5,ki(i.auth,n,Object(g.s)(r));case 5:return a=e.sent,e.abrupt("return",new di(a,(function(e){return vn(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(g.s)(t),e.next=3,ki(i.auth,n,Object(g.s)(r));case 3:return a=e.sent,e.abrupt("return",new di(a,(function(e){return mn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e,t,n){return _i.apply(this,arguments)}function _i(){return(_i=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,L("string"===typeof a,t,"argument-error"),L(r.type===ci,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return L("enroll"===u.type,t,"internal-error"),e.next=13,yr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return L("signin"===u.type,t,"internal-error"),L(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,$r(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,St(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function wi(e,t){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(Object(g.s)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ji=function(){function e(t){Object(p.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Je(t)}return Object(v.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return ki(this.auth,e,Object(g.s)(t))}}],[{key:"credential",value:function(e,t){return Dt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Dt._fromTokenResponse(n,r):null}}]),e}();function xi(e,t){return t?V(t):(L(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ji.PROVIDER_ID="phone",ji.PHONE_SIGN_IN_METHOD="phone";var Ei=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(v.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Et(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Et(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Et(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(nt);function Ii(e){return fn(e.auth,new Ei(e),e.bypassAuthState)}function Ti(e){var t=e.auth,n=e.user;return L(n,t,"internal-error"),cn(n,new Ei(e),e.bypassAuthState)}function Si(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,L(r=t.user,n,"internal-error"),e.abrupt("return",an(r,new Ei(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ai=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(p.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(v.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(d.a)(f.a.mark((function t(n,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Si;case"reauthViaPopup":case"reauthViaRedirect":return Ti;default:A(this.auth,"internal-error")}}},{key:"resolve",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ni=new K(2e3,1e4);function Pi(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),R(t,n,Ft),a=xi(i,r),o=new Ui(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((i=Object(g.s)(t)).auth,n,Ft),a=xi(i.auth,r),o=new Ui(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t,n){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((i=Object(g.s)(t)).auth,n,Ft),a=xi(i.auth,r),o=new Ui(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ui=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,a,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,r,a,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(o.a)(s),s}return Object(v.a)(n,[{key:"executeNotNull",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return L(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(1===this.filter.length,"Popup operations only handle one event"),t=Tr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(N(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(N(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(N(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ni.get())}()}}]),n}(Ai);Ui.currentPopupAction=null;var Vi=new Map,qi=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Object(v.a)(n,[{key:"execute",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Bi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(i.a)(Object(a.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(i.a)(Object(a.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(i.a)(Object(a.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ai);function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Object(d.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$i(n),i=Qi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(e,t){return Ki.apply(this,arguments)}function Ki(){return(Ki=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(t)._set($i(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(){Vi.clear()}function Gi(e,t){Vi.set(e._key(),t)}function Qi(e){return V(e._redirectPersistence)}function $i(e){return Pe("pendingRedirect",e.config.apiKey,e.name)}function Yi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(d.a)(f.a.mark((function e(t,n,r){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),R(t,n,Ft),a=xi(i,r),e.next=5,Wi(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Zi.apply(this,arguments)}(e,t,n)}function Zi(){return(Zi=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((i=Object(g.s)(t)).auth,n,Ft),a=xi(i.auth,r),e.next=5,Wi(a,i.auth);case 5:return e.next=7,oa(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t,n){return function(e,t,n){return ta.apply(this,arguments)}(e,t,n)}function ta(){return(ta=Object(d.a)(f.a.mark((function e(t,n,r){var i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((i=Object(g.s)(t)).auth,n,Ft),a=xi(i.auth,r),e.next=5,un(!1,i,n.providerId);case 5:return e.next=7,Wi(a,i.auth);case 7:return e.next=9,oa(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(t)._initializationPromise;case 2:return e.abrupt("return",ia(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Object(d.a)(f.a.mark((function e(t,n){var r,i,a,o,u,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Je(t),a=xi(i,n),o=new qi(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e){return ua.apply(this,arguments)}function ua(){return(ua=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sa=function(){function e(t){Object(p.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(v.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return la(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!la(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(N(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ca(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ca(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ca(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function la(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fa(e){return ha.apply(this,arguments)}function ha(){return(ha=Object(d.a)(f.a.mark((function e(t){var n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",J(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function va(){return(va=Object(d.a)(f.a.mark((function e(t){var n,r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fa(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(c.a)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ya(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:A(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ya(e){var t=B(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pa.test(r))return!1;if(da.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ma=new K(3e4,6e4);function ga(){var e=Cr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(y.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ba=null;function ka(e){return ba=ba||function(e){return new Promise((function(t,n){var r,i,a;function o(){ga(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ga(),n(N(e,"network-request-failed"))},timeout:ma.get()})}if(null===(i=null===(r=Cr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Cr().gapi)||void 0===a?void 0:a.load)){var u=Zr("iframefcb");return Cr()[u]=function(){gapi.load?o():n(N(e,"network-request-failed"))},Xr("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ba=null,e}))}(e)}var _a=new K(5e3,15e3),wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ja(e){var t=e.config;L(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?H(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:b.SDK_VERSION},i=Oa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(g.K)(r).slice(1))}function xa(e){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t);case 2:return n=e.sent,L(r=Cr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ja(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},(function(e){return new Promise(function(){var n=Object(d.a)(f.a.mark((function n(r,i){var a,o,u;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Cr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=N(t,"network-request-failed"),o=Cr().setTimeout((function(){i(a)}),_a.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ta="_blank",Sa="http://localhost",Ca=function(){function e(t){Object(p.a)(this,e),this.window=t,this.associatedEvent=null}return Object(v.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Aa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ia),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(g.t)().toLowerCase();n&&(u=Fe(c)?Ta:n),Le(c)&&(t=t||Sa,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(h.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ke(c)&&"_self"!==u)return Na(t||"",u),new Ca(null);var f=window.open(t||"",u,l);L(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Ca(f)}function Na(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Pa="__/auth/handler",Ra="emulator/auth/handler";function Da(e,t,n,r,i,a){L(e.config.authDomain,e,"auth-domain-config-required"),L(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:b.SDK_VERSION,eventId:i};if(t instanceof Ft){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(g.y)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(h.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ut){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pa);return H(t,Ra)}(e),"?").concat(Object(g.K)(p).slice(1))}var La="webStorageSupport",Ma=function(){function e(){Object(p.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xr,this._completeRedirectFn=ia,this._overrideRedirectResult=Gi}return Object(v.a)(e,[{key:"_openPopup",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n,r,i){var a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Da(t,n,r,B(),i),e.abrupt("return",Aa(t,o,Tr()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(d.a)(f.a.mark((function e(t,n,r,i){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Da(t,n,r,B(),i),Cr().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(F(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t);case 2:return n=e.sent,r=new sa(t),n.register("authEvent",(function(e){return L(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(La,{type:La},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),A(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return va.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ge()||Me()||ze()}}]),e}(),Fa=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(v.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:finalize",Y(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:finalize",Y(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(p.a)(this,e),this.factorId=t}return Object(v.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return M("unexpected MultiFactorSessionType")}}}]),e}()),Ua=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"assertion",value:function(e){return Fa._fromCredential(e)}}]),e}();Ua.FACTOR_ID="phone";var Va,qa="@firebase/auth",Ba="0.20.3",za=function(){function e(t){Object(p.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(v.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.getApp)(),t=Object(b._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():q(e,{popupRedirectResolver:Ma,persistence:[Qr,Or,xr]})}Va="Browser",Object(b._registerComponent)(new w.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){L(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),L(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Va,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qe(Va)},i=new Ye(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(V);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(b._registerComponent)(new w.a("auth-internal",(function(e){return function(e){return new za(e)}(Je(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(b.registerVersion)(qa,Ba,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Va)),Object(b.registerVersion)(qa,Ba,"esm2017")},function(e,t,n){"use strict";e.exports=n(100)},function(e,t,n){"use strict";e.exports=n(129)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(43);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),i=n(64),a=n(91);function o(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y.b})),n.d(t,"b",(function(){return y.e})),n.d(t,"c",(function(){return y.h})),n.d(t,"d",(function(){return y.i})),n.d(t,"e",(function(){return y.m})),n.d(t,"f",(function(){return y.k})),n.d(t,"g",(function(){return y.f})),n.d(t,"h",(function(){return y.n})),n.d(t,"i",(function(){return y.j})),n.d(t,"j",(function(){return y.sb})),n.d(t,"k",(function(){return y.ub})),n.d(t,"l",(function(){return y.l})),n.d(t,"m",(function(){return y.L})),n.d(t,"n",(function(){return y.o})),n.d(t,"o",(function(){return y.p})),n.d(t,"p",(function(){return y.eb})),n.d(t,"q",(function(){return y.J})),n.d(t,"r",(function(){return y.ab})),n.d(t,"s",(function(){return y.K})),n.d(t,"t",(function(){return y.fb})),n.d(t,"u",(function(){return y.G})),n.d(t,"v",(function(){return y.H})),n.d(t,"w",(function(){return y.gb})),n.d(t,"y",(function(){return y.x})),n.d(t,"z",(function(){return y.hb})),n.d(t,"A",(function(){return y.qb})),n.d(t,"B",(function(){return y.u})),n.d(t,"C",(function(){return y.y})),n.d(t,"D",(function(){return y.w})),n.d(t,"E",(function(){return y.d})),n.d(t,"G",(function(){return y.A})),n.d(t,"H",(function(){return y.c})),n.d(t,"I",(function(){return y.M})),n.d(t,"J",(function(){return y.T})),n.d(t,"K",(function(){return y.U})),n.d(t,"L",(function(){return y.pb})),n.d(t,"M",(function(){return y.g})),n.d(t,"N",(function(){return y.ob})),n.d(t,"O",(function(){return y.D})),n.d(t,"P",(function(){return y.s})),n.d(t,"Q",(function(){return y.rb})),n.d(t,"R",(function(){return y.jb})),n.d(t,"S",(function(){return y.mb})),n.d(t,"T",(function(){return y.V})),n.d(t,"U",(function(){return y.t})),n.d(t,"V",(function(){return y.vb})),n.d(t,"W",(function(){return y.kb})),n.d(t,"X",(function(){return y.nb})),n.d(t,"Y",(function(){return y.N})),n.d(t,"Z",(function(){return y.v})),n.d(t,"ab",(function(){return y.C})),n.d(t,"bb",(function(){return y.q})),n.d(t,"cb",(function(){return y.r})),n.d(t,"db",(function(){return y.a})),n.d(t,"eb",(function(){return y.B})),n.d(t,"fb",(function(){return y.E})),n.d(t,"gb",(function(){return y.wb})),n.d(t,"hb",(function(){return y.ib})),n.d(t,"ib",(function(){return y.lb})),n.d(t,"jb",(function(){return y.S})),n.d(t,"kb",(function(){return y.Q})),n.d(t,"lb",(function(){return y.R})),n.d(t,"mb",(function(){return y.xb})),n.d(t,"nb",(function(){return y.P})),n.d(t,"ob",(function(){return y.O})),n.d(t,"pb",(function(){return y.z})),n.d(t,"x",(function(){return q})),n.d(t,"F",(function(){return U}));var r=n(62),i=n(65),a=n(40),o=n(63);var u=n(0),s=n.n(u),c=n(2),l=n(3),f=n(24),h=n(19),d=n(10),p=n(11),v=n(4),y=n(7),m=n(1);n(16),n(21),n(20);function g(){return window}function b(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(s.a.mark((function e(t,n,r){var i,a,o,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(),o=a.BuildInfo,Object(y.X)(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,E(n.sessionId);case 4:return u=e.sent,c={},Object(y.Y)()?c.ibi=o.packageName:Object(y.Z)()?c.apn=o.packageName:Object(y.ab)(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=u,e.abrupt("return",Object(y.bb)(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(v.a)(s.a.mark((function e(t){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g(),r=n.BuildInfo,i={},Object(y.Y)()?i.iosBundleId=r.packageName:Object(y.Z)()?i.androidPackageName=r.packageName:Object(y.ab)(t,"operation-not-supported-in-this-environment"),e.next=5,Object(y.cb)(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=g().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,Object(y.W)()?"_blank":"_system","location=yes"),n(i)}))}))}function O(e,t,n){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(s.a.mark((function e(t,n,r){var i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Object(y.db)(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Object(y.Z)()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function x(e){var t,n,r,i,a,o,u,s,c,l,f=g();Object(y.eb)("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Object(y.eb)("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Object(y.eb)("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Object(y.eb)("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Object(y.eb)("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(s.a.mark((function e(t){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){if(Object(y.X)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(l.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(f.a)(Object(h.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(y.F);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:D(),postBody:null,tenantId:e.tenantId,error:Object(y.db)(e,"no-auth-event")}}function A(e,t){return L()._set(M(e),t)}function N(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L()._get(M(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,L()._remove(M(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var n,r,i=function(e){var t=F(e),n=t.link?decodeURIComponent(t.link):void 0,r=F(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return F(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=F(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Object(y.db)(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function D(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function L(){return Object(y.fb)(y.hb)}function M(e){return Object(y.gb)("authEvent",e.config.apiKey,e.name)}function F(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),u=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)(t)||Object(o.a)()),s=(u[0],u.slice(1));return Object(m.L)(s.join("?"))}var U=function(){function e(){Object(c.a)(this,e),this._redirectPersistence=y.u,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=y.G,this._overrideRedirectResult=y.H}return Object(l.a)(e,[{key:"_initialize",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new S(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Object(y.ab)(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n,r,i){var a,o,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Object(y.I)(),e.next=10,this._originValidation(t);case 10:return o=C(t,r,i),e.next=13,A(t,o);case 13:return e.next=15,b(t,o,n);case 15:return u=e.sent,e.next=18,w(u);case 18:return c=e.sent,e.abrupt("return",O(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=g(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(v.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(e);case 2:t.onEvent(V());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Object(v.a)(s.a.mark((function n(r){var i,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,N(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=R(i,r.url)),t.onEvent(a||V());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var c=i,l="".concat(a.packageName.toLowerCase(),"://");g().handleOpenURL=function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}();function V(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Object(y.db)("no-auth-event")}}function q(e,t){Object(y.J)(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _f})),n.d(t,"b",(function(){return vl})),n.d(t,"c",(function(){return el})),n.d(t,"d",(function(){return zc})),n.d(t,"e",(function(){return Ql})),n.d(t,"f",(function(){return pl})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return ml})),n.d(t,"i",(function(){return $l})),n.d(t,"j",(function(){return Yl})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return jf})),n.d(t,"m",(function(){return Ye})),n.d(t,"n",(function(){return re})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return Fc})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return Ve})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return Rc})),n.d(t,"u",(function(){return Lf})),n.d(t,"v",(function(){return Hf})),n.d(t,"w",(function(){return Kf})),n.d(t,"x",(function(){return ul})),n.d(t,"y",(function(){return Hc})),n.d(t,"z",(function(){return Gc})),n.d(t,"A",(function(){return Bc})),n.d(t,"B",(function(){return Df})),n.d(t,"C",(function(){return zf})),n.d(t,"D",(function(){return ll})),n.d(t,"E",(function(){return Qc})),n.d(t,"F",(function(){return il})),n.d(t,"G",(function(){return al})),n.d(t,"H",(function(){return cl})),n.d(t,"I",(function(){return vf})),n.d(t,"J",(function(){return pf})),n.d(t,"K",(function(){return nl})),n.d(t,"L",(function(){return Uf})),n.d(t,"M",(function(){return Ef})),n.d(t,"N",(function(){return Tf})),n.d(t,"O",(function(){return Sf})),n.d(t,"P",(function(){return Cf})),n.d(t,"Q",(function(){return Af})),n.d(t,"R",(function(){return Nf})),n.d(t,"S",(function(){return Gf})),n.d(t,"T",(function(){return sf})),n.d(t,"U",(function(){return cf})),n.d(t,"V",(function(){return fl})),n.d(t,"W",(function(){return hl})),n.d(t,"X",(function(){return Mf})),n.d(t,"Y",(function(){return Ff})),n.d(t,"Z",(function(){return of})),n.d(t,"ab",(function(){return tf})),n.d(t,"bb",(function(){return Yc})),n.d(t,"cb",(function(){return $c})),n.d(t,"db",(function(){return Bf})),n.d(t,"eb",(function(){return Wf})),n.d(t,"fb",(function(){return Pf})),n.d(t,"gb",(function(){return E})),n.d(t,"hb",(function(){return Xl})),n.d(t,"ib",(function(){return hf})),n.d(t,"jb",(function(){return ff})),n.d(t,"kb",(function(){return Rf})),n.d(t,"lb",(function(){return sl})),n.d(t,"mb",(function(){return rf}));var r=n(44),i=n(24),a=n(19),o=n(17),u=n(6),s=n(0),c=n.n(s),l=n(4),f=n(10),h=n(11),d=n(18),p=n(2),v=n(3),y=n(16),m=n(20),g=n(21),b=n(1),k=n(27),_="@firebase/firestore",w=function(){function e(t){Object(p.a)(this,e),this.uid=t}return Object(v.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();w.UNAUTHENTICATED=new w(null),w.GOOGLE_CREDENTIALS=new w("google-credentials-uid"),w.FIRST_PARTY=new w("first-party-uid"),w.MOCK_USER=new w("mock-user");var O="9.8.3",j=new g.b("@firebase/firestore");function x(){return j.logLevel}function E(e){j.setLogLevel(e)}function I(e){if(j.logLevel<=g.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.debug.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function T(e){if(j.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.error.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function S(e){if(j.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.warn.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function N(e,t){e||A()}function P(e,t){e||A()}function R(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(b.c),M=function e(){var t=this;Object(p.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},F=function e(t,n){Object(p.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},U=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(w.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(p.a)(this,e),this.token=t,this.changeListener=null}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),q=function(){function e(t){Object(p.a)(this,e),this.t=t,this.currentUser=w.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){I("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(N("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e),new w(e)}}]),e}(),B=function e(t,n,r){Object(p.a)(this,e),this.type="FirstParty",this.user=w.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},z=function(){function e(t,n,r){Object(p.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new B(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(w.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),W=function e(t){Object(p.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},K=function(){function e(t){Object(p.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&I("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,I("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){I("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(N("string"==typeof t.token),e.p=t.token,new W(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var G=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Y(e){return e+"\0"}var J=function(){function e(t,n){if(Object(p.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(v.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(p.a)(this,e),this.timestamp=t}return Object(v.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new J(0,0))}},{key:"max",value:function(){return new e(new J(253402300799,999999999))}}]),e}(),Z=function(){function e(t,n,r){Object(p.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(v.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ee=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(d.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Z),te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ne=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return te.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Z),re=function(){function e(t){Object(p.a)(this,e),this.path=t}return Object(v.a)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ee.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ee.fromString(t))}},{key:"fromName",value:function(t){return new e(ee.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ee.emptyPath())}},{key:"comparator",value:function(e,t){return ee.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ee(t.slice()))}}]),e}(),ie=function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};function ae(e){return e.fields.find((function(e){return 2===e.kind}))}function oe(e){return e.fields.filter((function(e){return 2!==e.kind}))}ie.UNKNOWN_ID=-1;var ue=function e(t,n){Object(p.a)(this,e),this.fieldPath=t,this.kind=n},se=function(){function e(t,n){Object(p.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(v.a)(e,null,[{key:"empty",value:function(){return new e(0,fe.min())}}]),e}();function ce(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new J(n+1,0):new J(n,r));return new fe(i,re.empty(),t)}function le(e){return new fe(e.readTime,e.key,-1)}var fe=function(){function e(t,n,r){Object(p.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(v.a)(e,null,[{key:"min",value:function(){return new e(X.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(X.max(),re.empty(),-1)}}]),e}();function he(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Q(e.largestBatchId,t.largestBatchId)}var de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pe=function(){function e(){Object(p.a)(this,e),this.onCommittedListeners=[]}return Object(v.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===D.FAILED_PRECONDITION&&t.message===de){e.next=2;break}throw t;case 2:I("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(){function e(t){var n=this;Object(p.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(v.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(u.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ge=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new M,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new _e(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Ee(e.target.error);r.T.reject(new _e(t,n))}}return Object(v.a)(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oe(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _e(n,t)}}}]),e}(),be=function(){function t(e,n,r){Object(p.a)(this,t),this.name=e,this.version=n,this.P=r,12.2===t.v(Object(b.t)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(v.a)(t,[{key:"k",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return I("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _e(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new L(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _e(t,n))},i.onupgradeneeded=function(e){I("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){I("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.a.mark((function e(){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=ge.open(l.db,t,a?"readonly":"readwrite",r),(o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),me.reject(e)})).toPromise()).catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,I("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return I("SimpleDb","Removing database:",e),je(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Object(b.A)())return!1;if(t.S())return!0;var e=Object(b.t)(),n=t.v(e),r=0<n&&n<10,i=t.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:310046784875:web:4222db1bfc8bde6c13602e",REACT_APP_FIREBASE_DOMAIN:"mall-e4018.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyBoy57kqYAfrT43kIQfjOtFZ47rA2ifIF8",REACT_APP_FIREBASE_PROJECT_ID:"mall-e4018",REACT_APP_FIREBASE_SENDER_ID:"310046784875",REACT_APP_FIREBASE_STORAGE_BUCKET:"mall-e4018.appspot.com"}))||void 0===t?void 0:t.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),ke=function(){function e(t){Object(p.a)(this,e),this.$=t,this.B=!1,this.L=null}return Object(v.a)(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return je(this.$.delete())}}]),e}(),_e=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(L);function we(e){return"IndexedDbTransactionError"===e.name}var Oe=function(){function e(t){Object(p.a)(this,e),this.store=t}return Object(v.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(I("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),je(n)}},{key:"add",value:function(e){return I("SimpleDb","ADD",this.store.name,e,e),je(this.store.add(e))}},{key:"get",value:function(e){var t=this;return je(this.store.get(e)).next((function(n){return void 0===n&&(n=null),I("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return I("SimpleDb","DELETE",this.store.name,e),je(this.store.delete(e))}},{key:"count",value:function(){return I("SimpleDb","COUNT",this.store.name),je(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new me((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new me((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){I("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new me((function(n,r){t.onerror=function(e){var t=Ee(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new me((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ke(i),o=t(i.primaryKey,i.value,a);if(o instanceof me){var u=o.catch((function(e){return a.done(),me.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return me.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function je(e){return new me((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ee(e.target.error);n(t)}}))}var xe=!1;function Ee(e){var t=be.v(Object(b.t)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xe||(xe=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ie=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Object(v.a)(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;I("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=I,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!we(e.t4)){e.next=17;break}I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ve(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Te=function(){function e(t,n){Object(p.a)(this,e),this.localStore=t,this.persistence=n}return Object(v.a)(e,[{key:"tt",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return me.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return I("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return I("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=le(t);he(r,n)>0&&(n=r)})),new fe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Se=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Object(v.a)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ce(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ae(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ne(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Se.ot=-1;var Pe=function(){function e(t,n){Object(p.a)(this,e),this.comparator=t,this.root=n||De.EMPTY}return Object(v.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Re(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Re(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Re(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Re(this.root,e,this.comparator,!0)}}]),e}(),Re=function(){function e(t,n,r,i){Object(p.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(v.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),De=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(v.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();De.EMPTY=null,De.RED=!0,De.BLACK=!1,De.EMPTY=new(function(){function e(){Object(p.a)(this,e),this.size=0}return Object(v.a)(e,[{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new De(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Le=function(){function e(t){Object(p.a)(this,e),this.comparator=t,this.data=new Pe(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Me(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Me(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Me=function(){function e(t){Object(p.a)(this,e),this.iter=t}return Object(v.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fe(e){return e.hasNext()?e.getNext():void 0}var Ue=function(){function e(t){Object(p.a)(this,e),this.fields=t,t.sort(ne.comparator)}return Object(v.a)(e,[{key:"unionWith",value:function(t){var n,r=new Le(ne.comparator),i=Object(u.a)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Object(u.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Object(u.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();function Ve(){return"undefined"!=typeof atob}var qe=function(e){function t(e){Object(p.a)(this,t),this.binaryString=e}return Object(v.a)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){return new t(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}}]),t}(Symbol.iterator);qe.EMPTY_BYTE_STRING=new qe("");var Be=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ze(e){if(N(!!e),"string"==typeof e){var t=0,n=Be.exec(e);if(N(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:We(e.seconds),nanos:We(e.nanos)}}function We(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ke(e){return"string"==typeof e?qe.fromBase64String(e):qe.fromUint8Array(e)}function He(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ge(e){var t=e.mapValue.fields.__previous_value__;return He(t)?Ge(t):t}function Qe(e){var t=ze(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}var $e=function e(t,n,r,i,a,o,u,s){Object(p.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Ye=function(){function e(t,n){Object(p.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(v.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Je(e){return null==e}function Xe(e){return 0===e&&1/e==-1/0}function Ze(e){return"number"==typeof e&&Number.isInteger(e)&&!Xe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var et={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tt={nullValue:"NULL_VALUE"};function nt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?He(e)?4:yt(e)?9007199254740991:10:A()}function rt(e,t){if(e===t)return!0;var n=nt(e);if(n!==nt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qe(e).isEqual(Qe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ze(e.timestampValue),r=ze(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ke(e.bytesValue).isEqual(Ke(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return We(e.geoPointValue.latitude)===We(t.geoPointValue.latitude)&&We(e.geoPointValue.longitude)===We(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return We(e.integerValue)===We(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=We(e.doubleValue),r=We(t.doubleValue);return n===r?Xe(n)===Xe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],rt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ce(n)!==Ce(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rt(n[i],r[i])))return!1;return!0}(e,t);default:return A()}}function it(e,t){return void 0!==(e.values||[]).find((function(e){return rt(e,t)}))}function at(e,t){if(e===t)return 0;var n=nt(e),r=nt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=We(e.integerValue||e.doubleValue),r=We(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ot(e.timestampValue,t.timestampValue);case 4:return ot(Qe(e),Qe(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ke(e),r=Ke(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Q(n[i],r[i]);if(0!==a)return a}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(We(e.latitude),We(t.latitude));return 0!==n?n:Q(We(e.longitude),We(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=at(n[i],r[i]);if(a)return a}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===et.mapValue&&t===et.mapValue)return 0;if(e===et.mapValue)return 1;if(t===et.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Q(r[o],a[o]);if(0!==u)return u;var s=at(n[r[o]],i[a[o]]);if(0!==s)return s}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw A()}}function ot(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=ze(e),r=ze(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ut(e){return st(e)}function st(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ze(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ke(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,re.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(u.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=st(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(st(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):A();var t,n}function ct(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lt(e){return!!e&&"integerValue"in e}function ft(e){return!!e&&"arrayValue"in e}function ht(e){return!!e&&"nullValue"in e}function dt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pt(e){return!!e&&"mapValue"in e}function vt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ae(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=vt(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function yt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mt(e){return"nullValue"in e?tt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ct(Ye.empty(),re.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:A()}function gt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ct(Ye.empty(),re.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?et:A()}function bt(e,t){var n=at(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kt(e,t){var n=at(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var _t=function(){function e(t){Object(p.a)(this,e),this.value=t}return Object(v.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!pt(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vt(t)}},{key:"setAll",value:function(e){var t=this,n=ne.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=vt(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());pt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return rt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];pt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ae(t,(function(t,n){return e[t]=n}));var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(vt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wt(e){var t=[];return Ae(e.fields,(function(e,n){var r=new ne([e]);if(pt(n)){var i=wt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(u.a)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new Ue(t)}var Ot=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(v.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=X.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),X.min(),_t.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,X.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,X.min(),_t.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,X.min(),_t.empty(),2)}}]),e}(),jt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null};function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jt(e,t,n,r,i,a,o)}function Et(e){var t=R(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ut(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Je(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ut(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ut(e)})).join(",")),t.ut=n}return t.ut}function It(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!rt(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kt(e.startAt,t.startAt)&&Kt(e.endAt,t.endAt)}function Tt(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function St(e,t){return e.filters.filter((function(e){return e instanceof Nt&&e.field.isEqual(t)}))}function Ct(e,t,n){var r,i=tt,a=!0,o=Object(u.a)(St(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=tt,l=!0;switch(s.op){case"<":case"<=":c=mt(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=tt}bt({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];bt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function At(e,t,n){var r,i=et,a=!0,o=Object(u.a)(St(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=et,l=!0;switch(s.op){case">=":case">":c=gt(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=et}kt({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];kt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var Nt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(at(t,this.value)):null!==t&&nt(this.value)===nt(t)&&this.at(at(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Pt(e,t,r):"array-contains"===t?new Mt(e,r):"in"===t?new Ft(e,r):"not-in"===t?new Ut(e,r):"array-contains-any"===t?new Vt(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Rt(e,n):new Dt(e,n)}}]),n}(function(){return function e(){Object(p.a)(this,e)}}()),Pt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,i)).key=re.fromName(i.referenceValue),a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=re.comparator(e.key,this.key);return this.at(t)}}]),n}(Nt),Rt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"in",r)).keys=Lt("in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nt),Dt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=Lt("not-in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nt);function Lt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return re.fromName(e.referenceValue)}))}var Mt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ft(t)&&it(t.arrayValue,this.value)}}]),n}(Nt),Ft=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&it(this.value.arrayValue,t)}}]),n}(Nt),Ut=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"not-in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){if(it(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!it(this.value.arrayValue,t)}}]),n}(Nt),Vt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ft(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return it(t.value.arrayValue,e)}))}}]),n}(Nt),qt=function e(t,n){Object(p.a)(this,e),this.position=t,this.inclusive=n},Bt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(p.a)(this,e),this.field=t,this.dir=n};function zt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(o.referenceValue),n.key):at(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Kt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rt(e.position[n],t.position[n]))return!1;return!0}var Ht=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt};function Gt(e,t,n,r,i,a,o,u){return new Ht(e,t,n,r,i,a,o,u)}function Qt(e){return new Ht(e)}function $t(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yt(e){var t,n=Object(u.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Jt(e){return null!==e.collectionGroup}function Xt(e){var t=R(e);if(null===t.lt){t.lt=[];var n=Yt(t),r=$t(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Bt(n)),t.lt.push(new Bt(ne.keyField(),"asc"));else{var i,a=!1,o=Object(u.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Bt(ne.keyField(),c))}}}return t.lt}function Zt(e){var t=R(e);if(!t.ft)if("F"===t.limitType)t.ft=xt(t.path,t.collectionGroup,Xt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(u.a)(Xt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Bt(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new qt(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new qt(t.startAt.position,t.startAt.inclusive):null;t.ft=xt(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.ft}function en(e,t,n){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tn(e,t){return It(Zt(e),Zt(t))&&e.limitType===t.limitType}function nn(e){return"".concat(Et(Zt(e)),"|lt:").concat(e.limitType)}function rn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ut(t.value));var t})).join(", "),"]")),Je(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ut(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ut(e)})).join(",")),"Target(".concat(t,")")}(Zt(e)),"; limitType=").concat(e.limitType,")")}function an(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):re.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(u.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Wt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xt(e),t))&&!(e.endAt&&!function(e,t,n){var r=Wt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xt(e),t))}(e,t)}function on(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function un(e){return function(t,n){var r,i=!1,a=Object(u.a)(Xt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=sn(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function sn(e,t,n){var r=e.field.isKeyField()?re.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?at(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function cn(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(t)?"-0":t}}function ln(e){return{integerValue:""+e}}function fn(e,t){return Ze(t)?ln(t):cn(e,t)}var hn=function e(){Object(p.a)(this,e),this._=void 0};function dn(e,t,n){return e instanceof yn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mn?gn(e,t):e instanceof bn?kn(e,t):function(e,t){var n=vn(e,t),r=wn(n)+wn(e._t);return lt(n)&&lt(e._t)?ln(r):cn(e.wt,r)}(e,t)}function pn(e,t,n){return e instanceof mn?gn(e,t):e instanceof bn?kn(e,t):n}function vn(e,t){return e instanceof _n?lt(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(hn),mn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return n}(hn);function gn(e,t){var n,r=On(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return rt(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return n}(hn);function kn(e,t){var n,r=On(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!rt(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _n=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).wt=e,i._t=r,i}return n}(hn);function wn(e){return We(e.integerValue||e.doubleValue)}function On(e){return ft(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jn=function e(t,n){Object(p.a)(this,e),this.field=t,this.transform=n};var xn=function e(t,n){Object(p.a)(this,e),this.version=t,this.transformResults=n},En=function(){function e(t,n){Object(p.a)(this,e),this.updateTime=t,this.exists=n}return Object(v.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function In(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tn=function e(){Object(p.a)(this,e)};function Sn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qn(e.key,En.none()):new Rn(e.key,e.data,En.none());var n,r=e.data,i=_t.empty(),a=new Le(ne.comparator),o=Object(u.a)(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i.delete(s):i.set(s,c),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Dn(e.key,i,new Ue(a.toArray()),En.none())}function Cn(e,t,n){e instanceof Rn?function(e,t,n){var r=e.value.clone(),i=Mn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dn?function(e,t,n){if(In(e.precondition,t)){var r=Mn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ln(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function An(e,t,n,r){return e instanceof Rn?function(e,t,n,r){if(!In(e.precondition,t))return n;var i=e.value.clone(),a=Fn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dn?function(e,t,n,r){if(!In(e.precondition,t))return n;var i=Fn(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ln(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return In(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nn(e,t){var n,r=null,i=Object(u.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=vn(a.transform,o||null);null!=s&&(null===r&&(r=_t.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Pn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mn&&t instanceof mn||e instanceof bn&&t instanceof bn?$(e.elements,t.elements,rt):e instanceof _n&&t instanceof _n?rt(e._t,t._t):e instanceof yn&&t instanceof yn}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(p.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),Dn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(p.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Tn);function Ln(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Mn(e,t,n){var r=new Map;N(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pn(o,u,n[i]))}return r}function Fn(e,t,n){var r,i=new Map,a=Object(u.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,dn(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Un,Vn,qn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),Bn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),zn=function e(t){Object(p.a)(this,e),this.count=t};function Wn(e){switch(e){default:return A();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Kn(e){if(void 0===e)return T("GRPC error has no .code"),D.UNKNOWN;switch(e){case Un.OK:return D.OK;case Un.CANCELLED:return D.CANCELLED;case Un.UNKNOWN:return D.UNKNOWN;case Un.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Un.INTERNAL:return D.INTERNAL;case Un.UNAVAILABLE:return D.UNAVAILABLE;case Un.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Un.NOT_FOUND:return D.NOT_FOUND;case Un.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Un.ABORTED:return D.ABORTED;case Un.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Un.DATA_LOSS:return D.DATA_LOSS;default:return A()}}(Vn=Un||(Un={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";var Hn=function(){function e(t,n){Object(p.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(v.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];if(this.equalsFn(s,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ae(this.inner,(function(t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];e(s,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ne(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gn=new Pe(re.comparator);function Qn(){return Gn}var $n=new Pe(re.comparator);function Yn(){for(var e=$n,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jn(e){var t=$n;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Xn(){return er()}function Zn(){return er()}function er(){return new Hn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tr=new Pe(re.comparator),nr=new Le(re.comparator);function rr(){for(var e=nr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ir=new Le(Q);function ar(){return ir}var or=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ur.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,ar(),Qn(),rr())}}]),e}(),ur=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(qe.EMPTY_BYTE_STRING,n,rr(),rr(),rr())}}]),e}(),sr=function e(t,n,r,i){Object(p.a)(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i},cr=function e(t,n){Object(p.a)(this,e),this.targetId=t,this.It=n},lr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(p.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},fr=function(){function e(){Object(p.a)(this,e),this.Tt=0,this.Et=pr(),this.At=qe.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Object(v.a)(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=rr(),t=rr(),n=rr();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}})),new ur(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=pr()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),hr=function(){function e(t){Object(p.a)(this,e),this.Mt=t,this.Ft=new Map,this.$t=Qn(),this.Bt=dr(),this.Lt=new Le(Q)}return Object(v.a)(e,[{key:"Ut",value:function(e){var t,n=Object(u.a)(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Object(u.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:A()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Tt(i))if(0===n){var a=new re(i.path);this.Kt(t,a,Ot.newNoDocument(a,X.min()))}else N(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Tt(a.target)){var o=new re(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Ot.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=rr();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new or(e,n,this.Lt,this.$t,r);return this.$t=Qn(),this.Bt=dr(),this.Lt=new Le(Q),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new fr,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Le(Q),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new fr),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function dr(){return new Pe(re.comparator)}function pr(){return new Pe(re.comparator)}var vr={asc:"ASCENDING",desc:"DESCENDING"},yr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mr=function e(t,n){Object(p.a)(this,e),this.databaseId=t,this.dt=n};function gr(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function br(e,t){return e.dt?t.toBase64():t.toUint8Array()}function kr(e,t){return gr(e,t.toTimestamp())}function _r(e){return N(!!e),X.fromTimestamp(function(e){var t=ze(e);return new J(t.seconds,t.nanos)}(e))}function wr(e,t){return function(e){return new ee(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Or(e){var t=ee.fromString(e);return N(Hr(t)),t}function jr(e,t){return wr(e.databaseId,t.path)}function xr(e,t){var n=Or(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Sr(n))}function Er(e,t){return wr(e.databaseId,t)}function Ir(e){var t=Or(e);return 4===t.length?ee.emptyPath():Sr(t)}function Tr(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sr(e){return N(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cr(e,t,n){return{name:jr(e,t),fields:n.value.mapValue.fields}}function Ar(e,t,n){var r=xr(e,t.name),i=_r(t.updateTime),a=new _t({mapValue:{fields:t.fields}}),o=Ot.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nr(e,t){return"found"in t?function(e,t){N(!!t.found),t.found.name,t.found.updateTime;var n=xr(e,t.found.name),r=_r(t.found.updateTime),i=new _t({mapValue:{fields:t.found.fields}});return Ot.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){N(!!t.missing),N(!!t.readTime);var n=xr(e,t.missing),r=_r(t.readTime);return Ot.newNoDocument(n,r)}(e,t):A()}function Pr(e,t){var n;if(t instanceof Rn)n={update:Cr(e,t.key,t.value)};else if(t instanceof qn)n={delete:jr(e,t.key)};else if(t instanceof Dn)n={update:Cr(e,t.key,t.data),updateMask:Kr(t.fieldMask)};else{if(!(t instanceof Bn))return A();n={verify:jr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _n)return{fieldPath:t.field.canonicalString(),increment:n._t};throw A()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Rr(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?En.updateTime(_r(e.updateTime)):void 0!==e.exists?En.exists(e.exists):En.none()}(t.currentDocument):En.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)N("REQUEST_TIME"===t.setToServerValue),n=new yn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bn(i)}else"increment"in t?n=new _n(e,t.increment):A();var a=ne.fromServerFormat(t.fieldPath);return new jn(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xr(e,t.update.name),a=new _t({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ue(t.map((function(e){return ne.fromServerFormat(e)})))}(t.updateMask);return new Dn(i,a,o,n,r)}return new Rn(i,a,n,r)}if(t.delete){var u=xr(e,t.delete);return new qn(u,n)}if(t.verify){var s=xr(e,t.verify);return new Bn(s,n)}return A()}function Dr(e,t){return{documents:[Er(e,t.path)]}}function Lr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Er(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Er(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(dt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if(ht(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if(ht(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:Vr(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qr(e.field),direction:Ur(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Je(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Mr(e){var t=Ir(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){N(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Fr(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Bt(Br(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Je(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new qt(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new qt(n,t)}(n.endAt)),Gt(t,i,u,o,s,"F",c,l)}function Fr(e){return e?void 0!==e.unaryFilter?[Wr(e)]:void 0!==e.fieldFilter?[zr(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Fr(e)})).reduce((function(e,t){return e.concat(t)})):A():[]}function Ur(e){return vr[e]}function Vr(e){return yr[e]}function qr(e){return{fieldPath:e.canonicalString()}}function Br(e){return ne.fromServerFormat(e.fieldPath)}function zr(e){return Nt.create(Br(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wr(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Br(e.unaryFilter.field);return Nt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Br(e.unaryFilter.field);return Nt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Br(e.unaryFilter.field);return Nt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Br(e.unaryFilter.field);return Nt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}function Kr(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$r(t)),t=Qr(e.get(n),t);return $r(t)}function Qr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $r(e){return e+"\x01\x01"}function Yr(e){var t=e.length;if(N(t>=2),2===t)return N("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ee.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:A()}a=o+2}return new ee(r)}var Jr=["userId","batchId"];function Xr(e,t){return[e,Gr(t)]}function Zr(e,t,n){return[e,Gr(t),n]}var ei={},ti=["prefixPath","collectionGroup","readTime","documentId"],ni=["prefixPath","collectionGroup","documentId"],ri=["collectionGroup","readTime","prefixPath","documentId"],ii=["canonicalId","targetId"],ai=["targetId","path"],oi=["path","targetId"],ui=["collectionId","parent"],si=["indexId","uid"],ci=["uid","sequenceNumber"],li=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fi=["indexId","uid","orderedDocumentKey"],hi=["userId","collectionPath","documentId"],di=["userId","collectionPath","largestBatchId"],pi=["userId","collectionGroup","largestBatchId"],vi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yi=[].concat(Object(d.a)(vi),["documentOverlays"]),mi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gi=mi,bi=[].concat(gi,["indexConfiguration","indexState","indexEntries"]),ki=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return n}(pe);function _i(e,t){var n=R(e);return be.N(n.ee,t)}var wi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(v.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Cn(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Object(u.a)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=An(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=Object(u.a)(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=An(s,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zn();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Sn(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(X.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,(function(e,t){return Pn(e,t)}))&&$(this.baseMutations,e.baseMutations,(function(e,t){return Pn(e,t)}))}}]),e}(),Oi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(v.a)(e,null,[{key:"from",value:function(t,n,r){N(t.mutations.length===r.length);for(var i=tr,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ji=function(){function e(t,n){Object(p.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(v.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qe.EMPTY_BYTE_STRING;Object(p.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(v.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ei=function e(t){Object(p.a)(this,e),this.ne=t};function Ii(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ti(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jr(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gr(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Si(t.version)};else{if(!t.isUnknownDocument())return A();r.unknownDocument={path:n.path.toArray(),version:Si(t.version)}}return r}function Ti(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Si(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ci(e){var t=new J(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function Ai(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Rr(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Rr(e.ne,t)})),u=J.fromMillis(t.localWriteTimeMs);return new wi(t.batchId,u,n,o)}function Ni(e){var t,n,r=Ci(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ci(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(N(1===(n=e.query).documents.length),t=Zt(Qt(Ir(n.documents[0])))):t=function(e){return Zt(Mr(e))}(e.query),new xi(t,e.targetId,0,e.lastListenSequenceNumber,r,i,qe.fromBase64String(e.resumeToken))}function Pi(e,t){var n,r=Si(t.snapshotVersion),i=Si(t.lastLimboFreeSnapshotVersion);n=Tt(t.target)?Dr(e.ne,t.target):Lr(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Et(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ri(e){var t=Mr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?en(t,t.limit,"L"):t}function Di(e,t){return new ji(t.largestBatchId,Rr(e.ne,t.overlayMutation))}function Li(e,t){var n=t.path.lastSegment();return[e,Gr(t.path.popLast()),n]}function Mi(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Si(r.readTime),documentKey:Gr(r.documentKey.path),largestBatchId:r.largestBatchId}}var Fi=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Ui(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ci(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ui(e).put({bundleId:(n=t).id,createTime:Si(_r(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vi(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ri(t.bundledQuery),readTime:Ci(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vi(e).put(function(e){return{name:e.name,readTime:Si(_r(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ui(e){return _i(e,"bundles")}function Vi(e){return _i(e,"namedQueries")}var qi=function(){function e(t,n){Object(p.a)(this,e),this.wt=t,this.userId=n}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bi(e).get(Li(this.userId,t)).next((function(e){return e?Di(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xn();return me.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ji(t,a);i.push(r.ie(e,o))})),me.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gr(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bi(e).W("collectionPathOverlayIndex",i))})),me.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Xn(),a=Gr(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bi(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Di(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Xn(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bi(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Di(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Bi(e).put(function(e,t,n){var r=Li(t,n.mutation.key),i=Object(o.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pr(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bi(e){return _i(e,"documentOverlays")}var zi=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(We(e.integerValue));else if("doubleValue"in e){var n=We(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Xe(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ke(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?yt(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):A()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),re.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Wi(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ki(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Wi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zi.ye=new zi;var Hi=function(){function e(){Object(p.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(v.a)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Ki(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Ki(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gi=function(){function e(t){Object(p.a)(this,e),this.Me=t}return Object(v.a)(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Qi=function(){function e(t){Object(p.a)(this,e),this.Me=t}return Object(v.a)(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),$i=function(){function e(){Object(p.a)(this,e),this.Me=new Hi,this.Fe=new Gi(this.Me),this.$e=new Qi(this.Me)}return Object(v.a)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Yi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(v.a)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ji(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Xi(e.arrayValue,t.arrayValue))?n:0!==(n=Xi(e.directionalValue,t.directionalValue))?n:re.comparator(e.documentKey,t.documentKey)}function Xi(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Zi=function(){function e(t){Object(p.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Object(u.a)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(v.a)(e,[{key:"Ge",value:function(e){var t=ae(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=oe(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Object(u.a)(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ea=function(){function e(){Object(p.a)(this,e),this.ze=new ta}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),me.resolve()}},{key:"getCollectionParents",value:function(e,t){return me.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return me.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return me.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return me.resolve(null)}},{key:"getIndexType",value:function(e,t){return me.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return me.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return me.resolve(null)}},{key:"getMinOffset",value:function(e,t){return me.resolve(fe.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return me.resolve(fe.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return me.resolve()}},{key:"updateIndexEntries",value:function(e,t){return me.resolve()}}]),e}(),ta=function(){function e(){Object(p.a)(this,e),this.index={}}return Object(v.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Le(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Le(ee.comparator)).toArray()}}]),e}(),na=new Uint8Array(0),ra=function(){function e(t,n){Object(p.a)(this,e),this.user=t,this.databaseId=n,this.He=new ta,this.Je=new Hn((function(e){return Et(e)}),(function(e,t){return It(e,t)})),this.uid=t.uid||""}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Gr(i)};return ia(e).put(a)}return me.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return ia(e).K(r).next((function(e){var r,i=Object(u.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Yr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=oa(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ua(e);return a.next((function(e){o.put(Mi(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=oa(e),r=ua(e),i=aa(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=aa(e),i=!0,a=new Map;return me.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rr(),o=[];return me.forEach(a,(function(i,a){var s;I("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Et(t)));var c=function(e,t){var n=ae(t);if(void 0===n)return null;var r,i=Object(u.a)(St(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=Object(u.a)(oe(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Object(u.a)(St(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=Object(u.a)(oe(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Ct(e,o.fieldPath,e.startAt):At(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new qt(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=Object(u.a)(oe(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?At(e,o.fieldPath,e.endAt):Ct(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new qt(r,i)}(a,i),d=n.Ze(i,a,f),p=n.Ze(i,a,h),v=n.tn(i,a,l),y=n.en(i.indexId,c,d,f.inclusive,p,h.inclusive,v);return me.forEach(y,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=re.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return me.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):na,h=u.sn(e,f,n[s%c],r),p=u.rn(e,f,i[s%c],a),v=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,Object(d.a)(u.createRange(h,p,v)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Yi(e,re.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Yi(e,re.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Zi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return me.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Le(ne.comparator),r=!1,i=Object(u.a)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(l){i.e(l)}finally{i.f()}var o,s=Object(u.a)(e.orderBy);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.field.isKeyField()||(n=n.add(c.field))}}catch(l){s.e(l)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new $i,i=Object(u.a)(oe(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);zi.ye.re(o,s)}}catch(c){i.e(c)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new $i;return zi.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new $i;return zi.ye.re(ct(this.databaseId,t),n.Be(function(e){var t=oe(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new $i);var i,a=0,o=Object(u.a)(oe(e));try{for(o.s();!(i=o.n()).done;){var s,c=i.value,l=n[a++],f=Object(u.a)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.cn(t,c.fieldPath)&&ft(l))r=this.an(r,c,l);else{var d=h.Be(c.kind);zi.ye.re(l,d)}}}catch(p){f.e(p)}finally{f.f()}}}catch(p){o.e(p)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Object(d.a)(e),a=[],o=Object(u.a)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=Object(u.a)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new $i;h.seed(f.Oe()),zi.ye.re(c,h.Be(t.kind)),a.push(h)}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Nt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=oa(e),i=ua(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return me.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new se(t.sequenceNumber,new fe(Ci(t.readTime),new re(Yr(t.documentKey)),t.largestBatchId)):se.empty(),r=e.fields.map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return new ue(ne.fromServerFormat(n),r)}));return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Q(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=oa(e),a=ua(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return me.forEach(t,(function(t){return a.put(Mi(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return me.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?me.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),me.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?me.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return aa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return aa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=aa(e),i=new Le(Ji);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Yi(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Le(Ji),r=this.on(t,e);if(null==r)return n;var i=ae(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ft(a)){var o,s=Object(u.a)(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;n=n.add(new Yi(t.indexId,e.key,this.nn(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new Yi(t.indexId,e.key,na,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;I("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fe(a),s=Fe(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fe(o)):l?(i(u),u=Fe(a)):(u=Fe(a),s=Fe(o))}}(r,i,Ji,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),me.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ua(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ji(e,t)})).filter((function(e,t,n){return!t||0!==Ji(e,n[t-1])}));var r=[];r.push(e);var i,a=Object(u.a)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Ji(o,e),c=Ji(o,t);if(0===s)r[0]=e.Le();else if(s>0&&c<0)r.push(o),r.push(o.Le());else if(c>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2)l.push(IDBKeyRange.bound([r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,na,[]],[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,na,[]]));return l}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(sa)}},{key:"getMinOffset",value:function(e,t){var n=this;return me.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||A()}))})).next(sa)}}]),e}();function ia(e){return _i(e,"collectionParents")}function aa(e){return _i(e,"indexEntries")}function oa(e){return _i(e,"indexConfiguration")}function ua(e){return _i(e,"indexState")}function sa(e){N(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;he(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fe(t.readTime,t.documentKey,n)}var ca={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},la=function(){function e(t,n,r){Object(p.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(v.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fa(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){N(1===s)})));var l,f=[],h=Object(u.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Zr(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return me.waitFor(a).next((function(){return f}))}function ha(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);var da=function(){function e(t,n,r,i){Object(p.a)(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return va(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ya(e),o=va(e);return o.add({}).next((function(s){N("number"==typeof s);var c,l=new wi(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Pr(e.ne,t)})),i=n.mutations.map((function(t){return Pr(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,l),h=[],d=new Le((function(e,t){return Q(e.canonicalString(),t.canonicalString())})),p=Object(u.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,y=Zr(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(y,ei))}}catch(m){p.e(m)}finally{p.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=l.keys()})),me.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return va(e).get(t).next((function(e){return e?(N(e.userId===n.userId),Ai(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?me.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return va(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(N(t.batchId>=r),a=Ai(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return va(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return va(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ai(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Xr(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ya(e).J({range:i},(function(r,i,u){var s=Object(o.a)(r,3),c=s[0],l=s[1],f=s[2],h=Yr(l);if(c===n.userId&&t.path.isEqual(h))return va(e).get(f).next((function(e){if(!e)throw A();N(e.userId===n.userId),a.push(Ai(n.wt,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Le(Q),i=[];return t.forEach((function(t){var a=Xr(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=ya(e).J({range:u},(function(e,i,a){var u=Object(o.a)(e,3),s=u[0],c=u[1],l=u[2],f=Yr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),me.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Xr(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new Le(Q);return ya(e).J({range:u},(function(e,t,a){var u=Object(o.a)(e,3),c=u[0],l=u[1],f=u[2],h=Yr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(va(e).get(t).next((function(e){if(null===e)throw A();N(e.userId===n.userId),r.push(Ai(n.wt,e))})))})),me.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fa(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),me.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return me.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ya(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Yr(e[1]);i.push(a)}else r.done()})).next((function(){N(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pa(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return ma(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return N(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pa(e,t,n){var r=Xr(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return ya(e).J({range:a,H:!0},(function(e,n,r){var a=Object(o.a)(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function va(e){return _i(e,"mutations")}function ya(e){return _i(e,"documentMutations")}function ma(e){return _i(e,"mutationQueues")}var ga=function(){function e(t){Object(p.a)(this,e),this.En=t}return Object(v.a)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),ba=function(){function e(t,n){Object(p.a)(this,e),this.referenceDelegate=t,this.wt=n}return Object(v.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new ga(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return X.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ka(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return N(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ka(e).J((function(o,u){var s=Ni(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return me.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ka(e).J((function(e,n){var r=Ni(n);t(r)}))}},{key:"bn",value:function(e){return _a(e).get("targetGlobalKey").next((function(e){return N(null!==e),e}))}},{key:"Pn",value:function(e,t){return _a(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return ka(e).put(Pi(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Et(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ka(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ni(n);It(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wa(e);return t.forEach((function(t){var o=Gr(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),me.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wa(e);return me.forEach(t,(function(t){var a=Gr(t.path);return me.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wa(e),i=rr();return r.J({range:n,H:!0},(function(e,t,n){var r=Yr(e[1]),a=new re(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gr(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return wa(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return ka(e).get(t).next((function(e){return e?Ni(e):null}))}}]),e}();function ka(e){return _i(e,"targets")}function _a(e){return _i(e,"targetGlobal")}function wa(e){return _i(e,"targetDocuments")}function Oa(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),u=a[0],s=a[1],c=Q(r,u);return 0===c?Q(i,s):c}var ja=function(){function e(t){Object(p.a)(this,e),this.Sn=t,this.buffer=new Le(Oa),this.Dn=0}return Object(v.a)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Oa(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xa=function(){function e(t,n,r){Object(p.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Object(v.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;I("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!we(e.t0)){e.next=12;break}I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ve(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ea=function(){function e(t,n){Object(p.a)(this,e),this.On=t,this.params=n}return Object(v.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return me.resolve(Se.ot);var r=new ja(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ca)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ca):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),x()<=g.a.DEBUG&&I("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ia=function(){function e(t,n){Object(p.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ea(e,t)}(this,n)}return Object(v.a)(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ta(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return ma(e).Y((function(r){return pa(e,r,t).next((function(e){return e&&(n=!0),me.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,X.min()),wa(e).delete([0,Gr(o.path)])}))}));i.push(s)}})).next((function(){return me.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ta(e,t)}},{key:"Ln",value:function(e,t){var n,r=wa(e),i=Se.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=Object(o.a)(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==Se.ot&&t(new re(Yr(n)),i),i=c,n=s):i=Se.ot})).next((function(){i!==Se.ot&&t(new re(Yr(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ta(e,t){return wa(e).put(function(e,t){return{targetId:0,path:Gr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Sa=function(){function e(){Object(p.a)(this,e),this.changes=new Hn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(v.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ca=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ra(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ra(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ti(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ot.newInvalidDocument(t);return Ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Da(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Ot.newInvalidDocument(t)};return Ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Da(t))},(function(e,i){r={document:n.Kn(t,i),size:ha(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qn();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Qn(),i=new Pe(re.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,ha(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return me.resolve();var r=new Le(Ma);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Da(r.first()),Da(r.last())),a=r.getIterator(),o=a.getNext();return Ra(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=re.fromSegments([].concat(Object(d.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ma(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Da(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ti(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ra(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qn(),i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(re.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qn(),o=La(t,n),u=La(t,fe.max());return Ra(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(re.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Na(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Pa(e).get("remoteDocumentGlobalKey").next((function(e){return N(!!e),e}))}},{key:"qn",value:function(e,t){return Pa(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ar(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=re.fromSegments(t.noDocument.path),i=Ci(t.noDocument.readTime);n=Ot.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return A();var a=re.fromSegments(t.unknownDocument.path),o=Ci(t.unknownDocument.version);n=Ot.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new J(e[0],e[1]);return X.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return Ot.newInvalidDocument(e)}}]),e}();function Aa(e){return new Ca(e)}var Na=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Hn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Le((function(e,t){return Q(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ii(t.zn.wt,o);i=i.add(a.path.popLast());var c=ha(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ii(t.zn.wt,o.convertToNoDocument(X.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Sa);function Pa(e){return _i(e,"remoteDocumentGlobal")}function Ra(e){return _i(e,"remoteDocumentsV14")}function Da(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function La(e,t){var n=t.documentKey.path.toArray();return[e,Ti(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ma(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Q(n[a],r[a]))return i;return(i=Q(n.length,r.length))||((i=Q(n[n.length-2],r[r.length-2]))||Q(n[n.length-1],r[r.length-1]))}var Fa=function e(t,n){Object(p.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},Ua=function(){function e(t,n,r,i){Object(p.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(v.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&An(r.mutation,e,Ue.empty(),J.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rr()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr(),i=Xn();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yn();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Xn();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rr())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Qn(),a=er(),o=er();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dn)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),An(o.mutation,t,o.mutation.getFieldMask(),J.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Fa(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=er(),i=new Pe((function(e,t){return e-t})),a=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Object(u.a)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ue.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||rr()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zn();c.forEach((function(e){if(!a.has(e)){var n=Sn(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return me.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):me.resolve(Xn()),u=-1,s=a;return o.next((function(t){return me.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?me.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,rr())})).next((function(e){return{batchId:u,changes:Jn(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new re(t)).next((function(e){var t=Yn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yn();return this.indexManager.getCollectionParents(e,i).next((function(o){return me.forEach(o,(function(o){var u=function(e,t){return new Ht(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Ot.newInvalidDocument(n)))}));var n=Yn();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&An(a.mutation,i,Ue.empty(),J.now()),an(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(Ot.newInvalidDocument(t))}}]),e}(),Va=function(){function e(t){Object(p.a)(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return me.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:_r(n.createTime)}),me.resolve()}},{key:"getNamedQuery",value:function(e,t){return me.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Ri(e.bundledQuery),readTime:_r(e.readTime)}}(t)),me.resolve()}}]),e}(),qa=function(){function e(){Object(p.a)(this,e),this.overlays=new Pe(re.comparator),this.Xn=new Map}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){return me.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xn();return me.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),me.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),me.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Xn(),i=t.length+1,a=new re(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return me.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pe((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Xn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Xn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return me.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ji(t,n));var a=this.Xn.get(t);void 0===a&&(a=rr(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Ba=function(){function e(){Object(p.a)(this,e),this.Zn=new Le(za.ts),this.es=new Le(za.ns)}return Object(v.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new za(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new za(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new re(new ee([])),r=new za(n,e),i=new za(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new re(new ee([])),n=new za(t,e),r=new za(t,e+1),i=rr();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new za(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),za=function(){function e(t,n){Object(p.a)(this,e),this.key=t,this.ls=n}return Object(v.a)(e,null,[{key:"ts",value:function(e,t){return re.comparator(e.key,t.key)||Q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Q(e.ls,t.ls)||re.comparator(e.key,t.key)}}]),e}(),Wa=function(){function e(t,n){Object(p.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Le(za.ts)}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){return me.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wi(i,t,n,r);this.mutationQueue.push(a);var o,s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.ds=this.ds.add(new za(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return me.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return me.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return me.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new za(t,0),i=new za(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),me.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Le(Q);return t.forEach((function(e){var t=new za(e,0),i=new za(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),me.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;re.isDocumentKey(i)||(i=i.child(""));var a=new za(new re(i),0),o=new Le(Q);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),me.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;N(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return me.forEach(t.mutations,(function(i){var a=new za(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new za(t,0),r=this.ds.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,me.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ka=function(){function e(t){Object(p.a)(this,e),this.ps=t,this.docs=new Pe(re.comparator),this.size=0}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():Ot.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qn();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ot.newInvalidDocument(e))})),me.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qn(),i=new re(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||he(le(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return me.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){A()}},{key:"Is",value:function(e,t){return me.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ha(this)}},{key:"getSize",value:function(e){return me.resolve(this.size)}}]),e}(),Ha=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).zn=e,r}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Sa),Ga=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.Ts=new Hn((function(e){return Et(e)}),It),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Es=0,this.As=new Ba,this.targetCount=0,this.Rs=ga.An()}return Object(v.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),me.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return me.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return me.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),me.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,me.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),me.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,me.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),me.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return me.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return me.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),me.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),me.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),me.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return me.resolve(n)}},{key:"containsKey",value:function(e,t){return me.resolve(this.As.containsKey(t))}}]),e}(),Qa=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.bs={},this.overlays={},this.Ps=new Se(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Ga(this),this.indexManager=new ea,this.remoteDocumentCache=new Ka((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Ei(n),this.Ds=new Va(this.wt)}return Object(v.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qa,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Wa(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;I("MemoryPersistence","Starting transaction:",e);var i=new $a(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return me.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$a=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(pe),Ya=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.ks=new Ba,this.Os=null}return Object(v.a)(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw A()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),me.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),me.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),me.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,(function(r){var i=re.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,X.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return me.or([function(){return me.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Ja=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jr,{unique:!0}),e.createObjectStore("documentMutations")}(e),Xa(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=me.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Xa(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:X.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jr,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return me.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:hi});t.createIndex("collectionPathOverlayIndex",di,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",pi,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ti});t.createIndex("documentKeyIndex",ni),t.createIndex("collectionGroupIndex",ri)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:si}).createIndex("sequenceNumberIndex",ci,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:li}).createIndex("documentKeyIndex",fi,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=ha(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return me.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return me.forEach(r,(function(r){N(r.userId===n.userId);var i=Ai(t.wt,r);return fa(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new ee(n),o=function(e){return[0,Gr(e)]}(a);r.push(t.get(o).next((function(n){return n?me.resolve():function(n){return t.put({targetId:0,path:Gr(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return me.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ui});var n=t.store("collectionParents"),r=new ta,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gr(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new ee(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],Yr(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Ni(r),a=Pi(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new re(ee.fromString(i.document.name).popFirst(5)):i.noDocument?re.fromSegments(i.noDocument.path):i.unknownDocument?re.fromSegments(i.unknownDocument.path):A()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return me.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Aa(this.wt),a=new Qa(Ya.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rr();Ai(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),me.forEach(r,(function(e,r){var o=new w(r),u=qi.se(n.wt,o),s=a.getIndexManager(o),c=da.se(o,n.wt,s,a.referenceDelegate);return new Ua(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ki(t,Se.ot),e).next()}))}))}}]),e}();function Xa(e){e.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",oi,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ii,{unique:!0}),e.createObjectStore("targetGlobal")}var Za="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eo=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Object(p.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new L(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ia(this,i),this.ei=n+"main",this.wt=new Ei(s),this.ni=new be(this.ei,this.Hs,new Ja(this.wt)),this.Vs=new ba(this.referenceDelegate,this.wt),this.remoteDocumentCache=Aa(this.wt),this.Ds=new Fi,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(v.a)(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Za);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Se(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Object(l.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return no(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(we(t))return I("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return to(e).get("owner").next((function(e){return me.resolve(t.di(e))}))}},{key:"_i",value:function(e){return no(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_i(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return me.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Object(u.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?me.resolve(!0):to(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Za);return!1}}return!(!t.networkEnabled||!t.inForeground)||no(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&I("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ki(e,Se.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return no(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return da.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ra(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return qi.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;I("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?bi:14===i?gi:13===i?mi:12===i?yi:11===i?vi:void A();return this.ni.runTransaction(e,o,u,(function(i){return a=new ki(i,r.Ps?r.Ps.next():Se.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw T("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new L(D.FAILED_PRECONDITION,de);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return to(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(D.FAILED_PRECONDITION,Za)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return to(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=to(e);return n.get("owner").next((function(e){return t.di(e)?(I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):me.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(T("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Object(b.F)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return I("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return T("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){T("Failed to set zombie client id.",e)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return be.V()}}]),e}();function to(e){return _i(e,"owner")}function no(e){return _i(e,"clientMetadata")}function ro(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var io=function(){function e(t,n,r,i){Object(p.a)(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Object(v.a)(e,null,[{key:"Vi",value:function(t,n){var r,i=rr(),a=rr(),o=Object(u.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ao=function(){function e(){Object(p.a)(this,e),this.Si=!1}return Object(v.a)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return me.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(X.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(x()<=g.a.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rn(t)),i.Mi(e,o,t,ce(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Le(un(e));return t.forEach((function(t,r){an(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return x()<=g.a.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",rn(t)),this.Di.getDocumentsMatchingQuery(e,t,fe.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),oo=function(){function e(t,n,r,i){Object(p.a)(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Pe(Q),this.Bi=new Hn((function(e){return Et(e)}),It),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Object(v.a)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ua(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function uo(e,t,n,r){return new oo(e,t,n,r)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=rr(),c=Object(u.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=Object(u.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(u.a)(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var m,g=Object(u.a)(y.mutations);try{for(g.s();!(m=g.n()).done;){var b=m.value;s=s.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){var n=R(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=me.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);N(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function fo(e){var t=R(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function ho(e,t){var n=R(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(qe.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Qn(),s=rr();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(po(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(X.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return me.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function po(e,t,n){var r=rr(),i=rr();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qn();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(X.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):I("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function vo(e,t){var n=R(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yo(e,t){var n=R(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,me.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new xi(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function mo(e,t,n){return go.apply(this,arguments)}function go(){return(go=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),we(e.t1)){e.next=12;break}throw e.t1;case 12:I("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function bo(e,t,n){var r=R(e),i=X.min(),a=rr();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=R(e),i=r.Bi.get(n);return void 0!==i?me.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Zt(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:X.min(),n?a:rr())})).next((function(e){return wo(r,on(t),e),{documents:e,ji:a}}))}))}function ko(e,t){var n=R(e),r=R(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function _o(e,t){var n=R(e),r=n.Li.get(t)||X.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,ce(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return wo(n,t,e),e}))}function wo(e,t,n){var r=X.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function Oo(e,t,n,r){return jo.apply(this,arguments)}function jo(){return(jo=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s,l,f,h,d,p,v,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=R(t),o=rr(),s=Qn(),l=Object(u.a)(r);try{for(l.s();!(f=l.n()).done;)h=f.value,d=n.Wi(h.metadata.name),h.document&&(o=o.add(d)),(p=n.zi(h)).setReadTime(n.Hi(h.metadata.readTime)),s=s.insert(d,p)}catch(c){l.e(c)}finally{l.f()}return v=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,yo(a,function(e){return Zt(Qt(ee.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return y=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return po(e,v,s).next((function(t){return v.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,y.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,y.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rr(),e.next=3,yo(t,Zt(Ri(n.bundledQuery)));case 3:return i=e.sent,a=R(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=_r(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(qe.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function To(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function So(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Co=function(){function e(t,n,r,i){Object(p.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(v.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new L(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(T("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ao=function(){function e(t,n,r){Object(p.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(v.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),a?new e(t,i.state,r):(T("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),No=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(v.a)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ar(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ze(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(T("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Po=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.onlineState=n}return Object(v.a)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(T("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ro=function(){function e(){Object(p.a)(this,e),this.activeTargetIds=ar()}return Object(v.a)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Do=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Pe(Q),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Io(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ro),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Object(v.a)(e,[{key:"start",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a,o,s,l,f,h,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Object(u.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Io(this.persistenceKey,i)))&&(o=No.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(l=this.wr(s))&&this.mr(l),f=Object(u.a)(this.ir);try{for(f.s();!(h=f.n()).done;)d=h.value,this.nr(d)}catch(c){f.e(c)}finally{f.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(So(this.persistenceKey,e));if(n){var r=Ao.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(So(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return I("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){I("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Object(l.a)(c.a.mark((function e(){var r,i,a,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}(s=function(e){var t=Se.ot;if(null!=e)try{var n=JSON.parse(e);N("number"==typeof n),t=n}catch(e){T("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Se.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return l=t.Cr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Co(this.currentUser,e,t,n),i=To(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=To(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=So(this.persistenceKey,e),i=new Ao(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return No.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Co.Ji(new w(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Ao.Ji(r,t)}},{key:"wr",value:function(e){return Po.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:I("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=ar();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Lo=function(){function e(){Object(p.a)(this,e),this.Fr=new Ro,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(v.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Ro,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Mo=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fo=function(){function e(){var t=this;Object(p.a)(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Object(v.a)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(u.a)(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(u.a)(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Uo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vo=function(){function e(t){Object(p.a)(this,e),this.jr=t.jr,this.Wr=t.Wr}return Object(v.a)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),qo=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(v.a)(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new k.g;o.listenOnce(k.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case k.a.NO_ERROR:var t=o.getResponseJson();I("Connection","XHR received:",JSON.stringify(t)),i(t);break;case k.a.TIMEOUT:I("Connection",'RPC "'+e+'" timed out'),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case k.a.HTTP_ERROR:var n=o.getStatus();if(I("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(r.status);a(new L(u,r.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{I("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(k.h)(),a=Object(k.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new k.d({})),this.uo(o.initMessageHeaders,t,n),Object(b.B)()||Object(b.E)()||Object(b.x)()||Object(b.z)()||Object(b.G)()||Object(b.w)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");I("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Vo({jr:function(e){l?I("Connection","Not sending because WebChannel is closed:",e):(c||(I("Connection","Opening WebChannel transport."),s.open(),c=!0),I("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,k.f.EventType.OPEN,(function(){l||I("Connection","WebChannel transport opened.")})),h(s,k.f.EventType.CLOSE,(function(){l||(l=!0,I("Connection","WebChannel transport closed"),f.eo())})),h(s,k.f.EventType.ERROR,(function(e){l||(l=!0,S("Connection","WebChannel transport errored:",e),f.eo(new L(D.UNAVAILABLE,"The operation could not be completed")))})),h(s,k.f.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];N(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){I("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Un[e];if(void 0!==t)return Kn(t)}(a),u=i.message;void 0===o&&(o=D.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new L(o,u)),s.close()}else I("Connection","WebChannel received:",n),f.no(n)}})),h(a,k.b.STAT_EVENT,(function(e){e.stat===k.e.PROXY?I("Connection","Detected buffering proxy"):e.stat===k.e.NOPROXY&&I("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Object(p.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(v.a)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);I("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return I("RestConnection","Received: ",e),e}),(function(t){throw S("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Uo[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Bo(){return"undefined"!=typeof window?window:null}function zo(){return"undefined"!=typeof document?document:null}function Wo(e){return new mr(e,!0)}var Ko=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(p.a)(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Object(v.a)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Ho=function(){function e(t,n,r,i,a,o,u,s){Object(p.a)(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Ko(t,n)}return Object(v.a)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(T(n.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Object(o.a)(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new L(D.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return I("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Go=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Object(v.a)(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(N(void 0===t||"string"==typeof t),qe.fromBase64String(t||"")):(N(void 0===t||t instanceof Uint8Array),qe.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?D.UNKNOWN:Kn(e.code);return new L(t,e.message||"")}(o);n=new lr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xr(e,s.document.name),l=_r(s.document.updateTime),f=new _t({mapValue:{fields:s.document.fields}}),h=Ot.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new sr(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=xr(e,v.document),m=v.readTime?_r(v.readTime):X.min(),g=Ot.newNoDocument(y,m),b=v.removedTargetIds||[];n=new sr([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var _=xr(e,k.document),w=k.removedTargetIds||[];n=new sr([],w,_,null)}else{if(!("filter"in t))return A();t.filter;var O=t.filter;O.targetId;var j=O.count||0,x=new zn(j),E=O.targetId;n=new cr(E,x)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?_r(t.readTime):X.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Tr(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Tt(r)?{documents:Dr(e,r)}:{query:Lr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=br(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=gr(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Tr(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Ho),Qo=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Object(v.a)(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(N(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(N(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_r(e.updateTime):_r(t);return n.isEqual(X.min())&&(n=_r(t)),new xn(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_r(e.commitTime);return this.listener.Jo(n,t)}return N(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Tr(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Pr(t.wt,e)}))};this.Mo(n)}}]),n}(Ho),$o=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o;return Object(p.a)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Object(v.a)(n,[{key:"tu",value:function(){if(this.Zo)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Object(o.a)(i,2),u=a[0],s=a[1];return r.bo.ro(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Object(o.a)(i,2),u=a[0],s=a[1];return r.bo.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return function e(){Object(p.a)(this,e)}}()),Yo=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Object(v.a)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(T(t),this.su=!1):I("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Jo=function e(t,n,r,i,a){var o=this;Object(p.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=su(o),!e.t0){e.next=5;break}return I("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R(t)).lu.add(4),e.next=4,eu(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Xo(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Yo(r,i)};function Xo(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!su(t)){e.next=18;break}n=Object(u.a)(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(u.a)(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function nu(e,t){var n=R(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),uu(n)?ou(n):Mu(n).Co()&&iu(n,t))}function ru(e,t){var n=R(e),r=Mu(n);n.hu.delete(t),r.Co()&&au(n,t),0===n.hu.size&&(r.Co()?r.ko():su(n)&&n._u.set("Unknown"))}function iu(e,t){e.wu.Nt(t.targetId),Mu(e).Qo(t)}function au(e,t){e.wu.Nt(t),Mu(e).jo(t)}function ou(e){e.wu=new hr({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Mu(e).start(),e._u.iu()}function uu(e){return su(e)&&!Mu(e).Do()&&e.hu.size>0}function su(e){return 0===R(e).lu.size}function cu(e){e.wu=void 0}function lu(e){return fu.apply(this,arguments)}function fu(){return(fu=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){iu(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return(du=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cu(t),uu(t)?(t._u.uu(n),ou(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return(vu=Object(l.a)(c.a.mark((function e(t,n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof lr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(u.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),I("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yu(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof sr?t.wu.Ut(n):n instanceof cr?t.wu.zt(n):t.wu.Gt(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,fo(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(qe.EMPTY_BYTE_STRING,n.snapshotVersion)),au(e,t);var r=new xi(n.target,t,1,n.sequenceNumber);iu(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),I("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yu(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function yu(e,t,n){return mu.apply(this,arguments)}function mu(){return(mu=Object(l.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,eu(t);case 5:t._u.set("Offline"),r||(r=function(){return fo(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Xo(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){return t().catch((function(n){return yu(e,n,t)}))}function bu(e){return ku.apply(this,arguments)}function ku(){return(ku=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(t),r=Fu(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!_u(n)){e.next=19;break}return e.prev=3,e.next=6,vo(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,wu(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yu(n,e.t0);case 17:e.next=2;break;case 19:Ou(n)&&ju(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function _u(e){return su(e)&&e.au.length<10}function wu(e,t){e.au.push(t);var n=Fu(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Ou(e){return su(e)&&!Fu(e).Do()&&e.au.length>0}function ju(e){Fu(e).start()}function xu(e){return Eu.apply(this,arguments)}function Eu(){return(Eu=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fu(t).Xo();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e){return Tu.apply(this,arguments)}function Tu(){return(Tu=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fu(t),r=Object(u.a)(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t,n){return Cu.apply(this,arguments)}function Cu(){return(Cu=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Oi.from(i,n,r),e.next=3,gu(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bu(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Fu(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wn(i=n.code)||i===D.ABORTED){e.next=7;break}return r=t.au.shift(),Fu(t).No(),e.next=5,gu(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bu(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ou(t)&&ju(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=R(t)).asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials"),i=su(r),r.lu.add(3),e.next=6,eu(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Xo(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Xo(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,eu(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e){return e.mu||(e.mu=function(e,t,n){var r=R(e);return r.tu(),new Go(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:lu.bind(null,e),Jr:hu.bind(null,e),Go:pu.bind(null,e)}),e.fu.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),uu(e)?ou(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:cu(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Fu(e){return e.gu||(e.gu=function(e,t,n){var r=R(e);return r.tu(),new Qo(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:xu.bind(null,e),Jr:Au.bind(null,e),Yo:Iu.bind(null,e),Jo:Su.bind(null,e)}),e.fu.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,bu(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(I("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Uu=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(v.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vu(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),we(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qu=function(){function e(t){Object(p.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||re.comparator(e.key,n.key)}:function(e,t){return re.comparator(e.key,t.key)},this.keyedMap=Yn(),this.sortedSet=new Pe(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bu=function(){function e(){Object(p.a)(this,e),this.yu=new Pe(re.comparator)}return Object(v.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):A():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zu=function(){function e(t,n,r,i,a,o,u,s){Object(p.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(v.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qu.emptySet(n),a,r,i,!0,!1)}}]),e}(),Wu=function e(){Object(p.a)(this,e),this.Iu=void 0,this.listeners=[]},Ku=function e(){Object(p.a)(this,e),this.queries=new Hn((function(e){return nn(e)}),tn),this.onlineState="Unknown",this.Tu=new Set};function Hu(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Wu),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Vu(e.t0,"Initialization of query '".concat(rn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Xu(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return($u=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){var n,r=R(e),i=!1,a=Object(u.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=Object(u.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.Au(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.Iu=o}}}catch(h){a.e(h)}finally{a.f()}i&&Xu(r)}function Ju(e,t,n){var r=R(e),i=r.queries.get(t);if(i){var a,o=Object(u.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Xu(e){e.Tu.forEach((function(e){e.next()}))}var Zu=function(){function e(t,n,r){Object(p.a)(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Object(v.a)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(u.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),es=function(){function e(t,n){Object(p.a)(this,e),this.payload=t,this.byteLength=n}return Object(v.a)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),ts=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"Wi",value:function(e){return xr(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Ar(this.wt,e.document,!1):Ot.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return _r(e)}}]),e}(),ns=function(){function e(t,n,r){Object(p.a)(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rs(t)}return Object(v.a)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new ts(this.wt),i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),c=Object(u.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||rr()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(this.localStore,new ts(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Object(u.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xo(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rs(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var is=function e(t){Object(p.a)(this,e),this.key=t},as=function e(t){Object(p.a)(this,e),this.key=t},os=function(){function e(t,n){Object(p.a)(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=rr(),this.mutatedKeys=rr(),this.Lu=un(t),this.Uu=new qu(this.Lu)}return Object(v.a)(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Bu,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=an(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new zu(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Bu,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=rr(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new as(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new is(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=rr();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return zu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),us=function e(t,n,r){Object(p.a)(this,e),this.query=t,this.targetId=n,this.view=r},ss=function e(t){Object(p.a)(this,e),this.key=t,this.Xu=!1},cs=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Hn((function(e){return nn(e)}),tn),this.ec=new Map,this.nc=new Set,this.sc=new Pe(re.comparator),this.ic=new Map,this.rc=new Ba,this.oc={},this.uc=new Map,this.cc=ga.Rn(),this.onlineState="Unknown",this.ac=void 0}return Object(v.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rc(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,yo(r.localStore,Zt(n));case 8:return u=e.sent,r.isPrimaryClient&&nu(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,hs(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t,n,r){return ds.apply(this,arguments)}function ds(){return(ds=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,bo(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ps(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bo(t.localStore,n,!0);case 3:return a=e.sent,o=new os(n,a.ji),u=o.Ku(a.documents),s=ur.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=o.applyChanges(u,t.isPrimaryClient,s),Ps(t,r,f.zu),h=new us(n,r,o),e.abrupt("return",(t.tc.set(n,h),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!tn(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mo(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ru(r.remoteStore,i.targetId),As(r,i.targetId)})).catch(ve);case 9:e.next=14;break;case 11:return As(r,i.targetId),e.next=14,mo(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t,n){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ic(t),e.prev=1,e.next=4,function(e,t){var n,r,i=R(e),a=J.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rr());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Qn(),c=rr();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],c=Object(u.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Nn(l,n.get(l.key).overlayedDocument);null!=f&&s.push(new Dn(l.key,f,wt(f.value.mapValue),En.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jn(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Pe(Q)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ls(i,a.changes);case 9:return e.next=11,bu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vu(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function gs(e,t){return bs.apply(this,arguments)}function bs(){return(bs=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,ho(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?N(n.Xu):e.removedDocuments.size>0&&(N(n.Xu),n.Xu=!1))})),e.next=8,Ls(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ve(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function ks(e,t,n){var r=R(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=R(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(u.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Xu(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _s(e,t,n){return ws.apply(this,arguments)}function ws(){return(ws=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=R(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pe(re.comparator)).insert(o,Ot.newNoDocument(o,X.min())),s=rr().add(o),l=new or(X.min(),new Map,new Le(Q),u,s),e.next=9,gs(i,l);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Ds(i),e.next=16;break;case 14:return e.next=16,mo(i.localStore,n,!1).then((function(){return As(i,n,r)})).catch(ve);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t){return js.apply(this,arguments)}function js(){return(js=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=n.batch.batchId,e.prev=1,e.next=4,lo(r.localStore,n);case 4:return a=e.sent,Cs(r,i,null),Ss(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ls(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xs(e,t,n){return Es.apply(this,arguments)}function Es(){return(Es=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=R(t),e.prev=1,e.next=4,function(e,t){var n=R(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return N(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Cs(i,n,r),Ss(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ls(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Is(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return su((r=R(t)).remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=R(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vu(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Ss(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Cs(e,t,n){var r=R(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function As(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(u.a)(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Ns(e,t)}))}function Ns(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(ru(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Ds(e))}function Ps(e,t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof is?(e.rc.addReference(a.key,t),Rs(e,a)):a instanceof as?(I("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Ns(e,a.key)):A()}}catch(o){i.e(o)}finally{i.f()}}function Rs(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(I("SyncEngine","New document in limbo: "+n),e.nc.add(r),Ds(e))}function Ds(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new re(ee.fromString(t)),r=e.cc.next();e.ic.set(r,new ss(n)),e.sc=e.sc.insert(n,r),nu(e.remoteStore,new xi(Zt(Qt(n.path)),r,2,Se.ot))}}function Ls(e,t,n){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=io.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return me.forEach(n,(function(t){return me.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return me.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),we(e.t0)){e.next=10;break}throw e.t0;case 10:I("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(u.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(l=r.$i.get(s),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.$i=r.$i.insert(s,h))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=R(t)).currentUser.isEqual(n)){e.next=11;break}return I("SyncEngine","User change. New user:",n.toKey()),e.next=5,so(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new L(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ls(r,i.Ki);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){var n=R(e),r=n.ic.get(t);if(r&&r.Xu)return rr().add(r.key);var i=rr(),a=n.ec.get(t);if(!a)return i;var o,s=Object(u.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.tc.get(c);i=i.unionWith(l.view.qu)}}catch(f){s.e(f)}finally{s.f()}return i}function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.next=3,bo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Ps(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.abrupt("return",_o(r.localStore,n).then((function(e){return Ls(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t,n,r){return Hs.apply(this,arguments)}function Hs(){return(Hs=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R(t),e.next=3,function(e,t){var n=R(e),r=R(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):me.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,bu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Cs(a,n,i||null),Ss(a,n),function(e,t){R(R(e).mutationQueue).In(t)}(a.localStore,n)):A();case 11:return e.next=13,Ls(a,o);case 13:e.next=16;break;case 15:I("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rc(r=R(t)),ic(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$s(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Du(r.remoteStore,!0);case 9:o=Object(u.a)(a);try{for(o.s();!(s=o.n()).done;)l=s.value,nu(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return f=[],h=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return As(r,t),mo(r.localStore,t,!0)})),ru(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,$s(r,f);case 21:return function(e){var t=R(e);t.ic.forEach((function(e,n){ru(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Pe(re.comparator)}(r),r.ac=!1,e.next=25,Du(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(e,t,n){return Ys.apply(this,arguments)}function Ys(){return(Ys=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,l,f,h,d,p,v,y,m,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=R(t),a=[],o=[],s=Object(u.a)(n),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.ec.get(f))||0===d.length){e.next=34;break}return e.next=11,yo(i.localStore,Zt(d[0]));case 11:h=e.sent,p=Object(u.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return y=v.value,m=i.tc.get(y),e.next=20,qs(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ko(i.localStore,f);case 36:return b=e.sent,e.next=39,yo(i.localStore,b);case 39:return h=e.sent,e.next=42,hs(i,Js(b),f,!1);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function Js(e){return Gt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xs(e){var t=R(e);return R(R(t.localStore).persistence).Ri()}function Zs(e,t,n,r){return ec.apply(this,arguments)}function ec(){return(ec=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=R(t)).ac){e.next=3;break}return e.abrupt("return",void I("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,_o(a.localStore,on(o[0]));case 10:return u=e.sent,s=or.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ls(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,mo(a.localStore,n,!0);case 17:return As(a,n,i),e.abrupt("break",20);case 19:A();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return(nc=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,l,f,h,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rc(t)).ac){e.next=45;break}a=Object(u.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ec.has(s)){e.next=10;break}return I("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,ko(i.localStore,s);case 12:return l=e.sent,e.next=15,yo(i.localStore,l);case 15:return f=e.sent,e.next=18,hs(i,Js(l),f.targetId,!1);case 18:nu(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(u.a)(r),e.prev=30,p=c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,mo(i.localStore,t,!1).then((function(){ru(i.remoteStore,t),As(i,t)})).catch(ve);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function rc(e){var t=R(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_s.bind(null,t),t.Zu.Go=Yu.bind(null,t.eventManager),t.Zu.lc=Ju.bind(null,t.eventManager),t}function ic(e){var t=R(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Os.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xs.bind(null,t),t}function ac(e,t,n){var r=R(e);(function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=R(e),r=_r(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(rs(i)),a=new ns(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ls(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=R(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(S("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var oc=function(){function e(){Object(p.a)(this,e),this.synchronizeTabs=!1}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Wo(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return uo(this.persistence,new ao,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Qa(Ya.Ms,this.wt)}},{key:"dc",value:function(e){return new Lo}},{key:"terminate",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,ic(this.yc.syncEngine);case 6:return e.next=8,bu(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return uo(this.persistence,new ao,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new xa(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Te(t,this.persistence);return new Ie(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=ro(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new eo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bo(),zo(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Lo}}]),n}(oc),sc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Do,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ks.bind(null,r),Or:Zs.bind(null,r),Mr:tc.bind(null,r),Ri:Xs.bind(null,r),Nr:zs.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(o.yc.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start():t||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(t&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():t||o.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Bo();if(!Do.V(t))throw new L(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ro(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Do(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uc),cc=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ks(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fs.bind(null,this.syncEngine),e.next=12,Du(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ku}},{key:"createDatastore",value:function(e){var t,n=Wo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new qo(t));return function(e,t,n,r){return new $o(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ks(o.syncEngine,e,0)},a=Fo.V()?new Fo:new Mo,new Jo(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new cs(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(t),I("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,eu(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fc=function(){function e(t){Object(p.a)(this,e),this.observer=t,this.muted=!1}return Object(v.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hc=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.Ec=t,this.wt=n,this.metadata=new M,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(v.a)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new es(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dc=function(){function e(t){Object(p.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(v.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=Tr(r.wt)+"/documents",a={documents:n.map((function(e){return jr(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Nr(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());N(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=re.fromPath(t);n.mutations.push(new Bn(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=Tr(r.wt)+"/documents",a={writes:n.map((function(e){return Pr(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?En.updateTime(t):En.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new L(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(t)}return En.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pc=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Ko(this.asyncQueue,"transaction_retry")}return Object(v.a)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dc(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Je(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wn(t)}return!1}}]),e}(),vc=function(){function e(t,n,r,i){var a=this;Object(p.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=w.UNAUTHENTICATED,this.clientId=G.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return I("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Object(v.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vu(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,so(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(e,t){return bc.apply(this,arguments)}function bc(){return(bc=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,kc(t);case 3:return r=e.sent,I("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Pu(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Pu(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e){return _c.apply(this,arguments)}function _c(){return(_c=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return I("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yc(t,new oc);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e){return Oc.apply(this,arguments)}function Oc(){return(Oc=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return I("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gc(t,new cc);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e){return kc(e).then((function(e){return e.persistence}))}function xc(e){return kc(e).then((function(e){return e.localStore}))}function Ec(e){return wc(e).then((function(e){return e.remoteStore}))}function Ic(e){return wc(e).then((function(e){return e.syncEngine}))}function Tc(e){return Sc.apply(this,arguments)}function Sc(){return(Sc=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ls.bind(null,n.syncEngine),r.onUnlisten=ps.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fc({next:function(a){t.enqueueAndForget((function(){return Qu(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Zu(Qt(n.path),a,{includeMetadataChanges:!0,Du:!0});return Hu(e,o)},i.next=3,Tc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ac(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fc({next:function(n){t.enqueueAndForget((function(){return Qu(e,o)})),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Zu(n,a,{includeMetadataChanges:!0,Du:!0});return Hu(e,o)},i.next=3,Tc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Nc=new Map;function Pc(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rc(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Dc(e){if(!re.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lc(e){if(re.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function Fc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mc(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Uc(e,t){if(t<=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vc=function(){function e(t){var n;if(Object(p.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Rc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qc=function(){function e(t,n,r){Object(p.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vc({}),this._settingsFrozen=!1,t instanceof Ye?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ye(e.options.projectId)}(t))}return Object(v.a)(e,[{key:"app",get:function(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return N(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new z(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Nc.get(e);t&&(I("ComponentProvider","Removing Datastore"),Nc.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bc(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Fc(e,qc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&S("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=w.MOCK_USER;else{o=Object(b.l)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new w(s)}e._authCredentials=new V(new F(o,u))}}var zc=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(v.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Kc(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wc=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Kc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,Qt(i)))._path=i,a.type="collection",a}return Object(v.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zc(this.firestore,null,new re(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wc);function Hc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.s)(e),Pc("collection","path",t),e instanceof qc){var a=ee.fromString.apply(ee,[t].concat(r));return Lc(a),new Kc(e,null,a)}if(!(e instanceof zc||e instanceof Kc))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Lc(o),new Kc(e.firestore,null,o)}function Gc(e,t){if(e=Fc(e,qc),Pc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Wc(e,null,function(e){return new Ht(ee.emptyPath(),e)}(t))}function Qc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.s)(e),1===arguments.length&&(t=G.I()),Pc("doc","path",t),e instanceof qc){var a=ee.fromString.apply(ee,[t].concat(r));return Dc(a),new zc(e,null,new re(a))}if(!(e instanceof zc||e instanceof Kc))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Dc(o),new zc(e.firestore,e instanceof Kc?e.converter:null,new re(o))}function $c(e,t){return e=Object(b.s)(e),t=Object(b.s)(t),(e instanceof zc||e instanceof Kc)&&(t instanceof zc||t instanceof Kc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yc(e,t){return e=Object(b.s)(e),t=Object(b.s)(t),e instanceof Wc&&t instanceof Wc&&e.firestore===t.firestore&&tn(e._query,t._query)&&e.converter===t.converter}var Jc=function(){function e(){var t=this;Object(p.a)(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Ko(this,"async_queue_retry"),this.Kc=function(){var e=zo();e&&I("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=zo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Object(v.a)(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=zo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new M;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),we(e.t0)){e.next=12;break}throw e.t0;case 12:I("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){throw t.Bc=e,t.Lc=!1,T("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Uu.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Object(u.a)(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(u.a)(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Xc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(u.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Zc=function(){function e(){Object(p.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(v.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),el=-1,tl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Jc,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Object(v.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||rl(this),this._firestoreClient.terminate()}}]),n}(qc);function nl(e){return e._firestoreClient||rl(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rl(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new $e(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function il(e,t){dl(e=Fc(e,tl));var n=nl(e),r=e._freezeSettings(),i=new cc;return ol(n,i,new uc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function al(e){dl(e=Fc(e,tl));var t=nl(e),n=e._freezeSettings(),r=new cc;return ol(t,r,new sc(r,n.cacheSizeBytes))}function ol(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yc(e,n);case 3:return i.next=5,gc(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ul(e){if(e._initialized&&!e._terminated)throw new L(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,be.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ro(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function sl(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Is,n.next=3,Ic(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nl(e=Fc(e,tl)))}function cl(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jc(e);case 2:return n=t.sent,t.next=5,Ec(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=R(e);return t.lu.delete(0),Xo(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nl(e=Fc(e,tl)))}function ll(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jc(e);case 2:return n=t.sent,t.next=5,Ec(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R(t)).lu.add(0),e.next=4,eu(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nl(e=Fc(e,tl)))}function fl(e,t){var n=nl(e=Fc(e,tl)),r=new Zc;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hc(e,t)}(function(e,t){if(e instanceof Uint8Array)return lc(e,t);if(e instanceof ArrayBuffer)return lc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Wo(t));e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ac,t.next=3,Ic(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function hl(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=R(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,xc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nl(e=Fc(e,tl)),t).then((function(t){return t?new Wc(e,null,t.query):null}))}function dl(e){if(e._initialized||e._terminated)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pl=function(){function e(){Object(p.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(n)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vl=function(){function e(t){Object(p.a)(this,e),this._byteString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(qe.fromBase64String(t))}catch(t){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(qe.fromUint8Array(t))}}]),e}(),yl=function e(t){Object(p.a)(this,e),this._methodName=t},ml=function(){function e(t,n){if(Object(p.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(v.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}]),e}(),gl=/^__.*__$/,bl=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rn(e,this.data,t,this.fieldTransforms)}}]),e}(),kl=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _l(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var wl=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(v.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Bl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(_l(this.Zc)&&gl.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Ol=function(){function e(t,n,r){Object(p.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Wo(t)}return Object(v.a)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wl({Zc:e,methodName:t,ca:n,path:ne.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function jl(e){var t=e._freezeSettings(),n=Wo(e._databaseId);return new Ol(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xl(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Fl("Data must be an object, but it was:",o,r);var s,c,l=Ll(r,o);if(a.merge)s=new Ue(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(u.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Ul(t,p,n);if(!o.contains(v))throw new L(D.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));zl(h,v)||h.push(v)}}catch(y){d.e(y)}finally{d.f()}s=new Ue(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new bl(new _t(l),s,c)}var El=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yl);function Il(e,t,n){return new wl({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var Tl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){return new jn(e.path,new yn)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yl),Sl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).ha=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Il(this,e,!0),n=this.ha.map((function(e){return Dl(e,t)})),r=new mn(n);return new jn(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yl),Cl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).ha=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Il(this,e,!0),n=this.ha.map((function(e){return Dl(e,t)})),r=new bn(n);return new jn(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yl),Al=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).la=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new _n(e.wt,fn(e.wt,this.la));return new jn(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yl);function Nl(e,t,n,r){var i=e.aa(1,t,n);Fl("Data must be an object, but it was:",i,r);var a=[],o=_t.empty();Ae(r,(function(e,r){var u=ql(t,e,n);r=Object(b.s)(r);var s=i.ia(u);if(r instanceof El)a.push(u);else{var c=Dl(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ue(a);return new kl(o,u,i.fieldTransforms)}function Pl(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Ul(t,r,n)],s=[i];if(a.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Ul(t,a[c])),s.push(a[c+1]);for(var l=[],f=_t.empty(),h=u.length-1;h>=0;--h)if(!zl(l,u[h])){var d=u[h],p=s[h];p=Object(b.s)(p);var v=o.ia(d);if(p instanceof El)l.push(d);else{var y=Dl(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Ue(l);return new kl(f,m,o.fieldTransforms)}function Rl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dl(n,e.aa(r?4:3,t))}function Dl(e,t){if(Ml(e=Object(b.s)(e)))return Fl("Unsupported field value:",t,e),Ll(e,t);if(e instanceof yl)return function(e,t){if(!_l(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(u.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Dl(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(b.s)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fn(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=J.fromDate(e);return{timestampValue:gr(t.wt,n)}}if(e instanceof J){var r=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gr(t.wt,r)}}if(e instanceof ml)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vl)return{bytesValue:br(t.wt,e._byteString)};if(e instanceof zc){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Mc(e)))}(e,t)}function Ll(e,t){var n={};return Ne(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ae(e,(function(e,r){var i=Dl(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ml(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof ml||e instanceof vl||e instanceof zc||e instanceof yl)}function Fl(e,t,n){if(!Ml(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Mc(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Ul(e,t,n){if((t=Object(b.s)(t))instanceof pl)return t._internalPath;if("string"==typeof t)return ql(e,t);throw Bl("Field path arguments must be of type string or ",e,!1,void 0,n)}var Vl=new RegExp("[~\\*/\\[\\]]");function ql(e,t,n){if(t.search(Vl)>=0)throw Bl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(pl,Object(d.a)(t.split(".")))._internalPath}catch(i){throw Bl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bl(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new L(D.INVALID_ARGUMENT,u+e+s)}function zl(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wl=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(v.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zc(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Hl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Wl);function Hl(e,t){return"string"==typeof t?ql(e,t):t instanceof pl?t._internalPath:t._delegate._internalPath}var Gl=function(){function e(t,n){Object(p.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ql=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(v.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Hl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Wl),$l=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(Ql),Yl=function(){function e(t,n,r,i){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gl(i.hasPendingWrites,i.fromCache),this.query=r}return Object(v.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $l(n._firestore,n._userDataWriter,r.key,r,new Gl(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $l(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $l(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jl(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Jl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function Xl(e,t){return e instanceof Ql&&t instanceof Ql?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yl&&t instanceof Yl&&e._firestore===t._firestore&&Yc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ef=function e(){Object(p.a)(this,e)};function tf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var nf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=jl(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){gf(o,a);var c,l=[],f=Object(u.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(mf(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=mf(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gf(o,a),s=Rl(n,"where",o,"in"===a||"not-in"===a);var d=Nt.create(i,a,s);return function(e,t){if(t.ht()){var n=Yt(e);if(null!==n&&!n.isEqual(t.field))throw new L(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=$t(e);null!==r&&bf(e,t.field,r)}var i=function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Wc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ef);function rf(e,t,n){var r=t,i=Hl("where",e);return new nf(i,r,n)}var af=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bt(t,n);return function(e,t){if(null===$t(e)){var n=Yt(e);null!==n&&bf(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Wc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ht(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ef);function of(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Hl("orderBy",e);return new af(r,n)}var uf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){return new Wc(e.firestore,e.converter,en(e._query,this.ma,this.ga))}}]),n}(ef);function sf(e){return Uc("limit",e),new uf("limit",e,"F")}function cf(e){return Uc("limitToLast",e),new uf("limitToLast",e,"L")}var lf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=yf(e,this.type,this.ya,this.pa);return new Wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ef);function ff(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lf("startAt",t,!0)}function hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lf("startAfter",t,!1)}var df=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=yf(e,this.type,this.ya,this.pa);return new Wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ef);function pf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new df("endBefore",t,!1)}function vf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new df("endAt",t,!0)}function yf(e,t,n,r){if(n[0]=Object(b.s)(n[0]),n[0]instanceof Wl)return function(e,t,n,r,i){if(!r)throw new L(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Object(u.a)(Xt(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(ct(t,r.key));else{var l=r.data.field(c.field);if(He(l))throw new L(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new L(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new qt(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jl(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new L(D.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new L(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Jt(e)&&-1!==c.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ee.fromString(c));if(!re.isDocumentKey(l))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new re(l);u.push(ct(t,f))}else{var h=Rl(n,r,c);u.push(h)}}return new qt(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function mf(e,t,n){if("string"==typeof(n=Object(b.s)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jt(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ee.fromString(n));if(!re.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ct(e,new re(r))}if(n instanceof zc)return ct(e,n._key);throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Mc(n),"."))}function gf(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(D.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function bf(e,t,n){if(!n.isEqual(t))throw new L(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var kf={maxAttempts:5},_f=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ke(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ae(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ml(We(e.latitude),We(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ge(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qe(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ze(e);return new J(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ee.fromString(e);N(Hr(n));var r=new Ye(n.get(1),n.get(3)),i=new re(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Of=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new vl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zc(this.firestore,null,t)}}]),n}(_f),jf=function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jl(t)}return Object(v.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=xf(e,this._firestore),i=wf(r.converter,t,n),a=xl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,En.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=xf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(b.s)(t))||t instanceof pl?Pl(this._dataReader,"WriteBatch.update",i._key,t,n,o):Nl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,En.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=xf(e,this._firestore);return this._mutations=this._mutations.concat(new qn(t._key,En.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function xf(e,t){if((e=Object(b.s)(e)).firestore!==t)throw new L(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ef(e){e=Fc(e,zc);var t=Fc(e.firestore,tl);return Cc(nl(t),e._key).then((function(n){return Vf(t,e,n)}))}var If=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new vl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zc(this.firestore,null,t)}}]),n}(_f);function Tf(e){e=Fc(e,zc);var t=Fc(e.firestore,tl),n=nl(t),r=new If(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=R(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vu(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,xc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ql(t,r,e._key,n,new Gl(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Sf(e){e=Fc(e,zc);var t=Fc(e.firestore,tl);return Cc(nl(t),e._key,{source:"server"}).then((function(n){return Vf(t,e,n)}))}function Cf(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=nl(t),r=new If(t);return Zl(e._query),Ac(n,e._query).then((function(n){return new Yl(t,r,e,n)}))}function Af(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=nl(t),r=new If(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bo(t,n,!0);case 3:i=e.sent,a=new os(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Vu(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,xc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Yl(t,r,e,n)}))}function Nf(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=nl(t),r=new If(t);return Ac(n,e._query,{source:"server"}).then((function(n){return new Yl(t,r,e,n)}))}function Pf(e,t,n){e=Fc(e,zc);var r=Fc(e.firestore,tl),i=wf(e.converter,t,n);return Uf(r,[xl(jl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,En.none())])}function Rf(e,t,n){e=Fc(e,zc);for(var r=Fc(e.firestore,tl),i=jl(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Uf(r,[("string"==typeof(t=Object(b.s)(t))||t instanceof pl?Pl(i,"updateDoc",e._key,t,n,o):Nl(i,"updateDoc",e._key,t)).toMutation(e._key,En.exists(!0))])}function Df(e){return Uf(Fc(e.firestore,tl),[new qn(e._key,En.none())])}function Lf(e,t){var n=Fc(e.firestore,tl),r=Qc(e),i=wf(e.converter,t);return Uf(n,[xl(jl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,En.exists(!1))]).then((function(){return r}))}function Mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(b.s)(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Xc(n[s])||(u=n[s],s++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(Xc(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof zc)h=Fc(e.firestore,tl),d=Qt(e._key.path),f={next:function(t){n[s]&&n[s](Vf(h,e,t))},error:n[s+1],complete:n[s+2]};else{var y=Fc(e,Wc);h=Fc(y.firestore,tl),d=y._query;var m=new If(h);f={next:function(e){n[s]&&n[s](new Yl(h,m,y,e))},error:n[s+1],complete:n[s+2]},Zl(e._query)}return function(e,t,n,r){var i=new fc(r),a=new Zu(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Hu,t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Qu,t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nl(h),d,p,f)}function Ff(e,t){return function(e,t){var n=new fc(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){R(e).Tu.add(t),t.next()},t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){R(e).Tu.delete(t)},t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nl(e=Fc(e,tl)),Xc(t)?t:{next:t})}function Uf(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ys,r.next=3,Ic(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nl(e),t)}function Vf(e,t,n){var r=n.docs.get(t._key),i=new If(e);return new Ql(e,i,t._key,r,new Gl(n.hasPendingWrites,n.fromCache),t.converter)}var qf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(v.a)(n,[{key:"get",value:function(e){var t=this,r=xf(e,this._firestore),o=new If(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Ql(t._firestore,o,r._key,e._document,new Gl(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=jl(t)}return Object(v.a)(e,[{key:"get",value:function(e){var t=this,n=xf(e,this._firestore),r=new Of(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return A();var i=e[0];if(i.isFoundDocument())return new Wl(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Wl(t._firestore,r,n._key,null,n.converter);throw A()}))}},{key:"set",value:function(e,t,n){var r=xf(e,this._firestore),i=wf(r.converter,t,n),a=xl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=xf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(b.s)(t))||t instanceof pl?Pl(this._dataReader,"Transaction.update",i._key,t,n,o):Nl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=xf(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Bf(e,t,n){e=Fc(e,tl);var r=Object.assign(Object.assign({},kf),n);return function(e){if(e.maxAttempts<1)throw new L(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){var a;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return wc(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new pc(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(nl(e),(function(n){return t(new qf(e,n))}),r)}function zf(){return new El("deleteField")}function Wf(){return new Tl("serverTimestamp")}function Kf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sl("arrayUnion",t)}function Hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cl("arrayRemove",t)}function Gf(e){return new Al("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){O=e}(y.SDK_VERSION),Object(y._registerComponent)(new m.a("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new tl(i,new q(e.getProvider("auth-internal")),new K(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Object(y.registerVersion)(_,"3.4.10",e),Object(y.registerVersion)(_,"3.4.10","esm2017")}()}).call(this,n(81))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(5),i=n(96),a=n(26);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return Object(a.b)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":Object(i.a)(e)),e)),!1===s?n:Object(r.a)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Gi})),n.d(t,"b",(function(){return Qi})),n.d(t,"c",(function(){return Rt})),n.d(t,"d",(function(){return Xi})),n.d(t,"e",(function(){return Ha})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return ui})),n.d(t,"h",(function(){return si})),n.d(t,"i",(function(){return na})),n.d(t,"j",(function(){return Ja})),n.d(t,"k",(function(){return eo})),n.d(t,"l",(function(){return _a})),n.d(t,"m",(function(){return Oa})),n.d(t,"n",(function(){return qa})),n.d(t,"o",(function(){return Ya})),n.d(t,"p",(function(){return $a})),n.d(t,"q",(function(){return ca})),n.d(t,"r",(function(){return Xa})),n.d(t,"s",(function(){return Za})),n.d(t,"t",(function(){return ro})),n.d(t,"u",(function(){return Sa})),n.d(t,"v",(function(){return Aa})),n.d(t,"w",(function(){return ga})),n.d(t,"x",(function(){return pa})),n.d(t,"y",(function(){return va})),n.d(t,"z",(function(){return ya})),n.d(t,"A",(function(){return ma})),n.d(t,"B",(function(){return da})),n.d(t,"C",(function(){return Pa})),n.d(t,"D",(function(){return Da})),n.d(t,"E",(function(){return Ma})),n.d(t,"F",(function(){return Ua})),n.d(t,"G",(function(){return ra})),n.d(t,"H",(function(){return Ba})),n.d(t,"I",(function(){return ea})),n.d(t,"J",(function(){return ta})),n.d(t,"K",(function(){return ia})),n.d(t,"L",(function(){return ao})),n.d(t,"M",(function(){return no})),n.d(t,"N",(function(){return aa})),n.d(t,"O",(function(){return oa})),n.d(t,"P",(function(){return ua})),n.d(t,"Q",(function(){return Ia})),n.d(t,"R",(function(){return xa})),n.d(t,"S",(function(){return sa}));var r=n(0),i=n.n(r),a=n(17),o=n(4),u=n(35),s=n(10),c=n(11),l=n(18),f=n(6),h=n(2),d=n(3),p=n(16),v=n(20),y=n(1),m=n(21),g="@firebase/database",b="0.13.1",k="";function _(e){k=e}var w=function(){function e(t){Object(h.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(y.P)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(y.I)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),O=function(){function e(){Object(h.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(y.k)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),j=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new w(t)}}catch(n){}return new O},x=j("localStorage"),E=j("sessionStorage"),I=new m.b("@firebase/database"),T=function(){var e=1;return function(){return e++}}(),S=function(e){var t=Object(y.O)(e),n=new y.d;n.update(t);var r=n.digest();return y.g.encodeByteArray(r)},C=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(y.P)(r):r,t+=" "}return t},A=null,N=!0,P=function(e,t){Object(y.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(I.logLevel=m.a.VERBOSE,A=I.log.bind(I),t&&E.set("logging_enabled",!0)):"function"===typeof e?A=e:(A=null,E.remove("logging_enabled"))},R=function(){if(!0===N&&(N=!1,null===A&&!0===E.get("logging_enabled")&&P(!0)),A){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C.apply(null,t);A(r)}},D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];R.apply(void 0,[e].concat(n))}},L=function(){var e="FIREBASE INTERNAL ERROR: "+C.apply(void 0,arguments);I.error(e)},M=function(){var e="FIREBASE FATAL ERROR: ".concat(C.apply(void 0,arguments));throw I.error(e),new Error(e)},F=function(){var e="FIREBASE WARNING: "+C.apply(void 0,arguments);I.warn(e)},U=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V="[MIN_NAME]",q="[MAX_NAME]",B=function(e,t){if(e===t)return 0;if(e===V||t===q)return-1;if(t===V||e===q)return 1;var n=X(e),r=X(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},z=function(e,t){return e===t?0:e<t?-1:1},W=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(y.P)(t))},K=function e(t){if("object"!==typeof t||null===t)return Object(y.P)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(y.P)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function G(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Q=function(e){Object(y.e)(!U(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),Y=-2147483648,J=2147483647,X=function(e){if($.test(e)){var t=Number(e);if(t>=Y&&t<=J)return t}return null},Z=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ee=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},te=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){F('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ne=function(){function e(t,n,r){var i=this;Object(h.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(R("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(e)}}]),e}(),re=function(){function e(t){Object(h.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();re.OWNER="owner";var ie="5",ae=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="websocket",ue="long_polling",se=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(h.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=x.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&x.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ce(e,t,n){var r;if(Object(y.e)("string"===typeof t,"typeof type must == string"),Object(y.e)("object"===typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ue)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return G(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var le=function(){function e(){Object(h.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(y.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(y.n)(this.counters_)}}]),e}(),fe={},he={};function de(e){var t=e.toString();return fe[t]||(fe[t]=new le),fe[t]}var pe=function(){function e(t){Object(h.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ve="start",ye="close",me=function(){function e(t,n,r,i,a,o,u){var s=this;Object(h.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=de(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ce(n,ue,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(y.D)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ge((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ve)n.id=a,n.password=o;else{if(i!==ye)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ie,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ae.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(y.P)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(y.i)(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(y.D)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(y.P)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(y.D)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ge=function(){function e(t,n,r,i){if(Object(h.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(y.D)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){R("frame writing exception"),u.stack&&R(u.stack),R(u)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Object(y.D)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){R("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||R("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),be=null;"undefined"!==typeof MozWebSocket?be=MozWebSocket:"undefined"!==typeof WebSocket&&(be=WebSocket);var ke=function(){function t(e,n,r,i,a,o,u){Object(h.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=de(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,x.set("previous_websocket_failure",!0);try{if(Object(y.D)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat(ie,"/").concat(k,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:310046784875:web:4222db1bfc8bde6c13602e",REACT_APP_FIREBASE_DOMAIN:"mall-e4018.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyBoy57kqYAfrT43kIQfjOtFZ47rA2ifIF8",REACT_APP_FIREBASE_PROJECT_ID:"mall-e4018",REACT_APP_FIREBASE_SENDER_ID:"310046784875",REACT_APP_FIREBASE_STORAGE_BUCKET:"mall-e4018.appspot.com"}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(a.proxy={origin:u})}this.mySock=new be(this.connURL,[],undefined)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){x.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(y.I)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(y.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(y.P)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=ie,!Object(y.D)()&&"undefined"!==typeof location&&location.hostname&&ae.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),ce(e,oe,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==be&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return x.isInMemoryStorage||!0===x.get("previous_websocket_failure")}}]),t}();ke.responsesRequiredToBeHealthy=2,ke.healthyTimeout=3e4;var _e=function(){function e(t){Object(h.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=ke&&ke.isAvailable(),r=n&&!ke.previouslyFailed();if(t.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ke];else{var i,a=this.transports_=[],o=Object(f.a)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[me,ke]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();_e.globalTransportInitialized_=!1;var we=function(){function e(t,n,r,i,a,o,u,s,c,l){Object(h.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new _e(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ee((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=W("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?L("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ie!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ee((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ee((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(x.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Oe=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),je=function(){function e(t){Object(h.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(y.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(l.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(y.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),xe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(y.B)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),Ee=function(){function e(t,n){if(Object(h.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ie(){return new Ee("")}function Te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Se(e){return e.pieces_.length-e.pieceNum_}function Ce(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ee(e.pieces_,t)}function Ae(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ee(t,0)}function Re(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ee)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ee(n,0)}function De(e){return e.pieceNum_>=e.pieces_.length}function Le(e,t){var n=Te(e),r=Te(t);if(null===n)return t;if(n===r)return Le(Ce(e),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Me(e,t){for(var n=Ne(e,0),r=Ne(t,0),i=0;i<n.length&&i<r.length;i++){var a=B(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Fe(e,t){if(Se(e)!==Se(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ue(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Se(e)>Se(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ve=function e(t,n){Object(h.a)(this,e),this.errorPrefix_=n,this.parts_=Ne(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(y.N)(this.parts_[r]);qe(this)};function qe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Be(e))}function Be(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ze=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e,r,i;return Object(h.a)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),We=1e3,Ke=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,c,l){var f;if(Object(h.a)(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=D("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=We,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(y.D)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ze.getInstance().on("visible",f.onVisible_,Object(u.a)(f)),-1===e.host.indexOf("fblocal")&&xe.getInstance().on("online",f.onOnline_,Object(u.a)(f)),f}return Object(d.a)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(y.P)(i)),Object(y.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new y.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(y.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(y.u)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(y.H)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(y.P)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):L("Unrecognized action received from server: "+Object(y.P)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(y.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=We),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,o,u,s,c,l,f,h,d,p,v,m,g,b=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,o())},h=function(e){Object(y.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(a.a)(p,2),m=v[0],g=v[1],c?R("getToken() completed but was canceled"):(R("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new we(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){F(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&F(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){R("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){R("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(y.y)(this.interruptReasons_)&&(this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return K(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ee(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){R("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){R("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Object(f.a)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=Object(f.a)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(y.D)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+k.replace(/\./g,"-")]=1,Object(y.B)()?e["framework.cordova"]=1:Object(y.E)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=xe.getInstance().currentlyOnline();return Object(y.y)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(y.k)(e,"w")){var n=Object(y.M)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();F("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Oe);Ke.nextPersistentConnectionId_=0,Ke.nextConnectionId_=0;var He,Ge=function(){function e(t,n){Object(h.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Qe=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ge(V,e),r=new Ge(V,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ge.MIN}}]),e}(),$e=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){return B(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(y.f)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return new Ge(q,He)}},{key:"makePost",value:function(e,t){return Object(y.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ge(e,He)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return He},set:function(e){He=e}}]),n}(Qe),Ye=new $e,Je=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(h.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Xe=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:tt.EMPTY_NODE,this.right=null!=a?a:tt.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return tt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Xe.RED=!0,Xe.BLACK=!1;var Ze,et=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xe(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),tt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(h.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xe.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Je(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Je(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Je(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Je(this.root_,null,this.comparator_,!0,e)}}]),e}();function nt(e,t){return B(e.name,t.name)}function rt(e,t){return B(e,t)}tt.EMPTY_NODE=new et;var it,at,ot,ut=function(e){return"number"===typeof e?"number:"+Q(e):"string:"+e},st=function(e){if(e.isLeafNode()){var t=e.val();Object(y.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(y.k)(t,".sv"),"Priority must be a string or number.")}else Object(y.e)(e===Ze||e.isEmpty(),"priority of unexpected type.");Object(y.e)(e===Ze||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ct=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(h.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(y.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),st(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return De(t)?this:".priority"===Te(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Te(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(y.e)(".priority"!==r||1===Se(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ut(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Q(this.value_):this.value_,this.lazyHash_=S(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(y.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(y.e)(i>=0,"Unknown leaf type: "+n),Object(y.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return it},set:function(e){it=e}}]),e}();ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];var lt,ft,ht=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?B(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return new Ge(q,new ct("[PRIORITY-POST]",ot))}},{key:"makePost",value:function(e,t){var n=at(e);return new Ge(t,new ct("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Qe)),dt=Math.log(2),pt=function(){function e(t){Object(h.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/dt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),vt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Xe(o,a.node,Xe.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new Xe(o,a.node,Xe.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new Xe(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,Xe.BLACK):(u(f,Xe.BLACK),u(f,Xe.RED))}return a}(new pt(e.length));return new tt(r||t,a)},yt={},mt=function(){function e(t,n){Object(h.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(y.M)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tt?t:null}},{key:"hasIndex",value:function(e){return Object(y.k)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(y.e)(t!==Ye,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ge.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?vt(i,t.getCompare()):yt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(y.J)(this.indexes_,(function(e,i){var a=Object(y.M)(r.indexSet_,i);if(Object(y.e)(a,"Missing index implementation for "+i),e===yt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Ge.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),vt(o,a.getCompare())}return yt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ge(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(y.J)(this.indexes_,(function(e){if(e===yt)return e;var r=n.get(t.name);return r?e.remove(new Ge(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Object(y.e)(yt&&ht,"ChildrenNode.ts has not been loaded"),lt=lt||new e({".priority":yt},{".priority":ht})}}]),e}(),gt=function(){function e(t,n,r){Object(h.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&st(this.priorityNode_),this.children_.isEmpty()&&Object(y.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ft}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ft:t}},{key:"getChild",value:function(e){var t=Te(e);return null===t?this:this.getImmediateChild(t).getChild(Ce(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(y.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ge(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ft:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Te(e);if(null===n)return t;Object(y.e)(".priority"!==Te(e)||1===Se(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ce(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ht,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ut(this.getPriority().val())+":"),this.forEachChild(ht,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":S(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ge(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ge(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ge(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bt?-1:0}},{key:"withIndex",value:function(t){if(t===Ye||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ye||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ht),r=t.getIterator(ht),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ye?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ft||(ft=new e(new tt(rt),null,mt.Default))}}]),e}();gt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var bt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.call(this,new tt(rt),gt.EMPTY_NODE,mt.Default)}return Object(d.a)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return gt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(gt));Object.defineProperties(Ge,{MIN:{value:new Ge(V,gt.EMPTY_NODE)},MAX:{value:new Ge(q,bt)}}),$e.__EMPTY_NODE=gt.EMPTY_NODE,ct.__childrenNodeConstructor=gt,Ze=bt,function(e){ot=e}(bt);function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return gt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(y.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ct(n,kt(t))}if(e instanceof Array){var r=gt.EMPTY_NODE;return G(e,(function(t,n){if(Object(y.k)(e,t)&&"."!==t.substring(0,1)){var i=kt(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(kt(t))}var i=[],a=!1,o=e;if(G(o,(function(e,t){if("."!==e.substring(0,1)){var n=kt(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ge(e,n)))}})),0===i.length)return gt.EMPTY_NODE;var u=vt(i,nt,(function(e){return e.name}),rt);if(a){var s=vt(i,ht.getCompare());return new gt(u,kt(t),new mt({".priority":s},{".priority":ht}))}return new gt(u,kt(t),mt.Default)}!function(e){at=e}(kt);var _t=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).indexPath_=e,Object(y.e)(!De(e)&&".priority"!==Te(e),"Can't create PathIndex with empty path or .priority key"),r}return Object(d.a)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?B(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=kt(e),r=gt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ge(t,r)}},{key:"maxPost",value:function(){var e=gt.EMPTY_NODE.updateChild(this.indexPath_,bt);return new Ge(q,e)}},{key:"toString",value:function(){return Ne(this.indexPath_,0).join("/")}}]),n}(Qe),wt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?B(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return Ge.MAX}},{key:"makePost",value:function(e,t){var n=kt(e);return new Ge(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Qe)),Ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Ot.charAt(n%64),n=Math.floor(n/64);Object(y.e)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Ot.charAt(t[r]);return Object(y.e)(20===o.length,"nextPushId: Length should be 20."),o}}(),xt=function(e){if("2147483647"===e)return"-";var t=X(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return q;var a=n[i],o=Ot.charAt(Ot.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},Et=function(e){if("-2147483648"===e)return V;var t=X(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Ot.charAt(Ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function It(e){return{type:"value",snapshotNode:e}}function Tt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function St(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ct(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var At=function(){function e(t){Object(h.a)(this,e),this.index_=t}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(y.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(St(t,o)):Object(y.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Tt(t,n)):a.trackChildChange(Ct(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ht,(function(e,r){t.hasChild(e)||n.trackChildChange(St(e,r))})),t.isLeafNode()||t.forEachChild(ht,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ct(t,r,i))}else n.trackChildChange(Tt(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?gt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Nt=function(){function e(t){Object(h.a)(this,e),this.indexedFilter_=new At(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Object(d.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ge(t,n))||(n=gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=gt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(gt.EMPTY_NODE);var i=this;return t.forEachChild(ht,(function(e,t){i.matches(new Ge(e,t))||(r=r.updateImmediateChild(e,gt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Pt=function(){function e(t){Object(h.a)(this,e),this.rangedFilter_=new Nt(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ge(t,n))||(n=gt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=gt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(gt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Object(y.e)(u.numChildren()===this.limit_,"");var s=new Ge(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ct(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(St(t,f));var p=u.updateImmediateChild(t,gt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Tt(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(St(c.name,c.node)),i.trackChildChange(Tt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,gt.EMPTY_NODE)):e}}]),e}(),Rt=function(){function e(){Object(h.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:V}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:q}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(y.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ht}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Dt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Lt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Mt(e,t){var n=e.copy();return n.index_=t,n}function Ft(e){var t,n={};return e.isDefault()||(e.index_===ht?t="$priority":e.index_===wt?t="$value":e.index_===Ye?t="$key":(Object(y.e)(e.index_ instanceof _t,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(y.P)(t),e.startSet_&&(n.startAt=Object(y.P)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(y.P)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(y.P)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(y.P)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ut(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ht&&(t.i=e.index_.toString()),t}var Vt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(h.a)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=D("p:rest:"),o.listens_={},o}return Object(d.a)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=Ft(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(y.M)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ft(e._queryParams),r=e._path.toString(),i=new y.a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(y.K)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(y.I)(l.responseText)}catch(n){F("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&F("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(y.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Oe),qt=function(){function e(){Object(h.a)(this,e),this.rootNode_=gt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Bt(){return{value:null,children:new Map}}function zt(e,t,n){if(De(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Te(t);e.children.has(r)||e.children.set(r,Bt()),zt(e.children.get(r),t=Ce(t),n)}}function Wt(e,t){if(De(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ht,(function(t,n){zt(e,new Ee(t),n)})),Wt(e,t)}if(e.children.size>0){var r=Te(t);if(t=Ce(t),e.children.has(r))Wt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Kt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Kt(r,new Ee(t.toString()+"/"+e),n)}))}var Ht,Gt=function(){function e(t){Object(h.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&G(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Qt=function(){function e(t,n){Object(h.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Gt(t);var r=1e4+2e4*Math.random();ee(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;G(t,(function(t,i){i>0&&Object(y.k)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ee(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function $t(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ht||(Ht={}));var Yt,Jt=function(){function e(t,n,r){Object(h.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ht.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(De(this.path)){if(null!=this.affectedTree.value)return Object(y.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ee(t));return new e(Ie(),n,this.revert)}return Object(y.e)(Te(this.path)===t,"operationForChild called for unrelated child."),new e(Ce(this.path),this.affectedTree,this.revert)}}]),e}(),Xt=function(){function e(t,n){Object(h.a)(this,e),this.source=t,this.path=n,this.type=Ht.LISTEN_COMPLETE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return De(this.path)?new e(this.source,Ie()):new e(this.source,Ce(this.path))}}]),e}(),Zt=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ht.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return De(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(t)):new e(this.source,Ce(this.path),this.snap)}}]),e}(),en=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Ht.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(De(this.path)){var n=this.children.subtree(new Ee(t));return n.isEmpty()?null:n.value?new Zt(this.source,Ie(),n.value):new e(this.source,Ie(),n)}return Object(y.e)(Te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ce(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),tn=function(){function e(t,n,r){Object(h.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;var t=Te(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),nn=function e(t){Object(h.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function rn(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(y.f)("Should only compare child_ events.");var r=new Ge(t.childName,t.snapshotNode),i=new Ge(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function an(e,t){return{eventCache:e,serverCache:t}}function on(e,t,n,r){return an(new tn(t,n,r),e.serverCache)}function un(e,t,n,r){return an(e.eventCache,new tn(t,n,r))}function sn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function cn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ln=function(){return Yt||(Yt=new tt(z)),Yt},fn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln();Object(h.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ie(),value:this.value};if(De(e))return null;var n=Te(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ce(e),t);return null!=i?{path:Re(new Ee(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(De(t))return this;var n=Te(t),r=this.children.get(n);return null!==r?r.subtree(Ce(t)):new e(null)}},{key:"set",value:function(t,n){if(De(t))return new e(n,this.children);var r=Te(t),i=(this.children.get(r)||new e(null)).set(Ce(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(De(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Te(t),r=this.children.get(n);if(r){var i,a=r.remove(Ce(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(De(e))return this.value;var t=Te(e),n=this.children.get(t);return n?n.get(Ce(e)):null}},{key:"setTree",value:function(t,n){if(De(t))return n;var r,i=Te(t),a=(this.children.get(i)||new e(null)).setTree(Ce(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ie(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Re(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ie(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(De(e))return null;var i=Te(e),a=this.children.get(i);return a?a.findOnPath_(Ce(e),Re(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ie(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(De(t))return this;this.value&&r(n,this.value);var i=Te(t),a=this.children.get(i);return a?a.foreachOnPath_(Ce(t),Re(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ie(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Re(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return G(t,(function(e,t){n=n.set(new Ee(e),t)})),n}}]),e}(),hn=function(){function e(t){Object(h.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new fn(null))}}]),e}();function dn(e,t,n){if(De(t))return new hn(new fn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Le(i,t);return a=a.updateChild(o,n),new hn(e.writeTree_.set(i,a))}var u=new fn(n),s=e.writeTree_.setTree(t,u);return new hn(s)}function pn(e,t,n){var r=e;return G(n,(function(e,n){r=dn(r,Re(t,e),n)})),r}function vn(e,t){if(De(t))return hn.empty();var n=e.writeTree_.setTree(t,new fn(null));return new hn(n)}function yn(e,t){return null!=mn(e,t)}function mn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Le(n.path,t)):null}function gn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ht,(function(e,n){t.push(new Ge(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ge(e,n.value))})),t}function bn(e,t){if(De(t))return e;var n=mn(e,t);return new hn(null!=n?new fn(n):e.writeTree_.subtree(t))}function kn(e){return e.writeTree_.isEmpty()}function _n(e,t){return wn(Ie(),e.writeTree_,t)}function wn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(y.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=wn(Re(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Re(e,".priority"),r)),n}function On(e,t){return Mn(t,e)}function jn(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function xn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(y.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&En(u,r.path)?i=!1:Ue(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Tn(e.allWrites,In,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=vn(e.visibleWrites,r.path):G(r.children,(function(t){e.visibleWrites=vn(e.visibleWrites,Re(r.path,t))}));return!0}return!1}function En(e,t){if(e.snap)return Ue(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ue(Re(e.path,n),t))return!0;return!1}function In(e){return e.visible}function Tn(e,t,n){for(var r=hn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Ue(n,o)?r=dn(r,u=Le(n,o),a.snap):Ue(o,n)&&(u=Le(o,n),r=dn(r,Ie(),a.snap.getChild(u)));else{if(!a.children)throw Object(y.f)("WriteRecord should have .snap or .children");if(Ue(n,o))r=pn(r,u=Le(n,o),a.children);else if(Ue(o,n))if(De(u=Le(o,n)))r=pn(r,Ie(),a.children);else{var s=Object(y.M)(a.children,Te(u));if(s){var c=s.getChild(Ce(u));r=dn(r,Ie(),c)}}}}}return r}function Sn(e,t,n,r,i){if(r||i){var a=bn(e.visibleWrites,t);if(!i&&kn(a))return n;if(i||null!=n||yn(a,Ie())){return _n(Tn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ue(e.path,t)||Ue(t,e.path))}),t),n||gt.EMPTY_NODE)}return null}var o=mn(e.visibleWrites,t);if(null!=o)return o;var u=bn(e.visibleWrites,t);return kn(u)?n:null!=n||yn(u,Ie())?_n(u,n||gt.EMPTY_NODE):null}function Cn(e,t,n,r){return Sn(e.writeTree,e.treePath,t,n,r)}function An(e,t){return function(e,t,n){var r=gt.EMPTY_NODE,i=mn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ht,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=bn(e.visibleWrites,t);return n.forEachChild(ht,(function(e,t){var n=_n(bn(a,new Ee(e)),t);r=r.updateImmediateChild(e,n)})),gn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return gn(bn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Nn(e,t,n,r){return function(e,t,n,r,i){Object(y.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Re(t,n);if(yn(e.visibleWrites,a))return null;var o=bn(e.visibleWrites,a);return kn(o)?i.getChild(n):_n(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Pn(e,t){return function(e,t){return mn(e.visibleWrites,t)}(e.writeTree,Re(e.treePath,t))}function Rn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=bn(e.visibleWrites,t),c=mn(s,Ie());if(null!=c)u=c;else{if(null==n)return[];u=_n(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Dn(e,t,n){return function(e,t,n,r){var i=Re(t,n),a=mn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?_n(bn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ln(e,t){return Mn(Re(e.treePath,t),e.writeTree)}function Mn(e,t){return{treePath:e,writeTree:t}}var Fn=function(){function e(){Object(h.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(y.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(y.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ct(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,St(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Tt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(y.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ct(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Un=new(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Vn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(h.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new tn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cn(this.viewCache_),i=Rn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function qn(e,t,n,r,i){var a,o,u=new Fn;if(n.type===Ht.OVERWRITE){var s=n;s.source.fromUser?a=Wn(e,t,s.path,s.snap,r,i,u):(Object(y.e)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!De(s.path),a=zn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Ht.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=Re(n,r);Kn(t,Te(c))&&(u=Wn(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=Re(n,r);Kn(t,Te(c))||(u=Wn(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Object(y.e)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Gn(e,t,c.path,c.children,r,i,o,u))}else if(n.type===Ht.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Pn(r,n))return t;var u,s=new Vn(r,t,i),c=t.eventCache.getNode();if(De(n)||".priority"===Te(n)){var l;if(t.serverCache.isFullyInitialized())l=Cn(r,cn(t));else{var f=t.serverCache.getNode();Object(y.e)(f instanceof gt,"serverChildren would be complete if leaf node"),l=An(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=Te(n),d=Dn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Ce(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,gt.EMPTY_NODE,Ce(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Cn(r,cn(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Pn(r,Ie()),on(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Pn(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(De(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return zn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(De(n)){var c=new fn(null);return s.getNode().forEachChild(Ye,(function(e,t){c=c.set(new Ee(e),t)})),Gn(e,t,n,c,i,a,u,o)}return t}var l=new fn(null);return r.foreach((function(e,t){var r=Re(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),Gn(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Ht.LISTEN_COMPLETE)throw Object(y.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=un(t,a.getNode(),a.isFullyInitialized()||De(n),a.isFiltered());return Bn(e,o,n,r,Un,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=sn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(It(sn(t)))}}(t,a,f),{viewCache:a,changes:f}}function Bn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Pn(r,n))return t;if(De(n))if(Object(y.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=cn(t),l=An(r,c instanceof gt?c:gt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Cn(r,cn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Te(n);if(".priority"===h){Object(y.e)(1===Se(n),"Can't have a priority with additional path components");var d=s.getNode(),p=Nn(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=Ce(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=Nn(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(h).updateChild(m,g):s.getNode().getImmediateChild(h)}else v=Dn(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return on(t,o,s.isFullyInitialized()||De(n),e.filter.filtersNodes())}function zn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(De(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Te(n);if(!c.isCompleteForPath(n)&&Se(n)>1)return t;var d=Ce(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Un,null)}var v=un(t,s,c.isFullyInitialized()||De(n),l.filtersNodes());return Bn(e,v,n,i,new Vn(i,v,a),u)}function Wn(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new Vn(i,t,a);if(De(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=on(t,s,!0,e.filter.filtersNodes());else{var f=Te(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=on(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ce(n),p=c.getNode().getImmediateChild(f);if(De(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ae(d)&&v.getChild(Pe(d)).isEmpty()?v:v.updateChild(d,r):gt.EMPTY_NODE}if(p.equals(h))u=t;else u=on(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Kn(e,t){return e.eventCache.isCompleteForChild(t)}function Hn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Gn(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=De(n)?r:new fn(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=Hn(0,t.serverCache.getNode().getImmediateChild(n),r);c=zn(e,c,new Ee(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!s){var f=Hn(0,t.serverCache.getNode().getImmediateChild(n),r);c=zn(e,c,new Ee(n),f,i,a,o,u)}})),c}var Qn,$n=function(){function e(t,n){Object(h.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new At(i.getIndex()),o=(r=i).loadsAllData()?new At(r.getIndex()):r.hasLimit()?new Pt(r):new Nt(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(gt.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(gt.EMPTY_NODE,s.getNode(),null),f=new tn(c,u.isFullyInitialized(),a.filtersNodes()),d=new tn(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=an(d,f),this.eventGenerator_=new nn(this.query_)}return Object(d.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Yn(e,t){var n=cn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!De(t)&&!n.getImmediateChild(Te(t)).isEmpty())?n.getChild(t):null}function Jn(e){return 0===e.eventRegistrations_.length}function Xn(e,t,n){var r=[];if(n){Object(y.e)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Zn(e,t,n,r){t.type===Ht.MERGE&&null!==t.source.queryId&&(Object(y.e)(cn(e.viewCache_),"We should always have a full cache before handling merges"),Object(y.e)(sn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=qn(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(y.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(y.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(y.e)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,er(e,u.changes,u.viewCache.eventCache.getNode(),null)}function er(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),rn(e,i,"child_removed",t,r,n),rn(e,i,"child_added",t,r,n),rn(e,i,"child_moved",a,r,n),rn(e,i,"child_changed",t,r,n),rn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var tr,nr=function e(){Object(h.a)(this,e),this.views=new Map};function rr(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(y.e)(null!=a,"SyncTree gave us an op for an invalid query."),Zn(a,t,n,r)}var o,u=[],s=Object(f.a)(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(Zn(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function ir(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Cn(n,i?r:null),s=!1;u?s=!0:r instanceof gt?(u=An(n,r),s=!1):(u=gt.EMPTY_NODE,s=!1);var c=an(new tn(u,s,!1),new tn(r,i,!1));return new $n(t,c)}return o}function ar(e,t,n,r,i,a){var o=ir(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ht,(function(e,t){r.push(Tt(e,t))})),n.isFullyInitialized()&&r.push(It(n.getNode())),er(e,r,n.getNode(),t)}(o,n)}function or(e,t,n,r){var i=t._queryIdentifier,o=[],u=[],s=fr(e);if("default"===i){var c,l=Object(f.a)(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=Object(a.a)(c.value,2),d=h[0],p=h[1];u=u.concat(Xn(p,n,r)),Jn(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(m){l.e(m)}finally{l.f()}}else{var v=e.views.get(i);v&&(u=u.concat(Xn(v,n,r)),Jn(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||o.push(v.query)))}return s&&!fr(e)&&o.push(new(Object(y.e)(Qn,"Reference.ts has not been loaded"),Qn)(t._repo,t._path)),{removed:o,events:u}}function ur(e){var t,n=[],r=Object(f.a)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function sr(e,t){var n,r=null,i=Object(f.a)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Yn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function cr(e,t){if(t._queryParams.loadsAllData())return hr(e);var n=t._queryIdentifier;return e.views.get(n)}function lr(e,t){return null!=cr(e,t)}function fr(e){return null!=hr(e)}function hr(e){var t,n=Object(f.a)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var dr=1,pr=function e(t){Object(h.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new fn(null),this.pendingWriteTree_={visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function vr(e,t,n,r,i){return function(e,t,n,r,i){Object(y.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=dn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Or(e,new Zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yr(e,t,n,r){!function(e,t,n,r){Object(y.e)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=pn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=fn.fromObject(n);return Or(e,new en({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=jn(e.pendingWriteTree_,t),i=xn(e.pendingWriteTree_,t);if(i){var a=new fn(null);return null!=r.snap?a=a.set(Ie(),!0):G(r.children,(function(e){a=a.set(new Ee(e),!0)})),Or(e,new Jt(r.path,a,n))}return[]}function gr(e,t,n){return Or(e,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function br(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||lr(a,t))){var u=or(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=u.removed;o=u.events;var c=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return fr(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&fr(t))return[hr(t)];var r=[];return t&&(r=ur(t)),G(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,y=Er(e,p);e.listenProvider_.startListening(Nr(v),Ir(e,v),y.hashFn,y.onComplete)}}if(!l&&s.length>0&&!r)if(c){e.listenProvider_.stopListening(Nr(t),null)}else s.forEach((function(t){var n=e.queryToTagMap.get(Tr(t));e.listenProvider_.stopListening(Nr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Tr(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,s)}return o}function kr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Le(e,r);i=i||sr(t,n),a=a||fr(t)}));var o,u=e.syncPointTree_.get(r);(u?(a=a||fr(u),i=i||sr(u,Ie())):(u=new nr,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?o=!0:(o=!1,i=gt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=sr(t,Ie());n&&(i=i.updateImmediateChild(e,n))})));var s=lr(u,t);if(!s&&!t._queryParams.loadsAllData()){var c=Tr(t);Object(y.e)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=dr++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=ar(u,t,n,On(e.pendingWriteTree_,r),i,o);if(!s&&!a){var h=cr(u,t);f=f.concat(function(e,t,n){var r=t._path,i=Ir(e,t),a=Er(e,n),o=e.listenProvider_.startListening(Nr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(y.e)(!fr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!De(e)&&t&&fr(t))return[hr(t).query];var r=[];return t&&(r=r.concat(ur(t).map((function(e){return e.query})))),G(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Nr(l),Ir(e,l))}return o}(e,t,h))}return f}function _r(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=sr(n,Le(e,t));if(r)return r}));return Sn(r,t,i,n,!0)}function wr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Le(e,n);r=r||sr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||sr(i,Ie()):(i=new nr,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new tn(r,!0,!1):null;return function(e){return sn(e.viewCache_)}(ir(i,t,On(e.pendingWriteTree_,t._path),a?o.getNode():gt.EMPTY_NODE,a))}function Or(e,t){return jr(t,e.syncPointTree_,null,On(e.pendingWriteTree_,Ie()))}function jr(e,t,n,r){if(De(e.path))return xr(e,t,n,r);var i=t.get(Ie());null==n&&null!=i&&(n=sr(i,Ie()));var a=[],o=Te(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=Ln(r,o);a=a.concat(jr(u,s,c,l))}return i&&(a=a.concat(rr(i,e,r,n))),a}function xr(e,t,n,r){var i=t.get(Ie());null==n&&null!=i&&(n=sr(i,Ie()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=Ln(r,t),s=e.operationForChild(t);s&&(a=a.concat(xr(s,i,o,u)))})),i&&(a=a.concat(rr(i,e,r,n))),a}function Er(e,t){var n=t.query,r=Ir(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||gt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Sr(e,n);if(r){var i=Cr(r),a=i.path,o=i.queryId,u=Le(a,t);return Ar(e,a,new Xt($t(o),u))}return[]}(e,n._path,r):function(e,t){return Or(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return br(e,n,null,i)}}}function Ir(e,t){var n=Tr(t);return e.queryToTagMap.get(n)}function Tr(e){return e._path.toString()+"$"+e._queryIdentifier}function Sr(e,t){return e.tagToQueryMap.get(t)}function Cr(e){var t=e.indexOf("$");return Object(y.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ee(e.substr(0,t))}}function Ar(e,t,n){var r=e.syncPointTree_.get(t);return Object(y.e)(r,"Missing sync point for query tag that we're tracking"),rr(r,n,On(e.pendingWriteTree_,t),null)}function Nr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(y.e)(tr,"Reference.ts has not been loaded"),tr)(e._repo,e._path):e}var Pr=function(){function e(t){Object(h.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Rr=function(){function e(t,n){Object(h.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=Re(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return _r(this.syncTree_,this.path_)}}]),e}(),Dr=function(e,t,n){return e&&"object"===typeof e?(Object(y.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Lr(e[".sv"],t,n):"object"===typeof e[".sv"]?Mr(e[".sv"],t):void Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Lr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(y.e)(!1,"Unexpected server value: "+e)}},Mr=function(e,t,n){e.hasOwnProperty("increment")||Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(y.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(y.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Fr=function(e,t,n,r){return Vr(t,new Rr(n,e),r)},Ur=function(e,t,n){return Vr(e,new Pr(t),n)};function Vr(e,t,n){var r,i=e.getPriority().val(),a=Dr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Dr(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ct(u,kt(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ct(a))),s.forEachChild(ht,(function(e,i){var a=Vr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var qr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(h.a)(this,e),this.name=t,this.parent=n,this.node=r};function Br(e,t){for(var n=t instanceof Ee?t:new Ee(t),r=e,i=Te(n);null!==i;){var a=Object(y.M)(r.node.children,i)||{children:{},childCount:0};r=new qr(i,r,a),i=Te(n=Ce(n))}return r}function zr(e){return e.node.value}function Wr(e,t){e.node.value=t,$r(e)}function Kr(e){return e.node.childCount>0}function Hr(e,t){G(e.node.children,(function(n,r){t(new qr(n,e,r))}))}function Gr(e,t,n,r){n&&!r&&t(e),Hr(e,(function(e){Gr(e,t,!0,r)})),n&&r&&t(e)}function Qr(e){return new Ee(null===e.parent?e.name:Qr(e.parent)+"/"+e.name)}function $r(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===zr(e)&&!Kr(e)}(n),i=Object(y.k)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$r(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$r(e))}(e.parent,e.name,e)}var Yr=/[\[\].#$\/\u0000-\u001F\u007F]/,Jr=/[\[\].#$\u0000-\u001F\u007F]/,Xr=10485760,Zr=function(e){return"string"===typeof e&&0!==e.length&&!Yr.test(e)},ei=function(e){return"string"===typeof e&&0!==e.length&&!Jr.test(e)},ti=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!U(e)||e&&"object"===typeof e&&Object(y.k)(e,".sv")},ni=function(e,t,n,r){r&&void 0===t||ri(Object(y.q)(e,"value"),t,n)},ri=function e(t,n,r){var i=r instanceof Ee?new Ve(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Be(i));if("function"===typeof n)throw new Error(t+"contains a function "+Be(i)+" with contents = "+n.toString());if(U(n))throw new Error(t+"contains "+n.toString()+" "+Be(i));if("string"===typeof n&&n.length>Xr/3&&Object(y.N)(n)>Xr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Be(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(G(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Zr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Be(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(y.N)(s),qe(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(y.N)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Be(i)+" in addition to actual children.")}},ii=function(e,t,n,r){if(!r||void 0!==t){var i=Object(y.q)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];G(t,(function(e,t){var r=new Ee(e);if(ri(i,t,Re(n,r)),".priority"===Ae(r)&&!ti(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ne(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Zr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Me);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ue(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ai=function(e,t,n){if(!n||void 0!==t){if(U(t))throw new Error(Object(y.q)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ti(t))throw new Error(Object(y.q)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oi=function(e,t,n,r){if((!r||void 0!==n)&&!Zr(n))throw new Error(Object(y.q)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ui=function(e,t,n,r){if((!r||void 0!==n)&&!ei(n))throw new Error(Object(y.q)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},si=function(e,t){if(".info"===Te(t))throw new Error(e+" failed = Can't modify data under /.info/")},ci=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Zr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ei(e)}(n))throw new Error(Object(y.q)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},li=function e(){Object(h.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function fi(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Fe(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function hi(e,t,n){fi(e,n),pi(e,(function(e){return Fe(e,t)}))}function di(e,t,n){fi(e,n),pi(e,(function(e){return Ue(e,t)||Ue(t,e)}))}function pi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(vi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function vi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();A&&R("event: "+n.toString()),Z(r)}}}var yi="repo_interrupt",mi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new li,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bt(),this.transactionQueueTree_=new qr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function gi(e,t,n){if(e.stats_=de(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Vt(e.repoInfo_,(function(t,n,r,i){_i(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return wi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(y.P)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ke(e.repoInfo_,t,(function(t,n,r,i){_i(e,t,n,r,i)}),(function(t){wi(e,t)}),(function(t){!function(e,t){G(t,(function(t,n){Oi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return he[n]||(he[n]=t()),he[n]}(e.repoInfo_,(function(){return new Qt(e.stats_,e.server_)})),e.infoData_=new qt,e.infoSyncTree_=new pr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=gr(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Oi(e,"connected",!1),e.serverSyncTree_=new pr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);di(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function bi(e){var t=e.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ki(e){return(t=(t={timestamp:bi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function _i(e,t,n,r,i){e.dataUpdateCount++;var a=new Ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(y.J)(n,(function(e){return kt(e)}));o=function(e,t,n,r){var i=Sr(e,r);if(i){var a=Cr(i),o=a.path,u=a.queryId,s=Le(o,t),c=fn.fromObject(n);return Ar(e,o,new en($t(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=kt(n);o=function(e,t,n,r){var i=Sr(e,r);if(null!=i){var a=Cr(i),o=a.path,u=a.queryId,s=Le(o,t);return Ar(e,o,new Zt($t(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(y.J)(n,(function(e){return kt(e)}));o=function(e,t,n){var r=fn.fromObject(n);return Or(e,new en({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=kt(n);o=gr(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Di(e,a)),di(e.eventQueue_,f,o)}function wi(e,t){Oi(e,"connected",t),!1===t&&function(e){Ci(e,"onDisconnectEvents");var t=ki(e),n=Bt();Kt(e.onDisconnect_,Ie(),(function(r,i){var a=Fr(r,i,e.serverSyncTree_,t);zt(n,r,a)}));var r=[];Kt(n,Ie(),(function(t,n){r=r.concat(gr(e.serverSyncTree_,t,n));var i=Vi(e,t);Di(e,i)})),e.onDisconnect_=Bt(),di(e.eventQueue_,Ie(),r)}(e)}function Oi(e,t,n){var r=new Ee("/.info/"+t),i=kt(n);e.infoData_.updateSnapshot(r,i);var a=gr(e.infoSyncTree_,r,i);di(e.eventQueue_,r,a)}function ji(e){return e.nextWriteId_++}function xi(e,t,n,r,i){Ci(e,"set",{path:t.toString(),value:n,priority:r});var a=ki(e),o=kt(n,r),u=_r(e.serverSyncTree_,t),s=Ur(o,u,a),c=ji(e),l=vr(e.serverSyncTree_,t,s,c,!0);fi(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||F("set at "+t+" failed: "+n);var o=mr(e.serverSyncTree_,c,!a);di(e.eventQueue_,t,o),Ai(e,i,n,r)}));var f=Vi(e,t);Di(e,f),di(e.eventQueue_,f,[])}function Ei(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Wt(e.onDisconnect_,t),Ai(e,n,r,i)}))}function Ii(e,t,n,r){var i=kt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&zt(e.onDisconnect_,t,i),Ai(e,r,n,a)}))}function Ti(e,t,n){var r;r=".info"===Te(t._path)?br(e.infoSyncTree_,t,n):br(e.serverSyncTree_,t,n),hi(e.eventQueue_,t._path,r)}function Si(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yi)}function Ci(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.apply(void 0,[t].concat(r))}function Ai(e,t,n,r){t&&Z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ni(e,t,n){return _r(e.serverSyncTree_,t,n)||gt.EMPTY_NODE}function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ui(e,t),zr(t)){var n=Mi(e,t);Object(y.e)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Ri(e,Qr(t),n)}else Kr(t)&&Hr(t,(function(t){Pi(e,t)}))}function Ri(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ni(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(y.e)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Le(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ci(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(mr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Ui(e,Br(e.transactionQueueTree_,t)),Pi(e,e.transactionQueueTree_),di(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)Z(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{F("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Di(e,t)}}),o)}function Di(e,t){var n=Li(e,t),r=Qr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var u,s=t[o],c=Le(n,s.path),l=!1,f=void 0;if(Object(y.e)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(mr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(mr(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Ni(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ri("transaction failed: Data returned ",d,s.path);var p=kt(d);"object"===typeof d&&null!=d&&Object(y.k)(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,m=ki(e),g=Ur(p,h,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=ji(e),a.splice(a.indexOf(v),1),i=(i=i.concat(vr(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(mr(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(mr(e.serverSyncTree_,s.currentWriteId,!0))}di(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)o(u);Ui(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)Z(r[s]);Pi(e,e.transactionQueueTree_)}(e,Mi(e,n),r),r}function Li(e,t){var n,r=e.transactionQueueTree_;for(n=Te(t);null!==n&&void 0===zr(r);)r=Br(r,n),n=Te(t=Ce(t));return r}function Mi(e,t){var n=[];return Fi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Fi(e,t,n){var r=zr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Hr(t,(function(t){Fi(e,t,n)}))}function Ui(e,t){var n=zr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Wr(t,n.length>0?n:void 0)}Hr(t,(function(t){Ui(e,t)}))}function Vi(e,t){var n=Qr(Li(e,t)),r=Br(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){qi(e,t)})),qi(e,r),Gr(r,(function(t){qi(e,t)})),n}function qi(e,t){var n=zr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(y.e)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(y.e)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Wr(t,void 0):n.length=a+1,di(e.eventQueue_,Qr(t),i);for(var u=0;u<r.length;u++)Z(r[u])}}var Bi=function(e,t){var n=zi(e),r=n.namespace;"firebase.com"===n.domain&&M(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||M("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ee(n.pathString)}},zi=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Object(f.a)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):F("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Wi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(d.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(y.P)(this.snapshot.exportVal())}}]),e}(),Ki=function(){function e(t,n,r){Object(h.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(d.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Hi=function(){function e(t,n){Object(h.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(d.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(y.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Gi=function(){function e(t,n){Object(h.a)(this,e),this._repo=t,this._path=n}return Object(d.a)(e,[{key:"cancel",value:function(){var e=new y.a;return Ei(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){si("OnDisconnect.remove",this._path);var e=new y.a;return Ii(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){si("OnDisconnect.set",this._path),ni("OnDisconnect.set",e,this._path,!1);var t=new y.a;return Ii(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){si("OnDisconnect.setWithPriority",this._path),ni("OnDisconnect.setWithPriority",e,this._path,!1),ai("OnDisconnect.setWithPriority",t,!1);var n=new y.a;return function(e,t,n,r,i){var a=kt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&zt(e.onDisconnect_,t,a),Ai(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){si("OnDisconnect.update",this._path),ii("OnDisconnect.update",e,this._path,!1);var t=new y.a;return function(e,t,n,r){if(Object(y.y)(n))return R("onDisconnect().update() called with empty data.  Don't do anything."),void Ai(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&G(n,(function(n,r){var i=kt(r);zt(e.onDisconnect_,Re(t,n),i)})),Ai(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Qi=function(){function e(t,n,r,i){Object(h.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"key",get:function(){return De(this._path)?null:Ae(this._path)}},{key:"ref",get:function(){return new Xi(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ut(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ut(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Object(y.s)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Fe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function $i(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ye){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==V)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==q)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ht){if(null!=t&&!ti(t)||null!=n&&!ti(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(y.e)(e.getIndex()instanceof _t||e.getIndex()===wt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ji(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Xi=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(h.a)(this,n),t.call(this,e,r,new Rt,!1)}return Object(d.a)(n,[{key:"parent",get:function(){var e=Pe(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Qi),Zi=function(){function e(t,n,r){Object(h.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(d.a)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ee(t),r=na(this.ref,t);return new e(this._node.getChild(n),r,ht)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,na(n.ref,r),ht))}))}},{key:"hasChild",value:function(e){var t=new Ee(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ea(e,t){return(e=Object(y.s)(e))._checkNotDeleted("ref"),void 0!==t?na(e._root,t):e._root}function ta(e,t){(e=Object(y.s)(e))._checkNotDeleted("refFromURL");var n=Bi(t,e._repo.repoInfo_.nodeAdmin);ci("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||M("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ea(e,n.path.toString())}function na(e,t){var n,r,i,a;return null===Te((e=Object(y.s)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ui(n,r,i,a)):ui("child","path",t,!1),new Xi(e._repo,Re(e._path,t))}function ra(e,t){e=Object(y.s)(e),si("push",e._path),ni("push",t,e._path,!0);var n,r=bi(e._repo),i=jt(r),a=na(e,i),o=na(e,i);return n=null!=t?aa(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function ia(e){return si("remove",e._path),aa(e,null)}function aa(e,t){e=Object(y.s)(e),si("set",e._path),ni("set",t,e._path,!1);var n=new y.a;return xi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function oa(e,t){e=Object(y.s)(e),si("setPriority",e._path),ai("setPriority",t,!1);var n=new y.a;return xi(e._repo,Re(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ua(e,t,n){if(si("setWithPriority",e._path),ni("setWithPriority",t,e._path,!1),ai("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new y.a;return xi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function sa(e,t){ii("update",t,e._path,!1);var n=new y.a;return function(e,t,n,r){Ci(e,"update",{path:t.toString(),value:n});var i=!0,a=ki(e),o={};if(G(n,(function(n,r){i=!1,o[n]=Fr(Re(t,n),kt(r),e.serverSyncTree_,a)})),i)R("update() called with empty data.  Don't do anything."),Ai(0,r,"ok",void 0);else{var u=ji(e),s=yr(e.serverSyncTree_,t,o,u);fi(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||F("update at "+t+" failed: "+n);var o=mr(e.serverSyncTree_,u,!a),s=o.length>0?Di(e,t):t;di(e.eventQueue_,s,o),Ai(0,r,n,i)})),G(n,(function(n){var r=Vi(e,Re(t,n));Di(e,r)})),di(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ca(e){return function(e,t){var n=wr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=kt(n).withIndex(t._queryParams.getIndex()),i=gr(e.serverSyncTree_,t._path,r);return hi(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ci(e,"get for query "+Object(y.P)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(y.s)(e))._repo,e).then((function(t){return new Zi(t,new Xi(e._repo,e._path),e._queryParams.getIndex())}))}var la=function(){function e(t){Object(h.a)(this,e),this.callbackContext=t}return Object(d.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Wi("value",this,new Zi(e.snapshotNode,new Xi(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Ki(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),fa=function(){function e(t,n){Object(h.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(d.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Ki(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(y.e)(null!=e.childName,"Child events should have a childName.");var n=na(new Xi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Wi(e.type,this,new Zi(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ha(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Ti(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new Hi(n,a||void 0),c="value"===t?new la(s):new fa(t,s);return function(e,t,n){var r;r=".info"===Te(t._path)?kr(e.infoSyncTree_,t,n):kr(e.serverSyncTree_,t,n),hi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ti(e._repo,e,c)}}function da(e,t,n,r){return ha(e,"value",t,n,r)}function pa(e,t,n,r){return ha(e,"child_added",t,n,r)}function va(e,t,n,r){return ha(e,"child_changed",t,n,r)}function ya(e,t,n,r){return ha(e,"child_moved",t,n,r)}function ma(e,t,n,r){return ha(e,"child_removed",t,n,r)}function ga(e,t,n){var r=null,i=n?new Hi(n):null;"value"===t?r=new la(i):t&&(r=new fa(t,i)),Ti(e._repo,e,r)}var ba=function e(){Object(h.a)(this,e)},ka=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ni("endAt",this._value,e._path,!0);var t=Lt(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ba);function _a(e,t){return oi("endAt","key",t,!0),new ka(e,t)}var wa=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ni("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ye?("string"===typeof t&&(t=Et(t)),r=Lt(e,t,n)):r=Lt(e,t,null==n?V:Et(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ba);function Oa(e,t){return oi("endBefore","key",t,!0),new wa(e,t)}var ja=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ni("startAt",this._value,e._path,!0);var t=Dt(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ba);function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return oi("startAt","key",t,!0),new ja(e,t)}var Ea=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ni("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ye?("string"===typeof t&&(t=xt(t)),r=Dt(e,t,n)):r=Dt(e,t,null==n?q:xt(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),n}(ba);function Ia(e,t){return oi("startAfter","key",t,!0),new Ea(e,t)}var Ta=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ba);function Sa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ta(e)}var Ca=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ba);function Aa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ca(e)}var Na=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._path=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){$i(e,"orderByChild");var t=new Ee(this._path);if(De(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new _t(t),r=Mt(e._queryParams,n);return Yi(r),new Qi(e._repo,e._path,r,!0)}}]),n}(ba);function Pa(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ui("orderByChild","path",e,!1),new Na(e)}var Ra=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){$i(e,"orderByKey");var t=Mt(e._queryParams,Ye);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),n}(ba);function Da(){return new Ra}var La=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){$i(e,"orderByPriority");var t=Mt(e._queryParams,ht);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),n}(ba);function Ma(){return new La}var Fa=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){$i(e,"orderByValue");var t=Mt(e._queryParams,wt);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),n}(ba);function Ua(){return new Fa}var Va=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){if(ni("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ka(this._value,this._key)._apply(new ja(this._value,this._key)._apply(e))}}]),n}(ba);function qa(e,t){return oi("equalTo","key",t,!0),new Va(e,t)}function Ba(e){for(var t=Object(y.s)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){Object(y.e)(!Qn,"__referenceConstructor has already been defined"),Qn=e}(Xi),function(e){Object(y.e)(!tr,"__referenceConstructor has already been defined"),tr=e}(Xi);var za={},Wa=!1;function Ka(e,t,n,r){e.repoInfo_=new se("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Ha(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||M("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),R("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=Bi(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:310046784875:web:4222db1bfc8bde6c13602e",REACT_APP_FIREBASE_DOMAIN:"mall-e4018.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyBoy57kqYAfrT43kIQfjOtFZ47rA2ifIF8",REACT_APP_FIREBASE_PROJECT_ID:"mall-e4018",REACT_APP_FIREBASE_SENDER_ID:"310046784875",REACT_APP_FIREBASE_STORAGE_BUCKET:"mall-e4018.appspot.com"})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:310046784875:web:4222db1bfc8bde6c13602e",REACT_APP_FIREBASE_DOMAIN:"mall-e4018.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyBoy57kqYAfrT43kIQfjOtFZ47rA2ifIF8",REACT_APP_FIREBASE_PROJECT_ID:"mall-e4018",REACT_APP_FIREBASE_SENDER_ID:"310046784875",REACT_APP_FIREBASE_STORAGE_BUCKET:"mall-e4018.appspot.com"}).FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=Bi(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new re(re.OWNER):new ne(t.name,t.options,n);ci("Invalid Firebase Database URL",s),De(s.path)||M("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=za[t.name];i||(i={},za[t.name]=i);var a=i[e.toURLString()];a&&M("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new mi(e,Wa,n,r),i[e.toURLString()]=a,a}(c,t,f,new te(t.name,r));return new Ga(h,t)}var Ga=function(){function e(t,n){Object(h.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_repo",get:function(){return this._instanceStarted||(gi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Xi(this._repo,Ie())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=za[t];n&&n[e.key]===e||M("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Si(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&M("Cannot call "+e+" on a deleted database.")}}]),e}();function Qa(){_e.IS_TRANSPORT_INITIALIZED&&F("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $a(){Qa(),me.forceDisallow()}function Ya(){Qa(),ke.forceDisallow(),me.forceAllow()}function Ja(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(y.s)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&M("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&M('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new re(re.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(y.l)(r.mockUserToken,e.app.options.projectId);a=new re(o)}Ka(i,t,n,a)}function Xa(e){(e=Object(y.s)(e))._checkNotDeleted("goOffline"),Si(e._repo)}function Za(e){var t;(e=Object(y.s)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(yi)}function eo(e,t){P(e,t)}var to={".sv":"timestamp"};function no(){return to}function ro(e){return{".sv":{increment:e}}}var io=function(){function e(t,n){Object(h.a)(this,e),this.committed=t,this.snapshot=n}return Object(d.a)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function ao(e,t,n){var r;if(e=Object(y.s)(e),si("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new y.a,o=da(e,(function(){}));return function(e,t,n,r,i,a){Ci(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:T(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ni(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ri("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=Br(e.transactionQueueTree_,t),f=zr(l)||[];f.push(o),Wr(l,f),"object"===typeof s&&null!==s&&Object(y.k)(s,".priority")?(c=Object(y.M)(s,".priority"),Object(y.e)(ti(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(_r(e.serverSyncTree_,t)||gt.EMPTY_NODE).getPriority().val();var h=ki(e),d=kt(s,c),p=Ur(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=ji(e);var v=vr(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);di(e.eventQueue_,t,v),Pi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Zi(r,new Xi(e._repo,e._path),ht),a.resolve(new io(n,i)))}),o,i),a.promise}Ke.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ke.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var oo;_(p.SDK_VERSION),Object(p._registerComponent)(new v.a("database",(function(e,t){var n=t.instanceIdentifier;return Ha(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)(g,b,oo),Object(p.registerVersion)(g,b,"esm2017")}).call(this,n(81))},function(e,t,n){"use strict";n.r(t),n.d(t,"FirebaseError",(function(){return v.c})),n.d(t,"SDK_VERSION",(function(){return Y})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return M})),n.d(t,"_addComponent",(function(){return q})),n.d(t,"_addOrOverwriteComponent",(function(){return B})),n.d(t,"_apps",(function(){return U})),n.d(t,"_clearComponents",(function(){return H})),n.d(t,"_components",(function(){return V})),n.d(t,"_getProvider",(function(){return W})),n.d(t,"_registerComponent",(function(){return z})),n.d(t,"_removeServiceInstance",(function(){return K})),n.d(t,"deleteApp",(function(){return ee})),n.d(t,"getApp",(function(){return X})),n.d(t,"getApps",(function(){return Z})),n.d(t,"initializeApp",(function(){return J})),n.d(t,"onLog",(function(){return re})),n.d(t,"registerVersion",(function(){return ne})),n.d(t,"setLogLevel",(function(){return ie}));var r,i,a=n(18),o=n(0),u=n.n(o),s=n(4),c=n(6),l=n(5),f=n(2),h=n(3),d=n(20),p=n(21),v=n(1),y=n(42);var m=new WeakMap,g=new WeakMap,b=new WeakMap,k=new WeakMap,_=new WeakMap;var w={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return g.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return x(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(E(this),n),x(m.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(e.apply(E(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[E(this),t].concat(r));return b.set(a,t.sort?t.sort():[t]),x(a)}}function j(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(!g.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));g.set(e,t)}}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,w):e);var t}function x(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(x(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&m.set(t,e)})).catch((function(){})),_.set(t,e),t}(e);if(k.has(e))return k.get(e);var t=j(e);return t!==e&&(k.set(e,t),_.set(t,e)),t}var E=function(e){return _.get(e)};var I,T,S=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],A=new Map;function N(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(A.get(t))return A.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=C.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||S.includes(n))){var a=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,o,s,c,l,f,h=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return A.set(t,a),a}}}w=function(e){return Object(y.a)(Object(y.a)({},e),{},{get:function(t,n,r){return N(t,n)||e.get(t,n,r)},has:function(t,n){return!!N(t,n)||e.has(t,n)}})}(w);var P=function(){function e(t){Object(f.a)(this,e),this.container=t}return Object(h.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var R="@firebase/app",D="0.7.26",L=new p.b("@firebase/app"),M="[DEFAULT]",F=(I={},Object(l.a)(I,R,"fire-core"),Object(l.a)(I,"@firebase/app-compat","fire-core-compat"),Object(l.a)(I,"@firebase/analytics","fire-analytics"),Object(l.a)(I,"@firebase/analytics-compat","fire-analytics-compat"),Object(l.a)(I,"@firebase/app-check","fire-app-check"),Object(l.a)(I,"@firebase/app-check-compat","fire-app-check-compat"),Object(l.a)(I,"@firebase/auth","fire-auth"),Object(l.a)(I,"@firebase/auth-compat","fire-auth-compat"),Object(l.a)(I,"@firebase/database","fire-rtdb"),Object(l.a)(I,"@firebase/database-compat","fire-rtdb-compat"),Object(l.a)(I,"@firebase/functions","fire-fn"),Object(l.a)(I,"@firebase/functions-compat","fire-fn-compat"),Object(l.a)(I,"@firebase/installations","fire-iid"),Object(l.a)(I,"@firebase/installations-compat","fire-iid-compat"),Object(l.a)(I,"@firebase/messaging","fire-fcm"),Object(l.a)(I,"@firebase/messaging-compat","fire-fcm-compat"),Object(l.a)(I,"@firebase/performance","fire-perf"),Object(l.a)(I,"@firebase/performance-compat","fire-perf-compat"),Object(l.a)(I,"@firebase/remote-config","fire-rc"),Object(l.a)(I,"@firebase/remote-config-compat","fire-rc-compat"),Object(l.a)(I,"@firebase/storage","fire-gcs"),Object(l.a)(I,"@firebase/storage-compat","fire-gcs-compat"),Object(l.a)(I,"@firebase/firestore","fire-fst"),Object(l.a)(I,"@firebase/firestore-compat","fire-fst-compat"),Object(l.a)(I,"fire-js","fire-js"),Object(l.a)(I,"firebase","fire-js-all"),I),U=new Map,V=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){L.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function B(e,t){e.container.addOrOverwriteComponent(t)}function z(e){var t=e.name;if(V.has(t))return L.debug("There were multiple attempts to register component ".concat(t,".")),!1;V.set(t,e);var n,r=Object(c.a)(U.values());try{for(r.s();!(n=r.n()).done;){q(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function W(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;W(e,t).clearInstance(n)}function H(){V.clear()}var G=(T={},Object(l.a)(T,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(l.a)(T,"bad-app-name","Illegal App name: '{$appName}"),Object(l.a)(T,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(l.a)(T,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(l.a)(T,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(l.a)(T,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(l.a)(T,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(l.a)(T,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(l.a)(T,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(l.a)(T,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),T),Q=new v.b("app","Firebase",G),$=function(){function e(t,n,r){var i=this;Object(f.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d.a("app",(function(){return i}),"PUBLIC"))}return Object(h.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}]),e}(),Y="9.8.3";function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Q.create("bad-app-name",{appName:String(i)});var a=U.get(i);if(a){if(Object(v.o)(e,a.options)&&Object(v.o)(r,a.config))return a;throw Q.create("duplicate-app",{appName:i})}var o,u=new d.b(i),s=Object(c.a)(V.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(h){s.e(h)}finally{s.f()}var f=new $(e,r,u);return U.set(i,f),f}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=U.get(e);if(!t)throw Q.create("no-app",{appName:e});return t}function Z(){return Array.from(U.values())}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!U.has(n)){e.next=6;break}return U.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n){var r,i=null!==(r=F[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void L.warn(u.join(" "))}z(new d.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function re(e,t){if(null!==e&&"function"!==typeof e)throw Q.create("invalid-log-argument");Object(p.d)(e,t)}function ie(e){Object(p.c)(e)}var ae="firebase-heartbeat-store",oe=null;function ue(){return oe||(oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=x(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(x(u.result),e.oldVersion,e.newVersion,x(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(ae)}}}).catch((function(e){throw Q.create("storage-open",{originalErrorMessage:e.message})}))),oe}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue();case 3:return r=e.sent,e.abrupt("return",r.transaction(ae).objectStore(ae).get(he(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Q.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(s.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue();case 3:return i=e.sent,a=i.transaction(ae,"readwrite"),o=a.objectStore(ae),e.next=8,o.put(n,he(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Q.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function he(e){return"".concat(e.name,"!").concat(e.options.appId)}var de=function(){function e(t){var n=this;Object(f.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new me(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Object(h.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=pe(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=pe(),n=ve(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(v.j)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pe(){return(new Date).toISOString().substring(0,10)}function ve(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Object(c.a)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ge(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ge(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ye,me=function(){function e(t){Object(f.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(h.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.A)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(v.T)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,se(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",le(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",le(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Object(a.a)(r.heartbeats),Object(a.a)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ge(e){return Object(v.j)(JSON.stringify({version:2,heartbeats:e})).length}ye="",z(new d.a("platform-logger",(function(e){return new P(e)}),"PRIVATE")),z(new d.a("heartbeat",(function(e){return new de(e)}),"PRIVATE")),ne(R,D,ye),ne(R,D,"esm2017"),ne("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62);var i=n(40),a=n(63);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(52);var i=n(65),a=n(40);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p}));var r=n(0),i=n.n(r),a=n(18),o=n(4),u=n(17),s=n(6),c=n(2),l=n(3),f=n(1),h=function(){function e(t,n,r){Object(c.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(l){}var t,n=Object(s.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(u.a)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(a.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(a.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Object(s.a)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var c=Object(u.a)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(c.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y}));var r,i,a=n(6),o=n(2),u=n(3),s=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(s.a)(r,i.DEBUG,"log"),Object(s.a)(r,i.VERBOSE,"log"),Object(s.a)(r,i.INFO,"info"),Object(s.a)(r,i.WARN,"warn"),Object(s.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(u.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function y(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return U})),n.d(t,"j",(function(){return D}));var a=n(8),o=n.n(a),u=n(30),s=n(92),c=n(33);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=n(74),h=n.n(f);n(137);function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(51),v=n.n(p),y=function(e){var t=Object(s.a)();return t.displayName=e,t},m=y("Router-History"),g=y("Router"),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var k=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var _={},w=0;function O(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(_[e])return _[e];var t=h.a.compile(e);return w<1e4&&(_[e]=t,w++),t}(e)(t,{pretty:!0})}function j(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(g.Consumer,null,(function(e){e||Object(c.a)(!1);var r=e.history,a=e.staticContext,s=i?r.push:r.replace,f=Object(u.c)(t?"string"===typeof n?O(n,t.params):l({},n,{pathname:O(n.pathname,t.params)}):n);return a?(s(f),null):o.a.createElement(k,{onMount:function(){s(f)},onUpdate:function(e,t){var n=Object(u.c)(t.to);Object(u.f)(n,l({},f,{key:n.key}))||s(f)},to:n})}))}var x={},E=0;function I(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=x[n]||(x[n]={});if(r[e])return r[e];var i=[],a={regexp:h()(e,i,t),keys:i};return E<1e4&&(r[e]=a,E++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var T=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=l({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?I(n.pathname,e.props):t.match}),i=e.props,a=i.children,u=i.component,s=i.render;return Array.isArray(a)&&function(e){return 0===o.a.Children.count(e)}(a)&&(a=null),o.a.createElement(g.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:u?o.a.createElement(u,r):s?s(r):null:"function"===typeof a?a(r):null)}))},t}(o.a.Component);function S(e){return"/"===e.charAt(0)?e:"/"+e}function C(e,t){if(!e)return t;var n=S(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function A(e){return"string"===typeof e?e:Object(u.e)(e)}function N(e){return function(){Object(c.a)(!1)}}function P(){}o.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?I(i.pathname,l({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function D(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=d(t,["wrappedComponentRef"]);return o.a.createElement(g.Consumer,null,(function(t){return t||Object(c.a)(!1),o.a.createElement(e,l({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,v()(n,e)}var L=o.a.useContext;function M(){return L(m)}function F(){return L(g).location}function U(){var e=L(g).match;return e?e.params:{}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return c}));var r=n(8),i=n(73);n(49),n(72);var a=n(32),o=n(39),u={}.hasOwnProperty,s=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);s.Provider;var c=function(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(s);return e(t,i,n)}))},l=Object(r.createContext)({});var f=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function h(e){f(e)}var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(a.c)(t,n,r);h((function(){return Object(a.b)(t,n,r)}));return null},y=c((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[d],c=[i],f="";"string"===typeof e.className?f=Object(a.a)(t.registered,c,e.className):null!=e.className&&(f=e.className+" ");var h=Object(o.a)(c,void 0,Object(r.useContext)(l));f+=t.key+"-"+h.name;var p={};for(var y in e)u.call(e,y)&&"css"!==y&&y!==d&&(p[y]=e[y]);return p.ref=n,p.className=f,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v,{cache:t,serialized:h,isStringTag:"string"===typeof s}),Object(r.createElement)(s,p))}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));n(18),n(29),n(97),n(38);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return mr})),n.d(t,"b",(function(){return br})),n.d(t,"c",(function(){return gr})),n.d(t,"d",(function(){return _r})),n.d(t,"e",(function(){return kr})),n.d(t,"f",(function(){return wr})),n.d(t,"g",(function(){return Or})),n.d(t,"h",(function(){return vr})),n.d(t,"i",(function(){return yr}));var r,i=n(6),a=n(24),o=n(19),u=n(10),s=n(11),c=n(2),l=n(3),f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},h={},d=d||{},p=f||self;function v(){}function y(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:_).apply(null,arguments)}function O(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function x(){this.s=this.s,this.o=this.o}var E={};x.prototype.s=!1,x.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}(this);delete E[e]}},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var N,P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function R(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var L=p.navigator;if(L){var M=L.userAgent;if(M){N=M;break e}}N=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<V.length;a++)n=V[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){return B[" "](e),e}B[" "]=v;var z,W=R(N,"Opera"),K=R(N,"Trident")||R(N,"MSIE"),H=R(N,"Edge"),G=H||K,Q=R(N,"Gecko")&&!(R(N.toLowerCase(),"webkit")&&!R(N,"Edge"))&&!(R(N,"Trident")||R(N,"MSIE"))&&!R(N,"Edge"),$=R(N.toLowerCase(),"webkit")&&!R(N,"Edge");function Y(){var e=p.document;return e?e.documentMode:void 0}e:{var J="",X=function(){var e=N;return Q?/rv:([^\);]+)(\)|;)/.exec(e):H?/Edge\/([\d\.]+)/.exec(e):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$?/WebKit\/(\S+)/.exec(e):W?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(J=X?X[1]:""),K){var Z=Y();if(null!=Z&&Z>parseFloat(J)){z=String(Z);break e}}z=J}var ee,te={};function ne(){return function(e){var t=te;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=P(String(z)).split("."),n=P("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(p.document&&K){var re=Y();ee=re||(parseInt(z,10)||void 0)}else ee=void 0;var ie=ee,ae=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ue(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Q){e:{try{B(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ue.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},j(ue,oe);var se={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++le,this.ca=this.fa=!1}function he(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function de(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=I(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(he(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ve(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ye="closure_lm_"+(1e6*Math.random()|0),me={};function ge(e,t,n,r,i){if(r&&r.once)return ke(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[ce]?e.N(t,n,m(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=m(i)?!!i.capture:!!i,u=xe(e);if(u||(e[ye]=u=new de(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=je;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ae||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ke(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ke(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[ce]?e.O(t,n,m(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function _e(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_e(e,t[a],n,r,i);else r=m(r)?!!r.capture:!!r,n=Ie(n),e&&e[ce]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ve(a=e.g[t],n,r,i))&&(he(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ve(t,n,r,i)),(n=-1<e?t[e]:null)&&we(n))}function we(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(pe(n,e),0==n.h&&(n.src=null,t[ye]=null)):he(e)}}}function Oe(e){return e in me?me[e]:me[e]="on"+e}function je(e,t){if(e.ca)e=!0;else{t=new ue(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&we(e),e=n.call(r,t)}return e}function xe(e){return(e=e[ye])instanceof de?e:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(e){return"function"===typeof e?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Te(){x.call(this),this.i=new de(this),this.P=this,this.I=null}function Se(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;q(t=new oe(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ce(o,r,!0,t)&&i}if(i=Ce(o=t.g=e,r,!0,t)&&i,i=Ce(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ce(o=t.g=n[a],r,!1,t)&&i}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&pe(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}j(Te,x),Te.prototype[ce]=!0,Te.prototype.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},Te.prototype.M=function(){if(Te.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)he(n[r]);delete t.g[e],t.h--}}this.I=null},Te.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ae=p.JSON.stringify;function Ne(){var e=Ve,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pe,Re=function(){function e(){Object(c.a)(this,e),this.h=this.g=null}return Object(l.a)(e,[{key:"add",value:function(e,t){var n=De.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),De=new(function(){function e(t,n){Object(c.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(l.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Le}),(function(e){return e.reset()})),Le=function(){function e(){Object(c.a)(this,e),this.next=this.g=this.h=null}return Object(l.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Me(e){p.setTimeout((function(){throw e}),0)}function Fe(e,t){Pe||function(){var e=p.Promise.resolve(void 0);Pe=function(){e.then(qe)}}(),Ue||(Pe(),Ue=!0),Ve.add(e,t)}var Ue=!1,Ve=new Re;function qe(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(n){Me(n)}var t=De;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ue=!1}function Be(e,t){Te.call(this),this.h=e||1,this.g=t||p,this.j=w(this.kb,this),this.l=Date.now()}function ze(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function We(e,t,n){if("function"===typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function Ke(e){e.g=We((function(){e.g=null,e.i&&(e.i=!1,Ke(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}j(Be,Te),(r=Be.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Se(this,"tick"),this.da&&(ze(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Be.Z.M.call(this),ze(this),delete this.g};var He=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(c.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(l.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ke(this)}},{key:"M",value:function(){Object(a.a)(Object(o.a)(n.prototype),"M",this).call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(x);function Ge(e){x.call(this),this.h=e,this.g={}}j(Ge,x);var Qe=[];function $e(e,t,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var a=ge(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ye(e){F(e.g,(function(e,t){this.g.hasOwnProperty(t)&&we(e)}),e),e.g={}}function Je(){this.g=!0}function Xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ae(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ge.prototype.M=function(){Ge.Z.M.call(this),Ye(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.Aa=function(){this.g=!1},Je.prototype.info=function(){};var Ze={},et=null;function tt(){return et=et||new Te}function nt(e){oe.call(this,Ze.Ma,e)}function rt(e){var t=tt();Se(t,new nt(t,e))}function it(e,t){oe.call(this,Ze.STAT_EVENT,e),this.stat=t}function at(e){var t=tt();Se(t,new it(t,e))}function ot(e,t){oe.call(this,Ze.Na,e),this.size=t}function ut(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}Ze.Ma="serverreachability",j(nt,oe),Ze.STAT_EVENT="statevent",j(it,oe),Ze.Na="timingevent",j(ot,oe);var st={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lt(){}function ft(e){return e.h||(e.h=e.i())}function ht(){}lt.prototype.h=null;var dt,pt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vt(){oe.call(this,"d")}function yt(){oe.call(this,"c")}function mt(){}function gt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ge(this),this.P=kt,e=G?125:void 0,this.W=new Be(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}j(vt,oe),j(yt,oe),j(mt,lt),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},dt=new mt;var kt=45e3,_t={},wt={};function Ot(e,t,n){e.K=1,e.v=Ht(Vt(t)),e.s=n,e.U=!0,jt(e,null)}function jt(e,t){e.F=Date.now(),Tt(e),e.A=Vt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),on(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bt,e.g=sr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(w(e.Ia,e,e.g),e.O)),$e(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rt(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function xt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Et(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=It(e,n))==wt){4==t&&(e.o=4,at(14),i=!1),Xe(e.j,e.m,null,"[Incomplete Response]");break}if(r==_t){e.o=4,at(15),Xe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xe(e.j,e.m,r,null),Pt(e,r)}xt(e)&&r!=wt&&r!=_t&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,at(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),er(t),t.L=!0,at(11))):(Xe(e.j,e.m,n,"[Invalid Chunked Response]"),Nt(e),At(e))}function It(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wt:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1)+n>t.length?wt:(t=t.substr(r,n),e.C=r+n,t))}function Tt(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ut(w(e.eb,e),t)}function Ct(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function At(e){0==e.l.G||e.I||rr(e.l,e)}function Nt(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ze(e.W),Ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pn(n.i,e)))if(n.I=e.N,!e.J&&pn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nr(n),Kn(n)}Zn(n),at(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ut(w(n.ab,n),6e3));if(1>=dn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ar(n,11)}else if((e.J||n.g==e)&&nr(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ur(r,r.H?r.la:null,r.W),d.J){yn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ct(p),Tt(p)),r.g=d}else Xn(r);0<n.l.length&&Qn(n)}else"stop"!=a[0]&&"close"!=a[0]||ar(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ar(n,7):Wn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rt(4)}catch(a){}}function Rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(y(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Dt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Lt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Mt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=gt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Un(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Un(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ga()||Vn(this.g)))){this.I||4!=t||7==n||rt(8==n||0>=r?3:2),Ct(this);var i=this.g.ba();this.N=i;t:if(xt(this)){var a=Vn(this.g);e="";var o=a.length,u=4==Un(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nt(this),At(this);var s="";break t}this.h.i=new p.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,at(12),Nt(this),At(this);break e}Xe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pt(this,i)}this.U?(Et(this,t,s),G&&this.i&&3==t&&($e(this.V,this.W,"tick",this.fb),this.W.start())):(Xe(this.j,this.m,s,null),Pt(this,s)),4==t&&Nt(this),this.i&&!this.I&&(4==t?rr(this.l,this):(this.i=!1,Tt(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),Nt(this),At(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Un(this.g),t=this.g.ga();this.C<t.length&&(Ct(this),Et(this,e,t),this.i&&4!=e&&Tt(this))}},r.cancel=function(){this.I=!0,Nt(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rt(3),at(17)),Nt(this),this.o=2,At(this)):St(this,this.Y-e)},(r=Dt.prototype).R=function(){Lt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Lt(this),this.g.concat()},r.get=function(e,t){return Mt(this.h,e)?this.h[e]:t},r.set=function(e,t){Mt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ft=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ut(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ut){this.g=void 0!==t?t:e.g,qt(this,e.j),this.s=e.s,Bt(this,e.i),zt(this,e.m),this.l=e.l,t=e.h;var n=new tn;n.i=t.i,t.g&&(n.g=new Dt(t.g),n.h=t.h),Wt(this,n),this.o=e.o}else e&&(n=String(e).match(Ft))?(this.g=!!t,qt(this,n[1]||"",!0),this.s=Gt(n[2]||""),Bt(this,n[3]||"",!0),zt(this,n[4]),this.l=Gt(n[5]||"",!0),Wt(this,n[6]||"",!0),this.o=Gt(n[7]||"")):(this.g=!!t,this.h=new tn(null,this.g))}function Vt(e){return new Ut(e)}function qt(e,t,n){e.j=n?Gt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bt(e,t,n){e.i=n?Gt(t,!0):t}function zt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wt(e,t,n){t instanceof tn?(e.h=t,function(e,t){t&&!e.j&&(nn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rn(this,t),on(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qt(t,Zt)),e.h=new tn(t,e.g))}function Kt(e,t,n){e.h.set(t,n)}function Ht(e){return Kt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$t),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $t(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ut.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qt(t,Yt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qt(t,Yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qt(n,"/"==n.charAt(0)?Xt:Jt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qt(n,en)),e.join("")};var Yt=/[#\/\?@]/g,Jt=/[#\?:]/g,Xt=/[#\?]/g,Zt=/[#\?@]/g,en=/#/g;function tn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nn(e){e.g||(e.g=new Dt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rn(e,t){nn(e),t=un(e,t),Mt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Mt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Lt(e)))}function an(e,t){return nn(e),t=un(e,t),Mt(e.g.h,t)}function on(e,t,n){rn(e,t),0<n.length&&(e.i=null,e.g.set(un(e,t),C(n)),e.h+=n.length)}function un(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=tn.prototype).add=function(e,t){nn(this),this.i=null,e=un(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){nn(this),this.g.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){nn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){nn(this);var t=[];if("string"===typeof e)an(this,e)&&(t=S(t,this.g.get(un(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},r.set=function(e,t){return nn(this),this.i=null,an(this,e=un(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var sn=function e(t,n){Object(c.a)(this,e),this.h=t,this.g=n};function cn(e){this.l=e||fn,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln,fn=10;function hn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dn(e){return e.h?1:e.g?e.g.size:0}function pn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vn(e,t){e.g?e.g.add(t):e.h=t}function yn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(i.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(o){r.e(o)}finally{r.f()}return n}return C(e.i)}function gn(){}function bn(){this.g=new gn}function kn(e,t,n){var r=n||"";try{Rt(e,(function(e,n){var i=e;m(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _n(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wn(e){this.l=e.$b||null,this.j=e.ib||!1}function On(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(i.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},j(wn,lt),wn.prototype.g=function(){return new On(this.l,this.j)},wn.prototype.i=(ln={},function(){return ln}),j(On,Te);var jn=0;function xn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function En(e){e.readyState=4,e.l=null,e.j=null,e.A=null,In(e)}function In(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=On.prototype).open=function(e,t){if(this.readyState!=jn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,In(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=jn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?En(this):In(this),3==this.readyState&&xn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,En(this))},r.Ta=function(e){this.g&&(this.response=e,En(this))},r.ha=function(){this.g&&En(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(On.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tn=p.JSON.parse;function Sn(e){Te.call(this),this.headers=new Dt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}j(Sn,Te);var Cn="",An=/^https?$/i,Nn=["POST","PUT"];function Pn(e){return"content-type"==e.toLowerCase()}function Rn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dn(e),Mn(e)}function Dn(e){e.D||(e.D=!0,Se(e,"complete"),Se(e,"error"))}function Ln(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Un(e)||2!=e.ba()))if(e.v&&4==Un(e))We(e.Fa,0,e);else if(Se(e,"readystatechange"),4==Un(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ft)[1]||null;if(!a&&p.self&&p.self.location){var o=p.self.location.protocol;a=o.substr(0,o.length-1)}i=!An.test(a?a.toLowerCase():"")}t=i}if(t)Se(e,"complete"),Se(e,"success");else{e.m=6;try{var u=2<Un(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Dn(e)}}finally{Mn(e)}}}function Mn(e,t){if(e.g){Fn(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Se(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Un(e){return e.g?e.g.readyState:0}function Vn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kt(e,t,n))}function Bn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zn(e){this.za=0,this.l=[],this.h=new Je,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bn("baseRetryDelayMs",5e3,e),this.$a=Bn("retryDelaySeedMs",1e4,e),this.Ya=Bn("forwardChannelMaxRetries",2,e),this.ra=Bn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cn(e&&e.concurrentRequestLimit),this.Ca=new bn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wn(e){if(Hn(e),3==e.G){var t=e.V++,n=Vt(e.F);Kt(n,"SID",e.J),Kt(n,"RID",t),Kt(n,"TYPE","terminate"),Yn(e,n),(t=new gt(e,e.h,t,void 0)).K=2,t.v=Ht(Vt(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=sr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tt(t)}or(e)}function Kn(e){e.g&&(er(e),e.g.cancel(),e.g=null)}function Hn(e){Kn(e),e.u&&(p.clearTimeout(e.u),e.u=null),nr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Gn(e,t){e.l.push(new sn(e.Za++,t)),3==e.G&&Qn(e)}function Qn(e){hn(e.i)||e.m||(e.m=!0,Fe(e.Ha,e),e.C=0)}function $n(e,t){var n;n=t?t.m:e.V++;var r=Vt(e.F);Kt(r,"SID",e.J),Kt(r,"RID",n),Kt(r,"AID",e.U),Yn(e,r),e.o&&e.s&&qn(r,e.o,e.s),n=new gt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vn(e.i,n),Ot(n,r,t)}function Yn(e,t){e.j&&Rt({},(function(e,n){Kt(t,n,e)}))}function Jn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?w(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xn(e){e.g||e.u||(e.Y=1,Fe(e.Ga,e),e.A=0)}function Zn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ut(w(e.Ga,e),ir(e,e.A)),e.A++,!0)}function er(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function tr(e){e.g=new gt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vt(e.oa);Kt(t,"RID","rpc"),Kt(t,"SID",e.J),Kt(t,"CI",e.N?"0":"1"),Kt(t,"AID",e.U),Yn(e,t),Kt(t,"TYPE","xmlhttp"),e.o&&e.s&&qn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Vt(t)),n.s=null,n.U=!0,jt(n,e)}function nr(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function rr(e,t){var n=null;if(e.g==t){nr(e),er(e),e.g=null;var r=2}else{if(!pn(e.i,t))return;n=t.D,yn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Se(r=tt(),new ot(r,n,t,i)),Qn(e)}else Xn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ut(w(e.Ha,e,t),ir(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ar(e,5);break;case 4:ar(e,10);break;case 3:ar(e,6);break;default:ar(e,2)}}function ir(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ar(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=w(e.jb,e);n||(n=new Ut("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||qt(n,"https"),Ht(n)),function(e,t){var n=new Je;if(p.Image){var r=new Image;r.onload=O(_n,n,r,"TestLoadImage: loaded",!0,t),r.onerror=O(_n,n,r,"TestLoadImage: error",!1,t),r.onabort=O(_n,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=O(_n,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else at(2);e.G=0,e.j&&e.j.va(t),or(e),Hn(e)}function or(e){e.G=0,e.I=-1,e.j&&(0==mn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function ur(e,t,n){var r=function(e){return e instanceof Ut?Vt(e):new Ut(e,void 0)}(n);if(""!=r.i)t&&Bt(r,t+"."+r.i),zt(r,r.m);else{var i=p.location;r=function(e,t,n,r){var i=new Ut(null,void 0);return e&&qt(i,e),t&&Bt(i,t),n&&zt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&F(e.aa,(function(e,t){Kt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kt(r,t,n),Kt(r,"VER",e.ma),Yn(e,r),r}function sr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new wn({ib:!0})):new Sn(e.qa)).L=e.H,t}function cr(){}function lr(){if(K&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function fr(e,t){Te.call(this),this.g=new zn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pr(this)}function hr(e){vt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dr(){yt.call(this),this.status=1}function pr(e){this.g=e}(r=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dt.g(),this.C=this.u?ft(this.u):ft(dt),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Rn(this,a)}e=n||"";var i=new Dt(this.headers);r&&Rt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=p.FormData&&e instanceof p.FormData,!(0<=I(Nn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fn(this),0<this.B&&((this.K=function(e){return K&&ne()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=We(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Rn(this,a)}},r.pa=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Se(this,"complete"),Se(this,"abort"),Mn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mn(this,!0)),Sn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Ln(this):this.cb())},r.cb=function(){Ln(this)},r.ba=function(){try{return 2<Un(this)?this.g.status:-1}catch(ln){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(ln){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=zn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?q(n=U(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jn(this,t,r),Kt(i=Vt(this.F),"RID",e),Kt(i,"CVER",22),this.D&&Kt(i,"X-HTTP-Session-Id",this.D),Yn(this,i),this.o&&n&&qn(i,this.o,n),vn(this.i,t),this.Ra&&Kt(i,"TYPE","init"),this.ja?(Kt(i,"$req",r),Kt(i,"SID","null"),t.$=!0,Ot(t,i,null)):Ot(t,i,r),this.G=2}}else 3==this.G&&(e?$n(this,e):0==this.l.length||hn(this.i)||$n(this))},r.Ga=function(){if(this.u=null,tr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ut(w(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,at(10),Kn(this),tr(this))},r.ab=function(){null!=this.v&&(this.v=null,Kn(this),Zn(this),at(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),at(2)):(this.h.info("Failed to ping google.com"),at(1))},(r=cr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},lr.prototype.g=function(e,t){return new fr(e,t)},j(fr,Te),fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fe(w(e.hb,e,t))),at(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ur(e,null,e.W),Qn(e)},fr.prototype.close=function(){Wn(this.g)},fr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gn(this.g,t)}else this.v?((t={}).__data__=Ae(e),Gn(this.g,t)):Gn(this.g,e)},fr.prototype.M=function(){this.g.j=null,delete this.j,Wn(this.g),delete this.g,fr.Z.M.call(this)},j(hr,vt),j(dr,yt),j(pr,cr),pr.prototype.xa=function(){Se(this.g,"a")},pr.prototype.wa=function(e){Se(this.g,new hr(e))},pr.prototype.va=function(e){Se(this.g,new dr(e))},pr.prototype.ua=function(){Se(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,ct.COMPLETE="complete",ht.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",Te.prototype.listen=Te.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var vr=h.createWebChannelTransport=function(){return new lr},yr=h.getStatEventTarget=function(){return tt()},mr=h.ErrorCode=st,gr=h.EventType=ct,br=h.Event=Ze,kr=h.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_r=h.FetchXmlHttpFactory=wn,wr=h.WebChannel=ht,Or=h.XhrIo=Sn}).call(this,n(58))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return y}));var r=n(17),i=n(26),a=n(14),o=n(38);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=Object(a.b)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function y(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=y(t,n),e}),{})}}(l(n),r),o=e[n];return Object(i.b)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return m(e,t,r,n)})).reduce(o.a,{})}function b(e){return g(e,f)}function k(e){return g(e,h)}function _(e){return g(e,d)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=h,_.propTypes={},_.filterProps=d;t.c=_},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var r=n(54);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(33);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var k="popstate",_="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,u=void 0!==o&&o,s=a.getUserConfirmation,f=void 0===s?b:s,y=a.keyLength,O=void 0===y?6:y,j=e.basename?d(l(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return j&&(a=h(a,j)),v(a,r,n)}function E(){return Math.random().toString(36).substr(2,O)}var I=m();function T(e){Object(r.a)(V,e),V.length=t.length,I.notifyListeners(V.location,V.action)}function S(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(x(e.state))}function C(){N(x(w()))}var A=!1;function N(e){if(A)A=!1,T();else{I.confirmTransitionTo(e,"POP",f,(function(t){t?T({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,L(i))}(e)}))}}var P=x(w()),R=[P.key];function D(e){return j+p(e)}function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(k,S),i&&window.addEventListener(_,C)):0===M&&(window.removeEventListener(k,S),i&&window.removeEventListener(_,C))}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:D,push:function(e,r){var i="PUSH",a=v(e,r,E(),V.location);I.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,T({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,E(),V.location);I.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=I.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var j="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(E(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?b:i,o=n.hashType,u=void 0===o?"slash":o,s=e.basename?d(l(e.basename)):"",f=x[u],y=f.encodePath,k=f.decodePath;function _(){var e=k(I());return s&&(e=h(e,s)),v(e)}var w=m();function O(e){Object(r.a)(V,e),V.length=t.length,w.notifyListeners(V.location,V.action)}var S=!1,C=null;function A(){var e,t,n=I(),r=y(n);if(n!==r)T(r);else{var i=_(),o=V.location;if(!S&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(S)S=!1,O();else{var t="POP";w.confirmTransitionTo(e,t,a,(function(n){n?O({action:t,location:e}):function(e){var t=V.location,n=D.lastIndexOf(p(t));-1===n&&(n=0);var r=D.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(S=!0,L(i))}(e)}))}}(i)}}var N=I(),P=y(N);N!==P&&T(P);var R=_(),D=[p(R)];function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(j,A):0===M&&window.removeEventListener(j,A)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+y(s+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(s+t);if(I()!==i){C=t,function(e){window.location.hash=e}(i);var a=D.lastIndexOf(p(V.location)),o=D.slice(0,a+1);o.push(t),D=o,O({action:n,location:r})}else O()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(s+t);I()!==i&&(C=t,T(i));var a=D.indexOf(p(V.location));-1!==a&&(D[a]=t),O({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=w.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function C(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,c=void 0===s?6:s,l=m();function f(e){Object(r.a)(k,e),k.length=k.entries.length,l.notifyListeners(k.location,k.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=C(u,0,a.length-1),y=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function b(e){var t=C(k.index+e,0,k.entries.length-1),r=k.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var k={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:g,push:function(e,t){var r="PUSH",i=v(e,t,h(),k.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=k.index+1,n=k.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),k.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(k.entries[k.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=k.index+e;return t>=0&&t<k.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return k}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i=n(5),a=n(2),o=n(3),u=n(1),s=n(20),c=n(16),l=n(21),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.k)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.p)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.k)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.p)(t,e)},createSubscribe:u.m,ErrorFactory:u.b,deepExtend:u.p}),t}(),v=new l.b("@firebase/app-compat");if(Object(u.v)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m,g=p;Object(c.registerVersion)("@firebase/app-compat","0.1.27",m)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(97);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(50),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(a.a)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}break;case"string":}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(52);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){e.exports=n(134)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(43),i=n(64);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(34);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.8.3","app-compat")},function(e,t,n){"use strict";var r=n(96);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(8),i=(n(73),n(25)),a=(n(130),n(49),n(51),n(32)),o=n(39),u=r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect,s=Object(i.f)((function(e,t){var n=e.styles,s=Object(o.a)([n],void 0,Object(r.useContext)(i.b)),c=Object(r.useRef)();return u((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+s.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}}),[t]),u((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==s.next&&Object(a.b)(t,s.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",s,n,!1)}}),[t,s.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.a)(t)}var l=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";var r=n(131),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(75),i=n(60),a=function(e){return Object(r.b)(e)&&"classes"!==e},o=r.b,u=Object(r.a)({defaultTheme:i.a,rootShouldForwardProp:a});t.a=u},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return _}));var r=n(23);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(8),u=n.n(o),s=n(30);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(33),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return a(t,e),t.prototype.render=function(){return u.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(u.a.Component);u.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},v=function(e){return e},y=u.a.forwardRef;"undefined"===typeof y&&(y=v);var m=y((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=l(e,["innerRef","navigate","onClick"]),o=a.target,s=c({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=v!==y&&t||n,u.a.createElement("a",s)}));var g=y((function(e,t){var n=e.component,i=void 0===n?m:n,a=e.replace,o=e.to,h=e.innerRef,g=l(e,["component","replace","to","innerRef"]);return u.a.createElement(r.e.Consumer,null,(function(e){e||Object(f.a)(!1);var n=e.history,r=p(d(o,e.location),e.location),l=r?n.createHref(r):"",m=c({},g,{href:l,navigate:function(){var t=d(o,e.location),r=Object(s.e)(e.location)===Object(s.e)(p(t));(a||r?n.replace:n.push)(t)}});return v!==y?m.ref=t||h:m.innerRef=h,u.a.createElement(i,m)}))})),b=function(e){return e},k=u.a.forwardRef;"undefined"===typeof k&&(k=b);var _=k((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,h=e.className,v=e.exact,y=e.isActive,m=e.location,_=e.sensitive,w=e.strict,O=e.style,j=e.to,x=e.innerRef,E=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.a.createElement(r.e.Consumer,null,(function(e){e||Object(f.a)(!1);var n=m||e.location,a=p(d(j,n),n),l=a.pathname,I=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=I?Object(r.f)(n.pathname,{path:I,exact:v,sensitive:_,strict:w}):null,S=!!(y?y(T,n):T),C="function"===typeof h?h(S):h,A="function"===typeof O?O(S):O;S&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(C,o),A=c({},A,s));var N=c({"aria-current":S&&i||null,className:C,style:A,to:a},E);return b!==k?N.ref=t||x:N.innerRef=x,u.a.createElement(g,N)}))}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(93),i=Object(r.a)();t.a=i},,function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(51),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i="-ms-",a="-moz-",o="-webkit-",u="comm",s="rule",c="decl",l="@keyframes",f=Math.abs,h=String.fromCharCode,d=Object.assign;function p(e){return e.trim()}function v(e,t,n){return e.replace(t,n)}function y(e,t){return e.indexOf(t)}function m(e,t){return 0|e.charCodeAt(t)}function g(e,t,n){return e.slice(t,n)}function b(e){return e.length}function k(e){return e.length}function _(e,t){return t.push(e),e}function w(e,t){return e.map(t).join("")}var O=1,j=1,x=0,E=0,I=0,T="";function S(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:O,column:j,length:o,return:""}}function C(e,t){return d(S("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return I=E>0?m(T,--E):0,j--,10===I&&(j=1,O--),I}function N(){return I=E<x?m(T,E++):0,j++,10===I&&(j=1,O++),I}function P(){return m(T,E)}function R(){return E}function D(e,t){return g(T,e,t)}function L(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M(e){return O=j=1,x=b(T=e),E=0,[]}function F(e){return T="",e}function U(e){return p(D(E-1,B(91===e?e+2:40===e?e+1:e)))}function V(e){for(;(I=P())&&I<33;)N();return L(e)>2||L(I)>3?"":" "}function q(e,t){for(;--t&&N()&&!(I<48||I>102||I>57&&I<65||I>70&&I<97););return D(e,R()+(t<6&&32==P()&&32==N()))}function B(e){for(;N();)switch(I){case e:return E;case 34:case 39:34!==e&&39!==e&&B(I);break;case 40:41===e&&B(e);break;case 92:N()}return E}function z(e,t){for(;N()&&e+I!==57&&(e+I!==84||47!==P()););return"/*"+D(t,E-1)+"*"+h(47===e?e:N())}function W(e){for(;!L(P());)N();return D(e,E)}function K(e){return F(H("",null,null,null,[""],e=M(e),0,[0],e))}function H(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,p=0,m=0,g=1,k=1,w=1,O=0,j="",x=i,E=a,I=r,T=j;k;)switch(m=O,O=N()){case 40:if(108!=m&&58==T.charCodeAt(f-1)){-1!=y(T+=v(U(O),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:T+=U(O);break;case 9:case 10:case 13:case 32:T+=V(m);break;case 92:T+=q(R()-1,7);continue;case 47:switch(P()){case 42:case 47:_(Q(z(N(),R()),t,n),s);break;default:T+="/"}break;case 123*g:u[c++]=b(T)*w;case 125*g:case 59:case 0:switch(O){case 0:case 125:k=0;case 59+l:p>0&&b(T)-f&&_(p>32?$(T+";",r,n,f-1):$(v(T," ","")+";",r,n,f-2),s);break;case 59:T+=";";default:if(_(I=G(T,t,n,c,l,i,u,j,x=[],E=[],f),a),123===O)if(0===l)H(T,t,I,I,x,a,f,u,E);else switch(d){case 100:case 109:case 115:H(e,I,I,r&&_(G(e,I,I,0,0,i,u,j,i,x=[],f),E),i,E,f,u,r?x:E);break;default:H(T,I,I,I,[""],E,0,u,E)}}c=l=p=0,g=w=1,j=T="",f=o;break;case 58:f=1+b(T),p=m;default:if(g<1)if(123==O)--g;else if(125==O&&0==g++&&125==A())continue;switch(T+=h(O),O*g){case 38:w=l>0?1:(T+="\f",-1);break;case 44:u[c++]=(b(T)-1)*w,w=1;break;case 64:45===P()&&(T+=U(N())),d=P(),l=f=b(j=T+=W(R())),O++;break;case 45:45===m&&2==b(T)&&(g=0)}}return a}function G(e,t,n,r,i,a,o,u,c,l,h){for(var d=i-1,y=0===i?a:[""],m=k(y),b=0,_=0,w=0;b<r;++b)for(var O=0,j=g(e,d+1,d=f(_=o[b])),x=e;O<m;++O)(x=p(_>0?y[O]+" "+j:v(j,/&\f/g,y[O])))&&(c[w++]=x);return S(e,t,n,0===i?s:u,c,l,h)}function Q(e,t,n){return S(e,t,n,u,h(I),g(e,2,-2),0)}function $(e,t,n,r){return S(e,t,n,c,g(e,0,r),g(e,r+1,-1),r)}function Y(e,t){switch(function(e,t){return(((t<<2^m(e,0))<<2^m(e,1))<<2^m(e,2))<<2^m(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+a+e+i+e+e;case 6828:case 4268:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+v(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+v(e,/flex-|-self/,"")+e;case 4675:return o+e+i+"flex-line-pack"+v(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+i+v(e,"shrink","negative")+e;case 5292:return o+e+i+v(e,"basis","preferred-size")+e;case 6060:return o+"box-"+v(e,"-grow","")+o+e+i+v(e,"grow","positive")+e;case 4554:return o+v(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return v(v(v(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return v(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return v(v(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return v(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(m(e,t+1)){case 109:if(45!==m(e,t+4))break;case 102:return v(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==m(e,t+3)?"$3":"$2-$3"))+e;case 115:return~y(e,"stretch")?Y(v(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==m(e,t+1))break;case 6444:switch(m(e,b(e)-3-(~y(e,"!important")&&10))){case 107:return v(e,":",":"+o)+e;case 101:return v(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===m(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(m(e,t+11)){case 114:return o+e+i+v(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+v(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+v(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+i+e+e}return e}function J(e,t){for(var n="",r=k(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function X(e,t,n,r){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case u:return"";case l:return e.return=e.value+"{"+J(e.children,r)+"}";case s:e.value=e.props.join(",")}return b(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}function Z(e){return function(t){t.root||(t=t.return)&&e(t)}}n(49),n(50);var ee=function(e,t,n){for(var r=0,i=0;r=i,i=P(),38===r&&12===i&&(t[n]=1),!L(i);)N();return D(e,E)},te=function(e,t){return F(function(e,t){var n=-1,r=44;do{switch(L(r)){case 0:38===r&&12===P()&&(t[n]=1),e[n]+=ee(E-1,t,n);break;case 2:e[n]+=U(r);break;case 4:if(44===r){e[++n]=58===P()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=h(r)}}while(r=N());return e}(M(e),t))},ne=new WeakMap,re=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ne.get(n))&&!r){ne.set(e,!0);for(var i=[],a=te(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ie=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ae=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=Y(e.value,e.length);break;case l:return J([C(e,{value:v(e.value,"@","@"+o)})],r);case s:if(e.length)return w(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return J([C(e,{props:[v(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return J([C(e,{props:[v(t,/:(plac\w+)/,":"+o+"input-$1")]}),C(e,{props:[v(t,/:(plac\w+)/,":-moz-$1")]}),C(e,{props:[v(t,/:(plac\w+)/,i+"input-$1")]})],r)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||ae;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c=[re,ie];var l,f=[X,Z((function(e){l.insert(e)}))],h=function(e){var t=k(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(c.concat(i,f));o=function(e,t,n,r){l=n,J(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return d.sheet.hydrate(s),d}},function(e,t,n){var r=n(136);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],b=n[6],k=n[7];u&&(r.push(u),u="");var _=null!=v&&null!=p&&p!==v,w="+"===b||"*"===b,O="?"===b||"*"===b,j=n[2]||l,x=m||g;r.push({name:y||a++,prefix:v||"",delimiter:j,optional:O,repeat:w,partial:_,asterisk:!!k,pattern:x?c(x):k?".*":"[^"+s(j)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return O}));var r=n(18),i=n(17),a=n(29),o=n(37),u=n(90),s=n(144),c=n(96),l=["variant"];function f(e){return 0===e.length}function h(e){var t=e.variant,n=Object(o.a)(e,l),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?f(r)?e[t]:Object(c.a)(e[t]):"".concat(f(r)?t:Object(c.a)(t)).concat(Object(c.a)(e[t].toString()))})),r}var d=n(155),p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],v=["theme"],y=["theme"];function m(e){return 0===Object.keys(e).length}var g=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},b=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=h(e.props);r[t]=e.style})),r},k=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[h(n.props)])})),s};function _(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var w=Object(s.a)();function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?w:t,s=e.rootShouldForwardProp,c=void 0===s?_:s,l=e.slotShouldForwardProp,f=void 0===l?_:l,h=e.styleFunctionSx,O=void 0===h?d.a:h;return function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.name,h=s.slot,d=s.skipVariantsResolver,w=s.skipSx,j=s.overridesResolver,x=Object(o.a)(s,p),E=void 0!==d?d:h&&"Root"!==h||!1,I=w||!1;var T=_;"Root"===h?T=c:h&&(T=f);var S=Object(u.a)(e,Object(a.a)({shouldForwardProp:T,label:t},x)),C=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var c=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Object(o.a)(t,v);return e(Object(a.a)({theme:m(r)?n:r},i))}:e})):[],f=e;l&&j&&c.push((function(e){var t=m(e.theme)?n:e.theme,r=g(l,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=Object(i.a)(n,2),u=r[0],s=r[1];o[u]="function"===typeof s?s(Object(a.a)({},e,{theme:t})):s})),j(e,o)}return null})),l&&!E&&c.push((function(e){var t=m(e.theme)?n:e.theme;return k(e,b(l,t),t,l)})),I||c.push((function(e){var t=m(e.theme)?n:e.theme;return O(Object(a.a)({},e,{theme:t}))}));var h=c.length-u.length;if(Array.isArray(e)&&h>0){var d=new Array(h).fill("");(f=[].concat(Object(r.a)(e),Object(r.a)(d))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(d))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=Object(o.a)(t,y);return e(Object(a.a)({theme:m(r)?n:r},i))});var p=S.apply(void 0,[f].concat(Object(r.a)(c)));return p};return S.withConfig&&(C.withConfig=S.withConfig),C}}},,function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(146),i=n(60);function a(e){var t=e.props,n=e.name;return Object(r.a)({props:t,name:n,defaultTheme:i.a})}},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(101)},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(85);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";var r=n(144),i=n(94),a=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(82);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return $}));n(5);var r=n(14),i=n(38);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Object(i.a)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(28),u=n(26);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=Object(r.a)({prop:"border",themeKey:"borders",transform:s}),l=Object(r.a)({prop:"borderTop",themeKey:"borders",transform:s}),f=Object(r.a)({prop:"borderRight",themeKey:"borders",transform:s}),h=Object(r.a)({prop:"borderBottom",themeKey:"borders",transform:s}),d=Object(r.a)({prop:"borderLeft",themeKey:"borders",transform:s}),p=Object(r.a)({prop:"borderColor",themeKey:"palette"}),v=Object(r.a)({prop:"borderTopColor",themeKey:"palette"}),y=Object(r.a)({prop:"borderRightColor",themeKey:"palette"}),m=Object(r.a)({prop:"borderBottomColor",themeKey:"palette"}),g=Object(r.a)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(o.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(u.b)(e,e.borderRadius,(function(e){return{borderRadius:Object(o.d)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"];var k=a(c,l,f,h,d,p,v,y,m,g,b),_=a(Object(r.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(r.a)({prop:"display"}),Object(r.a)({prop:"overflow"}),Object(r.a)({prop:"textOverflow"}),Object(r.a)({prop:"visibility"}),Object(r.a)({prop:"whiteSpace"})),w=a(Object(r.a)({prop:"flexBasis"}),Object(r.a)({prop:"flexDirection"}),Object(r.a)({prop:"flexWrap"}),Object(r.a)({prop:"justifyContent"}),Object(r.a)({prop:"alignItems"}),Object(r.a)({prop:"alignContent"}),Object(r.a)({prop:"order"}),Object(r.a)({prop:"flex"}),Object(r.a)({prop:"flexGrow"}),Object(r.a)({prop:"flexShrink"}),Object(r.a)({prop:"alignSelf"}),Object(r.a)({prop:"justifyItems"}),Object(r.a)({prop:"justifySelf"})),O=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(o.b)(e.theme,"spacing",8,"gap");return Object(u.b)(e,e.gap,(function(e){return{gap:Object(o.d)(t,e)}}))}return null};O.propTypes={},O.filterProps=["gap"];var j=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(o.b)(e.theme,"spacing",8,"columnGap");return Object(u.b)(e,e.columnGap,(function(e){return{columnGap:Object(o.d)(t,e)}}))}return null};j.propTypes={},j.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(o.b)(e.theme,"spacing",8,"rowGap");return Object(u.b)(e,e.rowGap,(function(e){return{rowGap:Object(o.d)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];var E=a(O,j,x,Object(r.a)({prop:"gridColumn"}),Object(r.a)({prop:"gridRow"}),Object(r.a)({prop:"gridAutoFlow"}),Object(r.a)({prop:"gridAutoColumns"}),Object(r.a)({prop:"gridAutoRows"}),Object(r.a)({prop:"gridTemplateColumns"}),Object(r.a)({prop:"gridTemplateRows"}),Object(r.a)({prop:"gridTemplateAreas"}),Object(r.a)({prop:"gridArea"})),I=a(Object(r.a)({prop:"position"}),Object(r.a)({prop:"zIndex",themeKey:"zIndex"}),Object(r.a)({prop:"top"}),Object(r.a)({prop:"right"}),Object(r.a)({prop:"bottom"}),Object(r.a)({prop:"left"})),T=a(Object(r.a)({prop:"color",themeKey:"palette"}),Object(r.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(r.a)({prop:"backgroundColor",themeKey:"palette"})),S=Object(r.a)({prop:"boxShadow",themeKey:"shadows"});function C(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var A=Object(r.a)({prop:"width",transform:C}),N=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(u.b)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.d[t]||C(t)}}))}return null};N.filterProps=["maxWidth"];var P=Object(r.a)({prop:"minWidth",transform:C}),R=Object(r.a)({prop:"height",transform:C}),D=Object(r.a)({prop:"maxHeight",transform:C}),L=Object(r.a)({prop:"minHeight",transform:C}),M=(Object(r.a)({prop:"size",cssProperty:"width",transform:C}),Object(r.a)({prop:"size",cssProperty:"height",transform:C}),a(A,N,P,R,D,L,Object(r.a)({prop:"boxSizing"}))),F=Object(r.a)({prop:"fontFamily",themeKey:"typography"}),U=Object(r.a)({prop:"fontSize",themeKey:"typography"}),V=Object(r.a)({prop:"fontStyle",themeKey:"typography"}),q=Object(r.a)({prop:"fontWeight",themeKey:"typography"}),B=Object(r.a)({prop:"letterSpacing"}),z=Object(r.a)({prop:"textTransform"}),W=Object(r.a)({prop:"lineHeight"}),K=Object(r.a)({prop:"textAlign"}),H=a(Object(r.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,U,V,q,B,W,K,z),G={borders:k.filterProps,display:_.filterProps,flexbox:w.filterProps,grid:E.filterProps,positions:I.filterProps,palette:T.filterProps,shadows:S.filterProps,sizing:M.filterProps,spacing:o.c.filterProps,typography:H.filterProps},Q={borders:k,display:_,flexbox:w,grid:E,positions:I,palette:T,shadows:S,sizing:M,spacing:o.c,typography:H},$=Object.keys(G).reduce((function(e,t){return G[t].forEach((function(n){e[n]=Q[t]})),e}),{})},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(133);var r=n(8),i=n(50),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(i.a)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=n(25),c=n(32),l=n(39),f=o,h=function(e){return"theme"!==e},d=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?f:h},p=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},v=function e(t,n){var i,a,o=t.__emotion_real===t,f=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var h=p(t,n,o),v=h||d(f),y=!v("as");return function(){var m=arguments,g=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&g.push("label:"+i+";"),null==m[0]||void 0===m[0].raw)g.push.apply(g,m);else{0,g.push(m[0][0]);for(var b=m.length,k=1;k<b;k++)g.push(m[k],m[0][k])}var _=Object(s.f)((function(e,t,n){var i=y&&e.as||f,o="",u=[],p=e;if(null==e.theme){for(var m in p={},e)p[m]=e[m];p.theme=Object(r.useContext)(s.b)}"string"===typeof e.className?o=Object(c.a)(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var b=Object(l.a)(g.concat(u),t.registered,p);Object(c.b)(t,b,"string"===typeof i);o+=t.key+"-"+b.name,void 0!==a&&(o+=" "+a);var k=y&&void 0===h?d(i):v,_={};for(var w in e)y&&"as"===w||k(w)&&(_[w]=e[w]);return _.className=o,_.ref=n,Object(r.createElement)(i,_)}));return _.displayName=void 0!==i?i:"Styled("+("string"===typeof f?f:f.displayName||f.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=f,_.__emotion_styles=g,_.__emotion_forwardProp=h,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,r){return e(t,u({},n,r,{shouldForwardProp:p(_,r,!0)})).apply(void 0,g)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=v;function m(e,t){return y(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(35);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){"use strict";(function(e){var r=n(8),i=n.n(r),a=n(67),o=n(41),u=n.n(o),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[o]=u.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(58))},function(e,t,n){"use strict";var r=n(5),i=n(22),a=n(36),o=n(97),u=n(144);function s(e,t){var n;return Object(i.a)({toolbar:(n={minHeight:56},Object(r.a)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Object(r.a)(n,e.up("sm"),{minHeight:64}),n)},t)}var c=n(66),l=n(156),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.d)(e.main,i):"dark"===t&&(e.dark=Object(l.b)(e.main,a)))}function O(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,u=void 0===r?3:r,s=e.tonalOffset,O=void 0===s?.2:s,j=Object(a.a)(e,b),x=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),I=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),T=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(n),S=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function A(e){return Object(l.c)(e,_.text.primary)>=u?_.text.primary:k.text.primary}var N=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=Object(i.a)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Object(c.a)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Object(c.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return w(t,"light",u,O),w(t,"dark",l,O),t.contrastText||(t.contrastText=A(t.main)),t},P={dark:_,light:k};return Object(o.a)(Object(i.a)({common:Object(i.a)({},f),mode:n,primary:N({color:x,name:"primary"}),secondary:N({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:I,name:"error"}),warning:N({color:C,name:"warning"}),info:N({color:T,name:"info"}),success:N({color:S,name:"success"}),grey:h,contrastThreshold:u,getContrastText:A,augmentColor:N,tonalOffset:O},P[n]),j)}var j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var x={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?E:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,_=n.pxToRem,w=Object(a.a)(n,j);var O=c/14,I=_||function(e){return"".concat(e/b*O,"rem")},T=function(e,t,n,r,a){return Object(i.a)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},S={h1:T(f,96,1.167,-1.5),h2:T(f,60,1.2,-.5),h3:T(d,48,1.167,0),h4:T(d,34,1.235,.25),h5:T(d,24,1.334,0),h6:T(v,20,1.6,.15),subtitle1:T(d,16,1.75,.15),subtitle2:T(v,14,1.57,.1),body1:T(d,16,1.5,.15),body2:T(d,14,1.43,.15),button:T(v,14,1.75,.4,x),caption:T(d,12,1.66,.4),overline:T(d,12,2.66,1,x)};return Object(o.a)(Object(i.a)({htmlFontSize:b,pxToRem:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},S),w,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var S=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],C=["duration","easing","delay"],A={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(e){return"".concat(Math.round(e),"ms")}function R(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function D(e){var t=Object(i.a)({},A,e.easing),n=Object(i.a)({},N,e.duration);return Object(i.a)({getAutoHeightDuration:R,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;Object(a.a)(r,C);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:P(o)," ").concat(s," ").concat("string"===typeof l?l:P(l))})).join(",")}},e,{easing:t,duration:n})}var L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},M=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,c=void 0===r?{}:r,l=e.transitions,f=void 0===l?{}:l,h=e.typography,d=void 0===h?{}:h,p=Object(a.a)(e,M),v=O(c),y=Object(u.a)(e),m=Object(o.a)(y,{mixins:s(y.breakpoints,n),palette:v,shadows:S.slice(),typography:I(v,d),transitions:D(f),zIndex:Object(i.a)({},L)});m=Object(o.a)(m,p);for(var g=arguments.length,b=new Array(g>1?g-1:0),k=1;k<g;k++)b[k-1]=arguments[k];return m=b.reduce((function(e,t){return Object(o.a)(e,t)}),m)}t.a=F},function(e,t,n){"use strict";var r=n(8);var i=r.createContext(null);function a(){return r.useContext(i)}function o(e){return 0===Object.keys(e).length}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a();return!t||o(t)?e:t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),i=n(43);var a=n(44);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(59);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},,,function(e,t,n){"use strict";var r=n(70),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var k={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=I(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=I(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function A(){var e=C.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(8),i=n(70),a=n(102);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,O=60106,j=60107,x=60108,E=60114,I=60109,T=60110,S=60112,C=60113,A=60120,N=60115,P=60116,R=60121,D=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),O=U("react.portal"),j=U("react.fragment"),x=U("react.strict_mode"),E=U("react.profiler"),I=U("react.provider"),T=U("react.context"),S=U("react.forward_ref"),C=U("react.suspense"),A=U("react.suspense_list"),N=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),D=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case O:return"Portal";case E:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return G(e.type);case R:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Te=null,Se=null;function Ce(e){if(e=ei(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Te?Se?Se.push(e):Se=[e]:Te=e}function Ne(){if(Te){var e=Te,t=Se;if(Se=Te=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Pe,Me=!1,Fe=!1;function Ue(){null===Te&&null===Se||(De(),Ne())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,Qe={onError:function(e){We=!0,Ke=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&_t(ut,e),null!==st&&_t(st,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},xt={},Et={};function It(e){if(xt[e])return xt[e];if(!jt[e])return e;var t,n=jt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return xt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var Tt=It("animationend"),St=It("animationiteration"),Ct=It("animationstart"),At=It("transitionend"),Nt=new Map,Pt=new Map,Rt=["abort","abort",Tt,"animationEnd",St,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Nt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||De();var i=Xt,a=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Nr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=Zr(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),kn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(i({},hn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Tn=sn(i({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=sn(i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Rn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Dn,Mn=f&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Rr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Er(e,0)}function $n(e){if(J(ti(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Xn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];if(Kn(t,Gn,e,Ee(e)),e=Qn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==X(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&cr(gr,r)||(gr=r,0<(r=Rr(mr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<_r.length;wr++)Pt.set(_r[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ir(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[Tr]||(e[Tr]=!0,u.forEach((function(t){jr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Ar(a,e,i,t),o.add(u))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=Zr(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Nt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Tt:case St:case Ct:s=kn;break;case At:s=An;break;case"scroll":s=vn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Pr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Jr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ti(s),d=null==c?u:ti(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,Zr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Dr(d))p++;for(d=0,v=h;v;v=Dr(v))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)h=Dr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Dr(l),h=Dr(h)}l=null}else l=null;null!==s&&Lr(o,u,s,l,!1),null!==c&&null!==f&&Lr(o,f,c,l,!0)}if("select"===(s=(u=r?ti(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Wn(u))if(Jn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ti(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Bn=!0)),0<(m=Rr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=qn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Er(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Pr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Pr(e,a,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Pr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Pr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Mr(){}var Fr=null,Ur=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,zr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Yr="__reactProps$"+Qr,Jr="__reactContainer$"+Qr,Xr="__reactEvents$"+Qr;function Zr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[$r])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[$r]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Yr]||null}function ri(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function ui(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function si(e,t){ai++,ii[ai]=e.current,e.current=t}var ci={},li=oi(ci),fi=oi(!1),hi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(fi),ui(li)}function yi(e,t,n){if(li.current!==ci)throw Error(o(168));si(li,t),si(fi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=li.current,si(li,e),si(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=mi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(li),si(li,e)):ui(fi),si(fi,n)}var ki=null,_i=null,wi=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,ji=a.unstable_cancelCallback,xi=a.unstable_shouldYield,Ei=a.unstable_requestPaint,Ii=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Si=a.unstable_ImmediatePriority,Ci=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Ni=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Ri={},Di=void 0!==Ei?Ei:function(){},Li=null,Mi=null,Fi=!1,Ui=Ii(),Vi=1e4>Ui?Ii:function(){return Ii()-Ui};function qi(){switch(Ti()){case Si:return 99;case Ci:return 98;case Ai:return 97;case Ni:return 96;case Pi:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Si;case 98:return Ci;case 97:return Ai;case 96:return Ni;case 95:return Pi;default:throw Error(o(332))}}function zi(e,t){return e=Bi(e),wi(e,t)}function Wi(e,t,n){return e=Bi(e),Oi(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,ji(e)}Hi()}function Hi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Oi(Si,Ki),n}finally{Fi=!1}}}var Gi=_.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=oi(null),Yi=null,Ji=null,Xi=null;function Zi(){Xi=Ji=Yi=null}function ea(e){var t=$i.current;ui($i),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Yi=e,Xi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ro=!0),e.firstContext=null)}function ra(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Yi)throw Error(o(308));Ji=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Fu|=u,e.lanes=u,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ha=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cs(),r=ls(e),i=ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),sa(e,i),fs(e,r,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,a))}function ya(e,t,n){var r=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?hi:li.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?hi:li.current,i.context=di(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Ws(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ks(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ws(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case O:return(t=Qs(t,e.mode,n)).return=e,t}if(ba(t)||B(t))return(t=Ks(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===j?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null}if(ba(n)||B(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===j?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===j&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===j){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ka(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===j?((r=Ks(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ws(a.type,a.key,a.props,null,e.mode,s)).ref=ka(e,r,a),s.return=e,e=s)}return u(e);case O:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gs(a,e.mode,s)).return=e,e=r),u(e);if(ba(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Oa=wa(!0),ja=wa(!1),xa={},Ea=oi(xa),Ia=oi(xa),Ta=oi(xa);function Sa(e){if(e===xa)throw Error(o(174));return e}function Ca(e,t){switch(si(Ta,t),si(Ia,e),si(Ea,xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ea),si(Ea,t)}function Aa(){ui(Ea),ui(Ia),ui(Ta)}function Na(e){Sa(Ta.current);var t=Sa(Ea.current),n=pe(t,e.type);t!==n&&(si(Ia,e),si(Ea,n))}function Pa(e){Ia.current===e&&(ui(Ea),ui(Ia))}var Ra=oi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ma=null,Fa=!1;function Ua(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qa(e){if(Fa){var t=Ma;if(t){var n=t;if(!Va(e,t)){if(!(t=Kr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(La=e);Ua(La,n)}La=e,Ma=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,La=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function za(e){if(e!==La)return!1;if(!Fa)return Ba(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ma;t;)Ua(e,t),t=Kr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ma=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ma=null}}else Ma=La?Kr(e.stateNode.nextSibling):null;return!0}function Wa(){Ma=La=null,Fa=!1}var Ka=[];function Ha(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ga=_.ReactCurrentDispatcher,Qa=_.ReactCurrentBatchConfig,$a=0,Ya=null,Ja=null,Xa=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if($a=a,Ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=null===e||null===e.memoizedState?Co:Ao,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Xa=Ja=null,t.updateQueue=null,Ga.current=No,e=n(r,i)}while(eo)}if(Ga.current=So,t=null!==Ja&&null!==Ja.next,$a=0,Xa=Ja=Ya=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ya.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function ao(){if(null===Ja){var e=Ya.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Xa?Ya.memoizedState:Xa.next;if(null!==t)Xa=t,Ja=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Xa?Ya.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function oo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ja,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ya.lanes|=l,Fu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,ur(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function lo(e,t,n,r){var i=Cu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ga.current,c=s.useState((function(){return co(i,t,n)})),l=c[1],f=c[0];c=Xa;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Ya;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!ur(u,e)){e=n(t._source),ur(f,e)||(l(e),e=ls(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ls(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),ur(p,n)&&ur(v,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=l=To.bind(null,Ya,e),c.queue=e,c.baseQueue=null,f=co(i,t,n),c.memoizedState=c.baseState=f),f}function fo(e,t,n){return lo(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=To.bind(null,Ya,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ya.updateQueue)?(t={lastEffect:null},Ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},io().memoizedState=e}function yo(){return ao().memoizedState}function mo(e,t,n,r){var i=io();Ya.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function go(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var o=Ja.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}Ya.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return mo(516,4,e,t)}function ko(e,t){return go(516,4,e,t)}function _o(e,t){return go(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)}function jo(){}function xo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Io(e,t){var n=qi();zi(98>n?98:n,(function(){e(!0)})),zi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function To(e,t,n){var r=cs(),i=ls(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ya||null!==o&&o===Ya)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,ur(s,u))return}catch(c){}fs(e,i,r)}}var So={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Co={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Ya,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:jo,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return bo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Io.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Ya.mode)&&(Ya.flags|=516,po(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Ao={readContext:ra,useCallback:xo,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:uo,useRef:yo,useState:function(){return uo(oo)},useDebugValue:jo,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},No={readContext:ra,useCallback:xo,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:so,useRef:yo,useState:function(){return so(oo)},useDebugValue:jo,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Po=_.ReactCurrentOwner,Ro=!1;function Do(e,t,n,r){t.child=null===e?ja(t,null,n,r):Oa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||Ro?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function Mo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ws(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?nu(e,t,a):(t.flags|=1,(e=zs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ro=!1,0===(a&i))return t.lanes=e.lanes,nu(e,t,a);0!==(16384&e.flags)&&(Ro=!0)}return qo(e,t,n,r,a)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bs(t,e),null;t.memoizedState={baseLanes:0},bs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bs(t,r);return Do(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=pi(n)?hi:li.current;return a=di(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||Ro?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function Bo(e,t,n,r,i){if(pi(n)){var a=!0;gi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ra(c):c=di(t,c=pi(n)?hi:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ma(t,o,r,c),ia=!1;var h=t.memoizedState;o.state=h,la(t,r,o,i),s=t.memoizedState,u!==r||h!==s||fi.current||ia?("function"===typeof l&&(da(t,n,l,r),s=t.memoizedState),(u=ia||va(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Qi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ra(s):s=di(t,s=pi(n)?hi:li.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ma(t,o,r,s),ia=!1,h=t.memoizedState,o.state=h,la(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||fi.current||ia?("function"===typeof d&&(da(t,n,d,r),p=t.memoizedState),(c=ia||va(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),nu(e,t,a);r=t.stateNode,Po.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Oa(t,e.child,null,a),t.child=Oa(t,null,u,a)):Do(e,t,u,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ca(e,t.containerInfo)}var Ko,Ho,Go,Qo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ra.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),si(Ra,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,t.lanes=33554432,e):((n=Hs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Xo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i):(n=Jo(e,t,i.children,n),t.memoizedState=null,n))}function Yo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Hs(t,i,0,null),n=Ks(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Jo(e,t,n,r){var i=e.child;return e=i.sibling,n=zs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Xo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zs(o,u),null!==e?r=zs(e,r):(r=Ks(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function eu(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function tu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Ra.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Ra,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eu(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eu(t,!0,n,null,a,t.lastEffect);break;case"together":eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ru(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function iu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Aa(),ui(fi),ui(li),Ha(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(za(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Pa(t);var a=Sa(Ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Sa(Ea.current),za(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Yr]=u,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Ir(Or[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,u),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ir("invalid",r);break;case"textarea":se(r,u),Ir("invalid",r)}for(var c in je(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Yr]=r,Ko(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),a=r;break;case"iframe":case"object":case"embed":Ir("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Ir(Or[a],e);a=r;break;case"source":Ir("error",e),a=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),a=r;break;case"details":Ir("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ir("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ir("invalid",e);break;default:a=r}je(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ir("scroll",e):null!=f&&k(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Mr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Sa(Ta.current),Sa(Ea.current),za(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ui(Ra),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&za(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ra.current)?0===Du&&(Du=3):(0!==Du&&3!==Du||(Du=4),null===Cu||0===(134217727&Fu)&&0===(134217727&Uu)||vs(Cu,Nu))),(r||n)&&(t.flags|=4),null);case 4:return Aa(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(ui(Ra),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ru(r,!1);else{if(0!==Du||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Da(e))){for(t.flags|=64,ru(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Ra,1&Ra.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>zu&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Da(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ru(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>zu&&1073741824!==n&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Ra.current,si(Ra,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function au(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Aa(),ui(fi),ui(li),Ha(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pa(e),null;case 13:return ui(Ra),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Ra),null;case 4:return Aa(),null;case 10:return ea(e),null;case 23:case 24:return ks(),null;default:return null}}function ou(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sa(Ea.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Mr)}for(f in je(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var su="function"===typeof WeakMap?WeakMap:Map;function cu(e,t,n){(n=ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Qu=r),uu(0,t)},n}function lu(e,t,n){(n=ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),uu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fu="function"===typeof WeakSet?WeakSet:Set;function hu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ms(e,n)}else t.current=null}function du(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function pu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Rs(n,e),Ps(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(ki,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Rs(t,n);else{r=t;try{i()}catch(a){Ms(r,a)}}n=n.next}while(n!==e)}break;case 1:if(hu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ms(t,a)}break;case 5:hu(t);break;case 4:wu(e,t)}}function mu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gu(e){return 5===e.tag||3===e.tag||4===e.tag}function bu(e){e:{for(var t=e.return;null!==t;){if(gu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):_u(e,n,t)}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function wu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(yu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(yu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):k(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Bu=Vi(),vu(t.child,!0)),void ju(t);case 19:return void ju(t);case 17:return;case 23:case 24:return void vu(t,null!==t.memoizedState)}throw Error(o(163))}function ju(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fu),t.forEach((function(t){var r=Us.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Eu=Math.ceil,Iu=_.ReactCurrentDispatcher,Tu=_.ReactCurrentOwner,Su=0,Cu=null,Au=null,Nu=0,Pu=0,Ru=oi(0),Du=0,Lu=null,Mu=0,Fu=0,Uu=0,Vu=0,qu=null,Bu=0,zu=1/0;function Wu(){zu=Vi()+500}var Ku,Hu=null,Gu=!1,Qu=null,$u=null,Yu=!1,Ju=null,Xu=90,Zu=[],es=[],ts=null,ns=0,rs=null,is=-1,as=0,os=0,us=null,ss=!1;function cs(){return 0!==(48&Su)?Vi():-1!==is?is:is=Vi()}function ls(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===as&&(as=Mu),0!==Gi.transition){0!==os&&(os=null!==qu?qu.pendingLanes:0),e=as;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Su)&&98===e?e=Vt(12,as):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),as),e}function fs(e,t,n){if(50<ns)throw ns=0,rs=null,Error(o(185));if(null===(e=hs(e,t)))return null;zt(e,t,n),e===Cu&&(Uu|=t,4===Du&&vs(e,Nu));var r=qi();1===t?0!==(8&Su)&&0===(48&Su)?ys(e):(ds(e,n),0===Su&&(Wu(),Ki())):(0===(4&Su)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),ds(e,n)),qu=e}function hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ds(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Cu?Nu:0),t=Lt,0===r)null!==n&&(n!==Ri&&ji(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&ji(n)}15===t?(n=ys.bind(null,e),null===Li?(Li=[n],Mi=Oi(Si,Hi)):Li.push(n),n=Ri):14===t?n=Wi(99,ys.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(is=-1,os=as=0,0!==(48&Su))throw Error(o(327));var t=e.callbackNode;if(Ns()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cu?Nu:0);if(0===n)return null;var r=n,i=Su;Su|=16;var a=Os();for(Cu===e&&Nu===r||(Wu(),_s(e,r));;)try{Es();break}catch(s){ws(e,s)}if(Zi(),Iu.current=a,Su=i,null!==Au?r=0:(Cu=null,Nu=0,r=Du),0!==(Mu&Uu))_s(e,0);else if(0!==r){if(2===r&&(Su|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=js(e,n))),1===r)throw t=Lu,_s(e,0),vs(e,n),ds(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ss(e);break;case 3:if(vs(e,n),(62914560&n)===n&&10<(r=Bu+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Ss.bind(null,e),r);break}Ss(e);break;case 4:if(vs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eu(n/1960))-n)){e.timeoutHandle=Br(Ss.bind(null,e),n);break}Ss(e);break;case 5:Ss(e);break;default:throw Error(o(329))}}return ds(e,Vi()),e.callbackNode===t?ps.bind(null,e):null}function vs(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&Su))throw Error(o(327));if(Ns(),e===Cu&&0!==(e.expiredLanes&Nu)){var t=Nu,n=js(e,t);0!==(Mu&Uu)&&(n=js(e,t=Ft(e,t)))}else n=js(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Su|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=js(e,t))),1===n)throw n=Lu,_s(e,0),vs(e,t),ds(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e),ds(e,Vi()),null}function ms(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(Wu(),Ki())}}function gs(e,t){var n=Su;Su&=-2,Su|=8;try{return e(t)}finally{0===(Su=n)&&(Wu(),Ki())}}function bs(e,t){si(Ru,Pu),Pu|=t,Mu|=t}function ks(){Pu=Ru.current,ui(Ru)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,zr(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Aa(),ui(fi),ui(li),Ha();break;case 5:Pa(r);break;case 4:Aa();break;case 13:case 19:ui(Ra);break;case 10:ea(r);break;case 23:case 24:ks()}n=n.return}Cu=e,Au=zs(e.current,null),Nu=Pu=Mu=t,Du=0,Lu=null,Vu=Uu=Fu=0}function ws(e,t){for(;;){var n=Au;try{if(Zi(),Ga.current=So,Za){for(var r=Ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if($a=0,Xa=Ja=Ya=null,eo=!1,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Nu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ra.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ua(-1,1);g.tag=2,sa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new su,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var k=Fs.bind(null,a,c,u);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Du&&(Du=2),s=ou(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ca(h,cu(0,a,t));break e;case 1:a=s;var _=h.type,w=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$u||!$u.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ca(h,lu(h,a,t));break e}}h=h.return}while(null!==h)}Ts(n)}catch(O){t=O,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function Os(){var e=Iu.current;return Iu.current=So,null===e?So:e}function js(e,t){var n=Su;Su|=16;var r=Os();for(Cu===e&&Nu===t||_s(e,t);;)try{xs();break}catch(i){ws(e,i)}if(Zi(),Su=n,Iu.current=r,null!==Au)throw Error(o(261));return Cu=null,Nu=0,Du}function xs(){for(;null!==Au;)Is(Au)}function Es(){for(;null!==Au&&!xi();)Is(Au)}function Is(e){var t=Ku(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?Ts(e):Au=t,Tu.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=iu(n,t,Pu)))return void(Au=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Pu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=au(t)))return n.flags&=2047,void(Au=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function Ss(e){var t=qi();return zi(99,Cs.bind(null,e,t)),null}function Cs(e,t){do{Ns()}while(null!==Ju);if(0!==(48&Su))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==ts&&0===(24&r)&&ts.has(e)&&ts.delete(e),e===Cu&&(Au=Cu=null,Nu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Su,Su|=32,Tu.current=null,Fr=$t,pr(u=dr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Ur={focusedElem:u,selectionRange:s},$t=!1,us=null,ss=!1,Hu=r;do{try{As()}catch(E){if(null===Hu)throw Error(o(330));Ms(Hu,E),Hu=Hu.nextEffect}}while(null!==Hu);us=null,Hu=r;do{try{for(u=e;null!==Hu;){var b=Hu.flags;if(16&b&&ge(Hu.stateNode,""),128&b){var k=Hu.alternate;if(null!==k){var _=k.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bu(Hu),Hu.flags&=-3;break;case 6:bu(Hu),Hu.flags&=-3,Ou(Hu.alternate,Hu);break;case 1024:Hu.flags&=-1025;break;case 1028:Hu.flags&=-1025,Ou(Hu.alternate,Hu);break;case 4:Ou(Hu.alternate,Hu);break;case 8:wu(u,s=Hu);var w=s.alternate;mu(s),null!==w&&mu(w)}Hu=Hu.nextEffect}}catch(E){if(null===Hu)throw Error(o(330));Ms(Hu,E),Hu=Hu.nextEffect}}while(null!==Hu);if(_=Ur,k=dr(),b=_.focusedElem,u=_.selectionRange,k!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==u&&pr(b)&&(k=u.start,void 0===(_=u.end)&&(_=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(_,b.value.length)):(_=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(_=_.getSelection(),s=b.textContent.length,w=Math.min(u.start,s),u=void 0===u.end?w:Math.min(u.end,s),!_.extend&&w>u&&(s=u,u=w,w=s),s=fr(b,w),a=fr(b,u),s&&a&&(1!==_.rangeCount||_.anchorNode!==s.node||_.anchorOffset!==s.offset||_.focusNode!==a.node||_.focusOffset!==a.offset)&&((k=k.createRange()).setStart(s.node,s.offset),_.removeAllRanges(),w>u?(_.addRange(k),_.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),_.addRange(k))))),k=[];for(_=b;_=_.parentNode;)1===_.nodeType&&k.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(_=k[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Fr,Ur=Fr=null,e.current=n,Hu=r;do{try{for(b=e;null!==Hu;){var O=Hu.flags;if(36&O&&pu(b,Hu.alternate,Hu),128&O){k=void 0;var j=Hu.ref;if(null!==j){var x=Hu.stateNode;switch(Hu.tag){case 5:k=x;break;default:k=x}"function"===typeof j?j(k):j.current=k}}Hu=Hu.nextEffect}}catch(E){if(null===Hu)throw Error(o(330));Ms(Hu,E),Hu=Hu.nextEffect}}while(null!==Hu);Hu=null,Di(),Su=i}else e.current=n;if(Yu)Yu=!1,Ju=e,Xu=t;else for(Hu=r;null!==Hu;)t=Hu.nextEffect,Hu.nextEffect=null,8&Hu.flags&&((O=Hu).sibling=null,O.stateNode=null),Hu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(E){}if(ds(e,Vi()),Gu)throw Gu=!1,e=Qu,Qu=null,e;return 0!==(8&Su)||Ki(),null}function As(){for(;null!==Hu;){var e=Hu.alternate;ss||null===us||(0!==(8&Hu.flags)?et(Hu,us)&&(ss=!0):13===Hu.tag&&xu(e,Hu)&&et(Hu,us)&&(ss=!0));var t=Hu.flags;0!==(256&t)&&du(e,Hu),0===(512&t)||Yu||(Yu=!0,Wi(97,(function(){return Ns(),null}))),Hu=Hu.nextEffect}}function Ns(){if(90!==Xu){var e=97<Xu?97:Xu;return Xu=90,zi(e,Ds)}return!1}function Ps(e,t){Zu.push(t,e),Yu||(Yu=!0,Wi(97,(function(){return Ns(),null})))}function Rs(e,t){es.push(t,e),Yu||(Yu=!0,Wi(97,(function(){return Ns(),null})))}function Ds(){if(null===Ju)return!1;var e=Ju;if(Ju=null,0!==(48&Su))throw Error(o(331));var t=Su;Su|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(n=Zu,Zu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Su=t,Ki(),!0}function Ls(e,t,n){sa(e,t=cu(0,t=ou(n,t),1)),t=cs(),null!==(e=hs(e,1))&&(zt(e,1,t),ds(e,t))}function Ms(e,t){if(3===e.tag)Ls(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ls(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=lu(n,e=ou(t,e),1);if(sa(n,i),i=cs(),null!==(n=hs(n,1)))zt(n,1,i),ds(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Nu&n)===n&&(4===Du||3===Du&&(62914560&Nu)===Nu&&500>Vi()-Bu?_s(e,0):Vu|=n),ds(e,t)}function Us(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===as&&(as=Mu),0===(t=qt(62914560&~as))&&(t=4194304))),n=cs(),null!==(e=hs(e,t))&&(zt(e,t,n),ds(e,n))}function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new Vs(e,t,n,r)}function Bs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zs(e,t){var n=e.alternate;return null===n?((n=qs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Bs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case j:return Ks(n.children,i,a,t);case L:u=8,i|=16;break;case x:u=8,i|=1;break;case E:return(e=qs(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case C:return(e=qs(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case A:return(e=qs(19,n,t,i)).elementType=A,e.lanes=a,e;case M:return Hs(n,i,a,t);case F:return(e=qs(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case S:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ks(e,t,n,r){return(e=qs(7,e,r,t)).lanes=n,e}function Hs(e,t,n,r){return(e=qs(23,e,r,t)).elementType=M,e.lanes=n,e}function Gs(e,t,n){return(e=qs(6,e,null,t)).lanes=n,e}function Qs(e,t,n){return(t=qs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Ys(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t,n,r){var i=t.current,a=cs(),u=ls(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=mi(n,c,s);break e}}n=s}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),sa(i,t),fs(i,u,a),u}function Xs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zs(e,t),(e=e.alternate)&&Zs(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=qs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Jr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Xs(o);u.call(e)}}Js(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Xs(o);s.call(e)}}gs((function(){Js(t,o,e,i)}))}return Xs(o)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return Ys(e,t,null,n)}Ku=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ro=!0;else{if(0===(n&r)){switch(Ro=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Na(t);break;case 1:pi(t.type)&&gi(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(si(Ra,1&Ra.current),null!==(t=nu(e,t,n))?t.sibling:null);si(Ra,1&Ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Ra,Ra.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return nu(e,t,n)}Ro=0!==(16384&e.flags)}else Ro=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;gi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&da(t,r,u,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=nu(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ma=Kr(t.stateNode.containerInfo.firstChild),La=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Do(e,t,r,n),Wa();t=t.child}return t;case 5:return Na(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),Vo(e,t),Do(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return $o(e,t,n);case 4:return Ca(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oa(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(si($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=ur(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!fi.current){t=nu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ua(-1,n&-n)).tag=2,sa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ta(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Mo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,gi(t)):e=!1,na(t,n),ya(t,r,i),ga(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(fs(e,4,cs()),ec(e,4))},nt=function(e){13===e.tag&&(fs(e,67108864,cs()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cs(),n=ls(e);fs(e,n,t),ec(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ms,Re=function(e,t,n,r,i){var a=Su;Su|=4;try{return zi(98,e.bind(null,t,n,r,i))}finally{0===(Su=a)&&(Wu(),Ki())}},De=function(){0===(49&Su)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ds(e,Vi())}))}Ki()}(),Ns())},Le=function(e,t){var n=Su;Su|=2;try{return e(t)}finally{0===(Su=n)&&(Wu(),Ki())}};var ac={Events:[ei,ti,ni,Ae,Ne,Ns,{current:!1}]},oc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ki=sc.inject(uc),_i=sc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Su;if(0!==(48&n))return e(t);Su|=1;try{if(e)return zi(99,e.bind(null,t))}finally{Su=n,Ki()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(103)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,m=null,g=-1,b=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+b;try{m(!0,e)?w.postMessage(null):(y=!1,m=null)}catch(n){throw w.postMessage(null),n}}else y=!1},r=function(e){m=e,y||(y=!0,w.postMessage(null))},i=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],S=1,C=null,A=3,N=!1,P=!1,R=!1;function D(e){for(var t=j(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,O(I,t)}t=j(T)}}function L(e){if(R=!1,D(e),!P)if(null!==j(I))P=!0,r(M);else{var t=j(T);null!==t&&i(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,a()),N=!0;var r=A;try{for(D(n),C=j(I);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,A=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===j(I)&&x(I),D(n)}else x(I);C=j(I)}if(null!==C)var s=!0;else{var c=j(T);null!==c&&i(L,c.startTime-n),s=!1}return s}finally{C=null,A=r,N=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||N||(P=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return j(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,O(T,e),null===j(I)&&e===j(T)&&(R?a():R=!0,i(L,o-u))):(e.sortIndex=s,O(I,e),P||N||(P=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},function(e,t,n){},function(e,t,n){var r=n(106),i=n(71),a=n(108),o=n(84),u=n(109),s=n(113),c=n(115),l=n(120),f=n(121),h=n(122);e.exports=function(){"use strict";var e,t=1e6,n=1e3,d="transitionend",p=function(e){return null===e||void 0===e?"".concat(e):{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()},v=function(e){do{e+=Math.floor(Math.random()*t)}while(document.getElementById(e));return e},y=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},m=function(e){var t=y(e);return t&&document.querySelector(t)?t:null},g=function(e){var t=y(e);return t?document.querySelector(t):null},b=function(e){if(!e)return 0;var t=window.getComputedStyle(e),r=t.transitionDuration,i=t.transitionDelay,a=Number.parseFloat(r),o=Number.parseFloat(i);return a||o?(r=r.split(",")[0],i=i.split(",")[0],(Number.parseFloat(r)+Number.parseFloat(i))*n):0},k=function(e){e.dispatchEvent(new Event(d))},_=function(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType)},w=function(e){return _(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null},O=function(e,t,n){Object.keys(n).forEach((function(r){var i=n[r],a=t[r],o=a&&_(a)?"element":p(a);if(!new RegExp(i).test(o))throw new TypeError("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(o,'" but expected type "').concat(i,'".'))}))},j=function(e){return!(!_(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility")},x=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},E=function e(t){if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},I=function(){},T=function(e){e.offsetHeight},S=function(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},C=[],A=function(e){"loading"===document.readyState?(C.length||document.addEventListener("DOMContentLoaded",(function(){C.forEach((function(e){return e()}))})),C.push(e)):e()},N=function(){return"rtl"===document.documentElement.dir},P=function(e){A((function(){var t=S();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}}))},R=function(e){"function"===typeof e&&e()},D=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])R(e);else{var n=5,r=b(t)+n,i=!1,a=function n(r){r.target===t&&(i=!0,t.removeEventListener(d,n),R(e))};t.addEventListener(d,a),setTimeout((function(){i||k(t)}),r)}},L=function(e,t,n,r){var i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];var a=e.length;return i+=n?1:-1,r&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))]},M=/[^.]*(?=\..*)\.|.*/,F=/\..*/,U=/::\d+$/,V={},q=1,B={mouseenter:"mouseover",mouseleave:"mouseout"},z=/^(mouseenter|mouseleave)/i,W=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function K(e,t){return t&&"".concat(t,"::").concat(q++)||e.uidEvent||q++}function H(e){var t=K(e);return e.uidEvent=t,V[t]=V[t]||{},V[t]}function G(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&te.off(e,r.type,t),t.apply(e,[r])}}function Q(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode)for(var u=a.length;u--;)if(a[u]===o)return i.delegateTarget=o,r.oneOff&&te.off(e,i.type,t,n),n.apply(o,[i]);return null}}function $(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),i=0,a=r.length;i<a;i++){var o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function Y(e,t,n){var r="string"===typeof t,i=r?n:t,a=ee(e);return W.has(a)||(a=e),[r,i,a]}function J(e,t,n,r,i){if("string"===typeof t&&e){if(n||(n=r,r=null),z.test(t)){var a=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=a(r):n=a(n)}var o=Y(t,n,r),u=h(o,3),s=u[0],c=u[1],l=u[2],f=H(e),d=f[l]||(f[l]={}),p=$(d,c,s?n:null);if(p)p.oneOff=p.oneOff&&i;else{var v=K(c,t.replace(M,"")),y=s?Q(e,n,r):G(e,n);y.delegationSelector=s?n:null,y.originalHandler=c,y.oneOff=i,y.uidEvent=v,d[v]=y,e.addEventListener(l,y,s)}}}function X(e,t,n,r,i){var a=$(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function Z(e,t,n,r){var i=t[n]||{};Object.keys(i).forEach((function(a){if(a.includes(r)){var o=i[a];X(e,t,n,o.originalHandler,o.delegationSelector)}}))}function ee(e){return e=e.replace(F,""),B[e]||e}var te={on:function(e,t,n,r){J(e,t,n,r,!1)},one:function(e,t,n,r){J(e,t,n,r,!0)},off:function(e,t,n,r){if("string"===typeof t&&e){var i=Y(t,n,r),a=h(i,3),o=a[0],u=a[1],s=a[2],c=s!==t,l=H(e),f=t.startsWith(".");if("undefined"===typeof u){f&&Object.keys(l).forEach((function(n){Z(e,l,n,t.slice(1))}));var d=l[s]||{};Object.keys(d).forEach((function(n){var r=n.replace(U,"");if(!c||t.includes(r)){var i=d[n];X(e,l,s,i.originalHandler,i.delegationSelector)}}))}else{if(!l||!l[s])return;X(e,l,s,u,o?n:null)}}},trigger:function(e,t,n){if("string"!==typeof t||!e)return null;var r,i=S(),a=ee(t),o=t!==a,u=W.has(a),s=!0,c=!0,l=!1,f=null;return o&&i&&(r=i.Event(t,n),i(e).trigger(r),s=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),u?(f=document.createEvent("HTMLEvents")).initEvent(a,s,!0):f=new CustomEvent(t,{bubbles:s,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach((function(e){Object.defineProperty(f,e,{get:function(){return n[e]}})})),l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&"undefined"!==typeof r&&r.preventDefault(),f}},ne=new Map,re={set:function(e,t,n){ne.has(e)||ne.set(e,new Map);var r=ne.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return ne.has(e)&&ne.get(e).get(t)||null},remove:function(e,t){if(ne.has(e)){var n=ne.get(e);n.delete(t),0===n.size&&ne.delete(e)}}},ie="5.1.2",ae=function(){function e(t){l(this,e),(t=w(t))&&(this._element=t,re.set(this._element,this.constructor.DATA_KEY,this))}return f(e,[{key:"dispose",value:function(){var e=this;re.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(t){e[t]=null}))}},{key:"_queueCallback",value:function(e,t){D(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}}],[{key:"getInstance",value:function(e){return re.get(w(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}},{key:"VERSION",get:function(){return ie}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;te.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!x(this)){var i=g(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},ue="alert",se=".".concat("bs.alert"),ce="close".concat(se),le="closed".concat(se),fe="fade",he="show",de=function(e){s(n,e);var t=c(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){var e=this;if(!te.trigger(this._element,ce).defaultPrevented){this._element.classList.remove(he);var t=this._element.classList.contains(fe);this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),te.trigger(this._element,le),this.dispose()}}],[{key:"NAME",get:function(){return ue}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ae);oe(de,"close"),P(de);var pe="button",ve=".".concat("bs.button"),ye=".data-api",me="active",ge='[data-bs-toggle="button"]',be="click".concat(ve).concat(ye),ke=function(e){s(n,e);var t=c(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(me))}}],[{key:"NAME",get:function(){return pe}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(ae);function _e(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function we(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}te.on(document,be,ge,(function(e){e.preventDefault();var t=e.target.closest(ge);ke.getOrCreateInstance(t).toggle()})),P(ke);var Oe={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(we(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(we(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=_e(e.dataset[n])})),t},getDataAttribute:function(e,t){return _e(e.getAttribute("data-bs-".concat(we(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},je=3,xe={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,u(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,u(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==je;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(", ");return this.find(t,e).filter((function(e){return!x(e)&&j(e)}))}},Ee="carousel",Ie=".".concat("bs.carousel"),Te=".data-api",Se="ArrowRight",Ce=500,Ae=40,Ne={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Pe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Re="next",De="prev",Le="left",Me="right",Fe=(o(e={},"ArrowLeft",Me),o(e,Se,Le),e),Ue="slide".concat(Ie),Ve="slid".concat(Ie),qe="keydown".concat(Ie),Be="mouseenter".concat(Ie),ze="mouseleave".concat(Ie),We="touchstart".concat(Ie),Ke="touchmove".concat(Ie),He="touchend".concat(Ie),Ge="pointerdown".concat(Ie),Qe="pointerup".concat(Ie),$e="dragstart".concat(Ie),Ye="load".concat(Ie).concat(Te),Je="click".concat(Ie).concat(Te),Xe="carousel",Ze="active",et="slide",tt="carousel-item-end",nt="carousel-item-start",rt="carousel-item-next",it="carousel-item-prev",at="pointer-event",ot=".active",ut=".active.carousel-item",st=".carousel-item",ct=".carousel-item img",lt=".carousel-item-next, .carousel-item-prev",ft=".carousel-indicators",ht="[data-bs-target]",dt="[data-bs-slide], [data-bs-slide-to]",pt='[data-bs-ride="carousel"]',vt="touch",yt="pen",mt=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=xe.findOne(ft,i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return f(n,[{key:"next",value:function(){this._slide(Re)}},{key:"nextWhenVisible",value:function(){!document.hidden&&j(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(De)}},{key:"pause",value:function(e){e||(this._isPaused=!0),xe.findOne(lt,this._element)&&(k(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=xe.findOne(ut,this._element);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)te.one(this._element,Ve,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var r=e>n?Re:De;this._slide(r,this._items[e])}}},{key:"_getConfig",value:function(e){return e=a(a(a({},Ne),Oe.getDataAttributes(this._element)),"object"===typeof e?e:{}),O(Ee,e,Pe),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=Ae)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?Me:Le)}}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&te.on(this._element,qe,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(te.on(this._element,Be,(function(t){return e.pause(t)})),te.on(this._element,ze,(function(t){return e.cycle(t)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e=this,t=function(t){return e._pointerEvent&&(t.pointerType===yt||t.pointerType===vt)},n=function(n){t(n)?e.touchStartX=n.clientX:e._pointerEvent||(e.touchStartX=n.touches[0].clientX)},r=function(t){e.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-e.touchStartX},i=function(n){t(n)&&(e.touchDeltaX=n.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),Ce+e._config.interval))};xe.find(ct,this._element).forEach((function(e){te.on(e,$e,(function(e){return e.preventDefault()}))})),this._pointerEvent?(te.on(this._element,Ge,(function(e){return n(e)})),te.on(this._element,Qe,(function(e){return i(e)})),this._element.classList.add(at)):(te.on(this._element,We,(function(e){return n(e)})),te.on(this._element,Ke,(function(e){return r(e)})),te.on(this._element,He,(function(e){return i(e)})))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=Fe[e.key];t&&(e.preventDefault(),this._slide(t))}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?xe.find(st,e.parentNode):[],this._items.indexOf(e)}},{key:"_getItemByOrder",value:function(e,t){var n=e===Re;return L(this._items,t,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(xe.findOne(ut,this._element));return te.trigger(this._element,Ue,{relatedTarget:e,direction:t,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=xe.findOne(ot,this._indicatorsElement);t.classList.remove(Ze),t.removeAttribute("aria-current");for(var n=xe.find(ht,this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[r].classList.add(Ze),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var e=this._activeElement||xe.findOne(ut,this._element);if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(e,t){var n=this,r=this._directionToOrder(e),i=xe.findOne(ut,this._element),a=this._getItemIndex(i),o=t||this._getItemByOrder(r,i),u=this._getItemIndex(o),s=Boolean(this._interval),c=r===Re,l=c?nt:tt,f=c?rt:it,h=this._orderToDirection(r);if(o&&o.classList.contains(Ze))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(o,h).defaultPrevented&&i&&o){this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var d=function(){te.trigger(n._element,Ve,{relatedTarget:o,direction:h,from:a,to:u})};if(this._element.classList.contains(et)){o.classList.add(f),T(o),i.classList.add(l),o.classList.add(l);var p=function(){o.classList.remove(l,f),o.classList.add(Ze),i.classList.remove(Ze,f,l),n._isSliding=!1,setTimeout(d,0)};this._queueCallback(p,i,!0)}else i.classList.remove(Ze),o.classList.add(Ze),this._isSliding=!1,d();s&&this.cycle()}}},{key:"_directionToOrder",value:function(e){return[Me,Le].includes(e)?N()?e===Le?De:Re:e===Le?Re:De:e}},{key:"_orderToDirection",value:function(e){return[Re,De].includes(e)?N()?e===De?Le:Me:e===De?Me:Le:e}}],[{key:"Default",get:function(){return Ne}},{key:"NAME",get:function(){return Ee}},{key:"carouselInterface",value:function(e,t){var r=n.getOrCreateInstance(e,t),i=r._config;"object"===typeof t&&(i=a(a({},i),t));var o="string"===typeof t?t:i.slide;if("number"===typeof t)r.to(t);else if("string"===typeof o){if("undefined"===typeof r[o])throw new TypeError('No method named "'.concat(o,'"'));r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(e){return this.each((function(){n.carouselInterface(this,e)}))}},{key:"dataApiClickHandler",value:function(e){var t=g(this);if(t&&t.classList.contains(Xe)){var r=a(a({},Oe.getDataAttributes(t)),Oe.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(t,r),i&&n.getInstance(t).to(i),e.preventDefault()}}}]),n}(ae);te.on(document,Je,dt,mt.dataApiClickHandler),te.on(window,Ye,(function(){for(var e=xe.find(pt),t=0,n=e.length;t<n;t++)mt.carouselInterface(e[t],mt.getInstance(e[t]))})),P(mt);var gt="collapse",bt="bs.collapse",kt=".".concat(bt),_t=".data-api",wt={toggle:!0,parent:null},Ot={toggle:"boolean",parent:"(null|element)"},jt="show".concat(kt),xt="shown".concat(kt),Et="hide".concat(kt),It="hidden".concat(kt),Tt="click".concat(kt).concat(_t),St="show",Ct="collapse",At="collapsing",Nt="collapsed",Pt=":scope .".concat(Ct," .").concat(Ct),Rt="collapse-horizontal",Dt="width",Lt="height",Mt=".collapse.show, .collapse.collapsing",Ft='[data-bs-toggle="collapse"]',Ut=function(e){s(n,e);var t=c(n);function n(e,r){var i;l(this,n),(i=t.call(this,e))._isTransitioning=!1,i._config=i._getConfig(r),i._triggerArray=[];for(var a=xe.find(Ft),o=0,u=a.length;o<u;o++){var s=a[o],c=m(s),f=xe.find(c).filter((function(e){return e===i._element}));null!==c&&f.length&&(i._selector=c,i._triggerArray.push(s))}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return f(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t,r=[];if(this._config.parent){var i=xe.find(Pt,this._config.parent);r=xe.find(Mt,this._config.parent).filter((function(e){return!i.includes(e)}))}var a=xe.findOne(this._selector);if(r.length){var o=r.find((function(e){return a!==e}));if((t=o?n.getInstance(o):null)&&t._isTransitioning)return}if(!te.trigger(this._element,jt).defaultPrevented){r.forEach((function(e){a!==e&&n.getOrCreateInstance(e,{toggle:!1}).hide(),t||re.set(e,bt,null)}));var u=this._getDimension();this._element.classList.remove(Ct),this._element.classList.add(At),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var s=function(){e._isTransitioning=!1,e._element.classList.remove(At),e._element.classList.add(Ct,St),e._element.style[u]="",te.trigger(e._element,xt)},c=u[0].toUpperCase()+u.slice(1),l="scroll".concat(c);this._queueCallback(s,this._element,!0),this._element.style[u]="".concat(this._element[l],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!te.trigger(this._element,Et).defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),T(this._element),this._element.classList.add(At),this._element.classList.remove(Ct,St);for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],a=g(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;var o=function(){e._isTransitioning=!1,e._element.classList.remove(At),e._element.classList.add(Ct),te.trigger(e._element,It)};this._element.style[t]="",this._queueCallback(o,this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(St)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},wt),Oe.getDataAttributes(this._element)),e)).toggle=Boolean(e.toggle),e.parent=w(e.parent),O(gt,e,Ot),e}},{key:"_getDimension",value:function(){return this._element.classList.contains(Rt)?Dt:Lt}},{key:"_initializeChildren",value:function(){var e=this;if(this._config.parent){var t=xe.find(Pt,this._config.parent);xe.find(Ft,this._config.parent).filter((function(e){return!t.includes(e)})).forEach((function(t){var n=g(t);n&&e._addAriaAndCollapsedClass([t],e._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(e,t){e.length&&e.forEach((function(e){t?e.classList.remove(Nt):e.classList.add(Nt),e.setAttribute("aria-expanded",t)}))}}],[{key:"Default",get:function(){return wt}},{key:"NAME",get:function(){return gt}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t={};"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1);var r=n.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e]()}}))}}]),n}(ae);te.on(document,Tt,Ft,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t=m(this);xe.find(t).forEach((function(e){Ut.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),P(Ut);var Vt="top",qt="bottom",Bt="right",zt="left",Wt="auto",Kt=[Vt,qt,Bt,zt],Ht="start",Gt="end",Qt="clippingParents",$t="viewport",Yt="popper",Jt="reference",Xt=Kt.reduce((function(e,t){return e.concat([t+"-"+Ht,t+"-"+Gt])}),[]),Zt=[].concat(Kt,[Wt]).reduce((function(e,t){return e.concat([t,t+"-"+Ht,t+"-"+Gt])}),[]),en="beforeRead",tn="read",nn="afterRead",rn="beforeMain",an="main",on="afterMain",un="beforeWrite",sn="write",cn="afterWrite",ln=[en,tn,nn,rn,an,on,un,sn,cn];function fn(e){return e?(e.nodeName||"").toLowerCase():null}function hn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function dn(e){return e instanceof hn(e).Element||e instanceof Element}function pn(e){return e instanceof hn(e).HTMLElement||e instanceof HTMLElement}function vn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof hn(e).ShadowRoot||e instanceof ShadowRoot)}function yn(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];pn(i)&&fn(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function mn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});pn(r)&&fn(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var gn={name:"applyStyles",enabled:!0,phase:"write",fn:yn,effect:mn,requires:["computeStyles"]};function bn(e){return e.split("-")[0]}function kn(e,t){var n=e.getBoundingClientRect(),r=1,i=1;return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function _n(e){var t=kn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function wn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function On(e){return hn(e).getComputedStyle(e)}function jn(e){return["table","td","th"].indexOf(fn(e))>=0}function xn(e){return((dn(e)?e.ownerDocument:e.document)||window.document).documentElement}function En(e){return"html"===fn(e)?e:e.assignedSlot||e.parentNode||(vn(e)?e.host:null)||xn(e)}function In(e){return pn(e)&&"fixed"!==On(e).position?e.offsetParent:null}function Tn(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&pn(e)&&"fixed"===On(e).position)return null;for(var n=En(e);pn(n)&&["html","body"].indexOf(fn(n))<0;){var r=On(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}function Sn(e){for(var t=hn(e),n=In(e);n&&jn(n)&&"static"===On(n).position;)n=In(n);return n&&("html"===fn(n)||"body"===fn(n)&&"static"===On(n).position)?t:n||Tn(e)||t}function Cn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var An=Math.max,Nn=Math.min,Pn=Math.round;function Rn(e,t,n){return An(e,Nn(t,n))}function Dn(){return{top:0,right:0,bottom:0,left:0}}function Ln(e){return Object.assign({},Dn(),e)}function Mn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Fn=function(e,t){return Ln("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Mn(e,Kt))};function Un(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=bn(n.placement),s=Cn(u),c=[zt,Bt].indexOf(u)>=0?"height":"width";if(a&&o){var l=Fn(i.padding,n),f=_n(a),h="y"===s?Vt:zt,d="y"===s?qt:Bt,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],y=Sn(a),m=y?"y"===s?y.clientHeight||0:y.clientWidth||0:0,g=p/2-v/2,b=l[h],k=m-f[c]-l[d],_=m/2-f[c]/2+g,w=Rn(b,_,k),O=s;n.modifiersData[r]=((t={})[O]=w,t.centerOffset=w-_,t)}}function Vn(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&wn(t.elements.popper,r)&&(t.elements.arrow=r)}var qn={name:"arrow",enabled:!0,phase:"main",fn:Un,effect:Vn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bn(e){return e.split("-")[1]}var zn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wn(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Pn(Pn(t*r)/r)||0,y:Pn(Pn(n*r)/r)||0}}function Kn(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=!0===l?Wn(o):"function"===typeof l?l(o):o,h=f.x,d=void 0===h?0:h,p=f.y,v=void 0===p?0:p,y=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),g=zt,b=Vt,k=window;if(c){var _=Sn(n),w="clientHeight",O="clientWidth";_===hn(n)&&"static"!==On(_=xn(n)).position&&"absolute"===u&&(w="scrollHeight",O="scrollWidth"),_=_,i!==Vt&&(i!==zt&&i!==Bt||a!==Gt)||(b=qt,v-=_[w]-r.height,v*=s?1:-1),i!==zt&&(i!==Vt&&i!==qt||a!==Gt)||(g=Bt,d-=_[O]-r.width,d*=s?1:-1)}var j,x=Object.assign({position:u},c&&zn);return s?Object.assign({},x,((j={})[b]=m?"0":"",j[g]=y?"0":"",j.transform=(k.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",j)):Object.assign({},x,((t={})[b]=m?v+"px":"",t[g]=y?d+"px":"",t.transform="",t))}function Hn(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:bn(t.placement),variation:Bn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Kn(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kn(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Gn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hn,data:{}},Qn={passive:!0};function $n(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=hn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Qn)})),u&&s.addEventListener("resize",n.update,Qn),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Qn)})),u&&s.removeEventListener("resize",n.update,Qn)}}var Yn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$n,data:{}},Jn={left:"right",right:"left",bottom:"top",top:"bottom"};function Xn(e){return e.replace(/left|right|bottom|top/g,(function(e){return Jn[e]}))}var Zn={start:"end",end:"start"};function er(e){return e.replace(/start|end/g,(function(e){return Zn[e]}))}function tr(e){var t=hn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nr(e){return kn(xn(e)).left+tr(e).scrollLeft}function rr(e){var t=hn(e),n=xn(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+nr(e),y:u}}function ir(e){var t,n=xn(e),r=tr(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=An(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=An(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+nr(e),s=-r.scrollTop;return"rtl"===On(i||n).direction&&(u+=An(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}function ar(e){var t=On(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function or(e){return["html","body","#document"].indexOf(fn(e))>=0?e.ownerDocument.body:pn(e)&&ar(e)?e:or(En(e))}function ur(e,t){var n;void 0===t&&(t=[]);var r=or(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=hn(r),o=i?[a].concat(a.visualViewport||[],ar(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(ur(En(o)))}function sr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cr(e){var t=kn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function lr(e,t){return t===$t?sr(rr(e)):pn(t)?cr(t):sr(ir(xn(e)))}function fr(e){var t=ur(En(e)),n=["absolute","fixed"].indexOf(On(e).position)>=0&&pn(e)?Sn(e):e;return dn(n)?t.filter((function(e){return dn(e)&&wn(e,n)&&"body"!==fn(e)})):[]}function hr(e,t,n){var r="clippingParents"===t?fr(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=lr(e,n);return t.top=An(r.top,t.top),t.right=Nn(r.right,t.right),t.bottom=Nn(r.bottom,t.bottom),t.left=An(r.left,t.left),t}),lr(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function dr(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?bn(i):null,o=i?Bn(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case Vt:t={x:u,y:n.y-r.height};break;case qt:t={x:u,y:n.y+n.height};break;case Bt:t={x:n.x+n.width,y:s};break;case zt:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?Cn(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Ht:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Gt:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function pr(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?Qt:a,u=n.rootBoundary,s=void 0===u?$t:u,c=n.elementContext,l=void 0===c?Yt:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=Ln("number"!==typeof p?p:Mn(p,Kt)),y=l===Yt?Jt:Yt,m=e.rects.popper,g=e.elements[h?y:l],b=hr(dn(g)?g:g.contextElement||xn(e.elements.popper),o,s),k=kn(e.elements.reference),_=dr({reference:k,element:m,strategy:"absolute",placement:i}),w=sr(Object.assign({},m,_)),O=l===Yt?w:k,j={top:b.top-O.top+v.top,bottom:O.bottom-b.bottom+v.bottom,left:b.left-O.left+v.left,right:O.right-b.right+v.right},x=e.modifiersData.offset;if(l===Yt&&x){var E=x[i];Object.keys(j).forEach((function(e){var t=[Bt,qt].indexOf(e)>=0?1:-1,n=[Vt,qt].indexOf(e)>=0?"y":"x";j[e]+=E[n]*t}))}return j}function vr(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Zt:s,l=Bn(r),f=l?u?Xt:Xt.filter((function(e){return Bn(e)===l})):Kt,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=pr(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[bn(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function yr(e){if(bn(e)===Wt)return[];var t=Xn(e);return[er(e),t,er(t)]}function mr(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,y=t.options.placement,m=bn(y),g=s||(m!==y&&p?yr(y):[Xn(y)]),b=[y].concat(g).reduce((function(e,n){return e.concat(bn(n)===Wt?vr(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,_=t.rects.popper,w=new Map,O=!0,j=b[0],x=0;x<b.length;x++){var E=b[x],I=bn(E),T=Bn(E)===Ht,S=[Vt,qt].indexOf(I)>=0,C=S?"width":"height",A=pr(t,{placement:E,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),N=S?T?Bt:zt:T?qt:Vt;k[C]>_[C]&&(N=Xn(N));var P=Xn(N),R=[];if(a&&R.push(A[I]<=0),u&&R.push(A[N]<=0,A[P]<=0),R.every((function(e){return e}))){j=E,O=!1;break}w.set(E,R)}if(O)for(var D=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},L=p?3:1;L>0&&"break"!==D(L);L--);t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}var gr={name:"flip",enabled:!0,phase:"main",fn:mr,requiresIfExists:["offset"],data:{_skip:!1}};function br(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kr(e){return[Vt,Bt,qt,zt].some((function(t){return e[t]>=0}))}function _r(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=pr(t,{elementContext:"reference"}),u=pr(t,{altBoundary:!0}),s=br(o,r),c=br(u,i,a),l=kr(s),f=kr(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}var wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_r};function Or(e,t,n){var r=bn(e),i=[zt,Vt].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[zt,Bt].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}function jr(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Zt.reduce((function(e,n){return e[n]=Or(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var xr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jr};function Er(e){var t=e.state,n=e.name;t.modifiersData[n]=dr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Ir={name:"popperOffsets",enabled:!0,phase:"read",fn:Er,data:{}};function Tr(e){return"x"===e?"y":"x"}function Sr(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,y=pr(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),m=bn(t.placement),g=Bn(t.placement),b=!g,k=Cn(m),_=Tr(k),w=t.modifiersData.popperOffsets,O=t.rects.reference,j=t.rects.popper,x="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E={x:0,y:0};if(w){if(a||u){var I="y"===k?Vt:zt,T="y"===k?qt:Bt,S="y"===k?"height":"width",C=w[k],A=w[k]+y[I],N=w[k]-y[T],P=d?-j[S]/2:0,R=g===Ht?O[S]:j[S],D=g===Ht?-j[S]:-O[S],L=t.elements.arrow,M=d&&L?_n(L):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Dn(),U=F[I],V=F[T],q=Rn(0,O[S],M[S]),B=b?O[S]/2-P-q-U-x:R-q-U-x,z=b?-O[S]/2+P+q+V+x:D+q+V+x,W=t.elements.arrow&&Sn(t.elements.arrow),K=W?"y"===k?W.clientTop||0:W.clientLeft||0:0,H=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,G=w[k]+B-H-K,Q=w[k]+z-H;if(a){var $=Rn(d?Nn(A,G):A,C,d?An(N,Q):N);w[k]=$,E[k]=$-C}if(u){var Y="x"===k?Vt:zt,J="x"===k?qt:Bt,X=w[_],Z=X+y[Y],ee=X-y[J],te=Rn(d?Nn(Z,G):Z,X,d?An(ee,Q):ee);w[_]=te,E[_]=te-X}}t.modifiersData[r]=E}}var Cr={name:"preventOverflow",enabled:!0,phase:"main",fn:Sr,requiresIfExists:["offset"]};function Ar(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Nr(e){return e!==hn(e)&&pn(e)?Ar(e):tr(e)}function Pr(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}function Rr(e,t,n){void 0===n&&(n=!1);var r=pn(t);pn(t)&&Pr(t);var i=xn(t),a=kn(e),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==fn(t)||ar(i))&&(o=Nr(t)),pn(t)?((u=kn(t)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=nr(i))),{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function Dr(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Lr(e){var t=Dr(e);return ln.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function Mr(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function Fr(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var Ur={placement:"bottom",modifiers:[],strategy:"absolute"};function Vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function qr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Ur:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ur,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:dn(e)?ur(e):e.contextElement?ur(e.contextElement):[],popper:ur(t)};var u=Lr(Fr([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),c(),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(Vr(t,n)){i.rects={reference:Rr(t,Sn(n),"fixed"===i.options.strategy),popper:_n(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:Mr((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){l(),u=!0}};if(!Vr(e,t))return s;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}}))}function l(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Br=qr(),zr=qr({defaultModifiers:[Yn,Ir,Gn,gn]}),Wr=qr({defaultModifiers:[Yn,Ir,Gn,gn,xr,gr,Cr,qn,wr]}),Kr=Object.freeze({__proto__:null,popperGenerator:qr,detectOverflow:pr,createPopperBase:Br,createPopper:Wr,createPopperLite:zr,top:Vt,bottom:qt,right:Bt,left:zt,auto:Wt,basePlacements:Kt,start:Ht,end:Gt,clippingParents:Qt,viewport:$t,popper:Yt,reference:Jt,variationPlacements:Xt,placements:Zt,beforeRead:en,read:tn,afterRead:nn,beforeMain:rn,main:an,afterMain:on,beforeWrite:un,write:sn,afterWrite:cn,modifierPhases:ln,applyStyles:gn,arrow:qn,computeStyles:Gn,eventListeners:Yn,flip:gr,hide:wr,offset:xr,popperOffsets:Ir,preventOverflow:Cr}),Hr="dropdown",Gr=".".concat("bs.dropdown"),Qr=".data-api",$r="Escape",Yr="Space",Jr="Tab",Xr="ArrowUp",Zr="ArrowDown",ei=2,ti=new RegExp("".concat(Xr,"|").concat(Zr,"|").concat($r)),ni="hide".concat(Gr),ri="hidden".concat(Gr),ii="show".concat(Gr),ai="shown".concat(Gr),oi="click".concat(Gr).concat(Qr),ui="keydown".concat(Gr).concat(Qr),si="keyup".concat(Gr).concat(Qr),ci="show",li="dropup",fi="dropend",hi="dropstart",di="navbar",pi='[data-bs-toggle="dropdown"]',vi=".dropdown-menu",yi=".navbar-nav",mi=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",gi=N()?"top-end":"top-start",bi=N()?"top-start":"top-end",ki=N()?"bottom-end":"bottom-start",_i=N()?"bottom-start":"bottom-end",wi=N()?"left-start":"right-start",Oi=N()?"right-start":"left-start",ji={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},xi={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Ei=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return f(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!x(this._element)&&!this._isShown(this._menu)){var e={relatedTarget:this._element};if(!te.trigger(this._element,ii,e).defaultPrevented){var t,r=n.getParentFromElement(this._element);this._inNavbar?Oe.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(yi)&&(t=[]).concat.apply(t,u(document.body.children)).forEach((function(e){return te.on(e,"mouseover",I)})),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ci),this._element.classList.add(ci),te.trigger(this._element,ai,e)}}}},{key:"hide",value:function(){if(!x(this._element)&&this._isShown(this._menu)){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),r(i(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){var t;te.trigger(this._element,ni,e).defaultPrevented||("ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,u(document.body.children)).forEach((function(e){return te.off(e,"mouseover",I)})),this._popper&&this._popper.destroy(),this._menu.classList.remove(ci),this._element.classList.remove(ci),this._element.setAttribute("aria-expanded","false"),Oe.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,ri,e))}},{key:"_getConfig",value:function(e){if(e=a(a(a({},this.constructor.Default),Oe.getDataAttributes(this._element)),e),O(Hr,e,this.constructor.DefaultType),"object"===typeof e.reference&&!_(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(Hr.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(e){if("undefined"===typeof Kr)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=e:_(this._config.reference)?t=w(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);var n=this._getPopperConfig(),r=n.modifiers.find((function(e){return"applyStyles"===e.name&&!1===e.enabled}));this._popper=Wr(t,this._menu,n),r&&Oe.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(ci)}},{key:"_getMenuElement",value:function(){return xe.next(this._element,vi)[0]}},{key:"_getPlacement",value:function(){var e=this._element.parentNode;if(e.classList.contains(fi))return wi;if(e.classList.contains(hi))return Oi;var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(li)?t?bi:gi:t?_i:ki}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".".concat(di))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),a(a({},e),"function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=xe.find(mi,this._menu).filter(j);r.length&&L(r,n,t===Zr,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return ji}},{key:"DefaultType",get:function(){return xi}},{key:"NAME",get:function(){return Hr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(!e||e.button!==ei&&("keyup"!==e.type||e.key===Jr))for(var t=xe.find(pi),r=0,i=t.length;r<i;r++){var a=n.getInstance(t[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(e){var u=e.composedPath(),s=u.includes(a._menu);if(u.includes(a._element)||"inside"===a._config.autoClose&&!s||"outside"===a._config.autoClose&&s)continue;if(a._menu.contains(e.target)&&("keyup"===e.type&&e.key===Jr||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(e){return g(e)||e.parentNode}},{key:"dataApiKeydownHandler",value:function(e){if(!(/input|textarea/i.test(e.target.tagName)?e.key===Yr||e.key!==$r&&(e.key!==Zr&&e.key!==Xr||e.target.closest(vi)):!ti.test(e.key))){var t=this.classList.contains(ci);if((t||e.key!==$r)&&(e.preventDefault(),e.stopPropagation(),!x(this))){var r=this.matches(pi)?this:xe.prev(this,pi)[0],i=n.getOrCreateInstance(r);if(e.key!==$r)return e.key===Xr||e.key===Zr?(t||i.show(),void i._selectMenuItem(e)):void(t&&e.key!==Yr||n.clearMenus());i.hide()}}}}]),n}(ae);te.on(document,ui,pi,Ei.dataApiKeydownHandler),te.on(document,ui,vi,Ei.dataApiKeydownHandler),te.on(document,oi,Ei.clearMenus),te.on(document,si,Ei.clearMenus),te.on(document,oi,pi,(function(e){e.preventDefault(),Ei.getOrCreateInstance(this).toggle()})),P(Ei);var Ii=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ti=".sticky-top",Si=function(){function e(){l(this,e),this._element=document.body}return f(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(t){return t+e})),this._setElementAttributes(Ii,"paddingRight",(function(t){return t+e})),this._setElementAttributes(Ti,"marginRight",(function(t){return t-e}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth(),a=function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e)[t];e.style[t]="".concat(n(Number.parseFloat(a)),"px")}};this._applyManipulationCallback(e,a)}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Ii,"paddingRight"),this._resetElementAttributes(Ti,"marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&Oe.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){var n=function(e){var n=Oe.getDataAttribute(e,t);"undefined"===typeof n?e.style.removeProperty(t):(Oe.removeDataAttribute(e,t),e.style[t]=n)};this._applyManipulationCallback(e,n)}},{key:"_applyManipulationCallback",value:function(e,t){_(e)?t(e):xe.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),e}(),Ci={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Ai={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ni="backdrop",Pi="fade",Ri="show",Di="mousedown.bs.".concat(Ni),Li=function(){function e(t){l(this,e),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}return f(e,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&T(this._getElement()),this._getElement().classList.add(Ri),this._emulateAnimation((function(){R(e)}))):R(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Ri),this._emulateAnimation((function(){t.dispose(),R(e)}))):R(e)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Pi),this._element=e}return this._element}},{key:"_getConfig",value:function(e){return(e=a(a({},Ci),"object"===typeof e?e:{})).rootElement=w(e.rootElement),O(Ni,e,Ai),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),te.on(this._getElement(),Di,(function(){R(e._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(te.off(this._element,Di),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){D(e,this._getElement(),this._config.isAnimated)}}]),e}(),Mi={trapElement:null,autofocus:!0},Fi={trapElement:"element",autofocus:"boolean"},Ui="focustrap",Vi=".".concat("bs.focustrap"),qi="focusin".concat(Vi),Bi="keydown.tab".concat(Vi),zi="Tab",Wi="forward",Ki="backward",Hi=function(){function e(t){l(this,e),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}return f(e,[{key:"activate",value:function(){var e=this,t=this._config,n=t.trapElement,r=t.autofocus;this._isActive||(r&&n.focus(),te.off(document,Vi),te.on(document,qi,(function(t){return e._handleFocusin(t)})),te.on(document,Bi,(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,te.off(document,Vi))}},{key:"_handleFocusin",value:function(e){var t=e.target,n=this._config.trapElement;if(t!==document&&t!==n&&!n.contains(t)){var r=xe.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Ki?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(e){e.key===zi&&(this._lastTabNavDirection=e.shiftKey?Ki:Wi)}},{key:"_getConfig",value:function(e){return e=a(a({},Mi),"object"===typeof e?e:{}),O(Ui,e,Fi),e}}]),e}(),Gi="modal",Qi=".".concat("bs.modal"),$i=".data-api",Yi="Escape",Ji={backdrop:!0,keyboard:!0,focus:!0},Xi={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Zi="hide".concat(Qi),ea="hidePrevented".concat(Qi),ta="hidden".concat(Qi),na="show".concat(Qi),ra="shown".concat(Qi),ia="resize".concat(Qi),aa="click.dismiss".concat(Qi),oa="keydown.dismiss".concat(Qi),ua="mouseup.dismiss".concat(Qi),sa="mousedown.dismiss".concat(Qi),ca="click".concat(Qi).concat($i),la="modal-open",fa="fade",ha="show",da="modal-static",pa=".modal.show",va=".modal-dialog",ya=".modal-body",ma='[data-bs-toggle="modal"]',ga=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._dialog=xe.findOne(va,i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new Si,i}return f(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||te.trigger(this._element,na,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(la),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),te.on(this._dialog,sa,(function(){te.one(t._element,ua,(function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;if(this._isShown&&!this._isTransitioning&&!te.trigger(this._element,Zi).defaultPrevented){this._isShown=!1;var t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(ha),te.off(this._element,aa),te.off(this._dialog,sa),this._queueCallback((function(){return e._hideModal()}),this._element,t)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(e){return te.off(e,Qi)})),this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Li({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Hi({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=a(a(a({},Ji),Oe.getDataAttributes(this._element)),"object"===typeof e?e:{}),O(Gi,e,Xi),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),r=xe.findOne(ya,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&T(this._element),this._element.classList.add(ha);var i=function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,te.trigger(t._element,ra,{relatedTarget:e})};this._queueCallback(i,this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?te.on(this._element,oa,(function(t){e._config.keyboard&&t.key===Yi?(t.preventDefault(),e.hide()):e._config.keyboard||t.key!==Yi||e._triggerBackdropTransition()})):te.off(this._element,oa)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?te.on(window,ia,(function(){return e._adjustDialog()})):te.off(window,ia)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(la),e._resetAdjustments(),e._scrollBar.reset(),te.trigger(e._element,ta)}))}},{key:"_showBackdrop",value:function(e){var t=this;te.on(this._element,aa,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())})),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains(fa)}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!te.trigger(this._element,ea).defaultPrevented){var t=this._element,n=t.classList,r=t.scrollHeight,i=t.style,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||n.contains(da)||(a||(i.overflowY="hidden"),n.add(da),this._queueCallback((function(){n.remove(da),a||e._queueCallback((function(){i.overflowY=""}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!N()||n&&!e&&N())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!N()||!n&&e&&N())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return Ji}},{key:"NAME",get:function(){return Gi}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(ae);te.on(document,ca,ma,(function(e){var t=this,n=g(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),te.one(n,na,(function(e){e.defaultPrevented||te.one(n,ta,(function(){j(t)&&t.focus()}))}));var r=xe.findOne(pa);r&&ga.getInstance(r).hide(),ga.getOrCreateInstance(n).toggle(this)})),oe(ga),P(ga);var ba="offcanvas",ka=".".concat("bs.offcanvas"),_a=".data-api",wa="load".concat(ka).concat(_a),Oa="Escape",ja={backdrop:!0,keyboard:!0,scroll:!1},xa={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Ea="show",Ia="offcanvas-backdrop",Ta=".offcanvas.show",Sa="show".concat(ka),Ca="shown".concat(ka),Aa="hide".concat(ka),Na="hidden".concat(ka),Pa="click".concat(ka).concat(_a),Ra="keydown.dismiss".concat(ka),Da='[data-bs-toggle="offcanvas"]',La=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return f(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;if(!this._isShown&&!te.trigger(this._element,Sa,{relatedTarget:e}).defaultPrevented){this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Si).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ea);var n=function(){t._config.scroll||t._focustrap.activate(),te.trigger(t._element,Ca,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}}},{key:"hide",value:function(){var e=this;if(this._isShown&&!te.trigger(this._element,Aa).defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Ea),this._backdrop.hide();var t=function(){e._element.setAttribute("aria-hidden",!0),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._element.style.visibility="hidden",e._config.scroll||(new Si).reset(),te.trigger(e._element,Na)};this._queueCallback(t,this._element,!0)}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},ja),Oe.getDataAttributes(this._element)),"object"===typeof e?e:{}),O(ba,e,xa),e}},{key:"_initializeBackDrop",value:function(){var e=this;return new Li({className:Ia,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return e.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Hi({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;te.on(this._element,Ra,(function(t){e._config.keyboard&&t.key===Oa&&e.hide()}))}}],[{key:"NAME",get:function(){return ba}},{key:"Default",get:function(){return ja}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ae);te.on(document,Pa,Da,(function(e){var t=this,n=g(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!x(this)){te.one(n,Na,(function(){j(t)&&t.focus()}));var r=xe.findOne(Ta);r&&r!==n&&La.getInstance(r).hide(),La.getOrCreateInstance(n).toggle(this)}})),te.on(window,wa,(function(){return xe.find(Ta).forEach((function(e){return La.getOrCreateInstance(e).show()}))})),oe(La),P(La);var Ma=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ua=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Va=function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!Ma.has(n)||Boolean(Fa.test(e.nodeValue)||Ua.test(e.nodeValue));for(var r=t.filter((function(e){return e instanceof RegExp})),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1},qa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ba(e,t,n){var r;if(!e.length)return e;if(n&&"function"===typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),a=(r=[]).concat.apply(r,u(i.body.querySelectorAll("*"))),o=function(e,n){var r,i=a[e],o=i.nodeName.toLowerCase();if(!Object.keys(t).includes(o))return i.remove(),"continue";var s=(r=[]).concat.apply(r,u(i.attributes)),c=[].concat(t["*"]||[],t[o]||[]);s.forEach((function(e){Va(e,c)||i.removeAttribute(e.nodeName)}))},s=0,c=a.length;s<c;s++)o(s,c);return i.body.innerHTML}var za="tooltip",Wa=".".concat("bs.tooltip"),Ka="bs-tooltip",Ha=new Set(["sanitize","allowList","sanitizeFn"]),Ga={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Qa={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},$a={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:qa,popperConfig:null},Ya={HIDE:"hide".concat(Wa),HIDDEN:"hidden".concat(Wa),SHOW:"show".concat(Wa),SHOWN:"shown".concat(Wa),INSERTED:"inserted".concat(Wa),CLICK:"click".concat(Wa),FOCUSIN:"focusin".concat(Wa),FOCUSOUT:"focusout".concat(Wa),MOUSEENTER:"mouseenter".concat(Wa),MOUSELEAVE:"mouseleave".concat(Wa)},Ja="fade",Xa="show",Za="show",eo="out",to=".tooltip-inner",no=".".concat("modal"),ro="hide.bs.modal",io="hover",ao="focus",oo="click",uo="manual",so=function(e){s(n,e);var t=c(n);function n(e,r){var i;if(l(this,n),"undefined"===typeof Kr)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e))._isEnabled=!0,i._timeout=0,i._hoverState="",i._activeTrigger={},i._popper=null,i._config=i._getConfig(r),i.tip=null,i._setListeners(),i}return f(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(Xa))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),te.off(this._element.closest(no),ro,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),r(i(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t=te.trigger(this._element,this.constructor.Event.SHOW),n=E(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!t.defaultPrevented&&r){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(to).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var i=this.getTipElement(),a=v(this.constructor.NAME);i.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&i.classList.add(Ja);var o="function"===typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);var c=this._config.container;re.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(i),te.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Wr(this._element,i,this._getPopperConfig(s)),i.classList.add(Xa);var l,f,h=this._resolvePossibleFunction(this._config.customClass);h&&(l=i.classList).add.apply(l,u(h.split(" "))),"ontouchstart"in document.documentElement&&(f=[]).concat.apply(f,u(document.body.children)).forEach((function(e){te.on(e,"mouseover",I)}));var d=function(){var t=e._hoverState;e._hoverState=null,te.trigger(e._element,e.constructor.Event.SHOWN),t===eo&&e._leave(null,e)},p=this.tip.classList.contains(Ja);this._queueCallback(d,this.tip,p)}}}},{key:"hide",value:function(){var e=this;if(this._popper){var t=this.getTipElement(),n=function(){e._isWithActiveTrigger()||(e._hoverState!==Za&&t.remove(),e._cleanTipClass(),e._element.removeAttribute("aria-describedby"),te.trigger(e._element,e.constructor.Event.HIDDEN),e._disposePopper())};if(!te.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var r;t.classList.remove(Xa),"ontouchstart"in document.documentElement&&(r=[]).concat.apply(r,u(document.body.children)).forEach((function(e){return te.off(e,"mouseover",I)})),this._activeTrigger[oo]=!1,this._activeTrigger[ao]=!1,this._activeTrigger[io]=!1;var i=this.tip.classList.contains(Ja);this._queueCallback(n,this.tip,i),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove(Ja,Xa),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),to)}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=xe.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e)return _(t)?(t=w(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=Ba(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"===typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return a(a({},n),"function"===typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return Qa[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this;this._config.trigger.split(" ").forEach((function(t){if("click"===t)te.on(e._element,e.constructor.Event.CLICK,e._config.selector,(function(t){return e.toggle(t)}));else if(t!==uo){var n=t===io?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===io?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;te.on(e._element,n,e._config.selector,(function(t){return e._enter(t)})),te.on(e._element,r,e._config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e._element&&e.hide()},te.on(this._element.closest(no),ro,this._hideModalHandler),this._config.selector?this._config=a(a({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?ao:io]=!0),t.getTipElement().classList.contains(Xa)||t._hoverState===Za?t._hoverState=Za:(clearTimeout(t._timeout),t._hoverState=Za,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((function(){t._hoverState===Za&&t.show()}),t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?ao:io]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=eo,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===eo&&t.hide()}),t._config.delay.hide):t.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=Oe.getDataAttributes(this._element);return Object.keys(t).forEach((function(e){Ha.has(e)&&delete t[e]})),(e=a(a(a({},this.constructor.Default),t),"object"===typeof e&&e?e:{})).container=!1===e.container?document.body:w(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),O(za,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ba(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((function(e){return e.trim()})).forEach((function(t){return e.classList.remove(t)}))}},{key:"_getBasicClassPrefix",value:function(){return Ka}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return $a}},{key:"NAME",get:function(){return za}},{key:"Event",get:function(){return Ya}},{key:"DefaultType",get:function(){return Ga}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ae);P(so);var co="popover",lo=".".concat("bs.popover"),fo="bs-popover",ho=a(a({},so.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),po=a(a({},so.DefaultType),{},{content:"(string|element|function)"}),vo={HIDE:"hide".concat(lo),HIDDEN:"hidden".concat(lo),SHOW:"show".concat(lo),SHOWN:"shown".concat(lo),INSERTED:"inserted".concat(lo),CLICK:"click".concat(lo),FOCUSIN:"focusin".concat(lo),FOCUSOUT:"focusout".concat(lo),MOUSEENTER:"mouseenter".concat(lo),MOUSELEAVE:"mouseleave".concat(lo)},yo=".popover-header",mo=".popover-body",go=function(e){s(n,e);var t=c(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),yo),this._sanitizeAndSetContent(e,this._getContent(),mo)}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return fo}}],[{key:"Default",get:function(){return ho}},{key:"NAME",get:function(){return co}},{key:"Event",get:function(){return vo}},{key:"DefaultType",get:function(){return po}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(so);P(go);var bo="scrollspy",ko=".".concat("bs.scrollspy"),_o=".data-api",wo={offset:10,method:"auto",target:""},Oo={offset:"number",method:"string",target:"(string|element)"},jo="activate".concat(ko),xo="scroll".concat(ko),Eo="load".concat(ko).concat(_o),Io="dropdown-item",To="active",So='[data-bs-spy="scroll"]',Co=".nav, .list-group",Ao=".nav-link",No=".nav-item",Po=".list-group-item",Ro="".concat(Ao,", ").concat(Po,", .").concat(Io),Do=".dropdown",Lo=".dropdown-toggle",Mo="offset",Fo="position",Uo=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._scrollElement="BODY"===i._element.tagName?window:i._element,i._config=i._getConfig(r),i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,te.on(i._scrollElement,xo,(function(){return i._process()})),i.refresh(),i._process(),i}return f(n,[{key:"refresh",value:function(){var e=this,t=this._scrollElement===this._scrollElement.window?Mo:Fo,n="auto"===this._config.method?t:this._config.method,r=n===Fo?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),xe.find(Ro,this._config.target).map((function(e){var t=m(e),i=t?xe.findOne(t):null;if(i){var a=i.getBoundingClientRect();if(a.width||a.height)return[Oe[n](i).top+r,t]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))}},{key:"dispose",value:function(){te.off(this._scrollElement,ko),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},wo),Oe.getDataAttributes(this._element)),"object"===typeof e&&e?e:{})).target=w(e.target)||document.documentElement,O(bo,e,Oo),e}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&("undefined"===typeof this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}}},{key:"_activate",value:function(e){this._activeTarget=e,this._clear();var t=Ro.split(",").map((function(t){return"".concat(t,'[data-bs-target="').concat(e,'"],').concat(t,'[href="').concat(e,'"]')})),n=xe.findOne(t.join(","),this._config.target);n.classList.add(To),n.classList.contains(Io)?xe.findOne(Lo,n.closest(Do)).classList.add(To):xe.parents(n,Co).forEach((function(e){xe.prev(e,"".concat(Ao,", ").concat(Po)).forEach((function(e){return e.classList.add(To)})),xe.prev(e,No).forEach((function(e){xe.children(e,Ao).forEach((function(e){return e.classList.add(To)}))}))})),te.trigger(this._scrollElement,jo,{relatedTarget:e})}},{key:"_clear",value:function(){xe.find(Ro,this._config.target).filter((function(e){return e.classList.contains(To)})).forEach((function(e){return e.classList.remove(To)}))}}],[{key:"Default",get:function(){return wo}},{key:"NAME",get:function(){return bo}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ae);te.on(window,Eo,(function(){xe.find(So).forEach((function(e){return new Uo(e)}))})),P(Uo);var Vo="tab",qo=".".concat("bs.tab"),Bo=".data-api",zo="hide".concat(qo),Wo="hidden".concat(qo),Ko="show".concat(qo),Ho="shown".concat(qo),Go="click".concat(qo).concat(Bo),Qo="dropdown-menu",$o="active",Yo="fade",Jo="show",Xo=".dropdown",Zo=".nav, .list-group",eu=".active",tu=":scope > li > .active",nu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ru=".dropdown-toggle",iu=":scope > .dropdown-menu .active",au=function(e){s(n,e);var t=c(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"show",value:function(){var e=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains($o)){var t,n=g(this._element),r=this._element.closest(Zo);if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?tu:eu;t=(t=xe.find(i,r))[t.length-1]}var a=t?te.trigger(t,zo,{relatedTarget:this._element}):null;if(!(te.trigger(this._element,Ko,{relatedTarget:t}).defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var o=function(){te.trigger(t,Wo,{relatedTarget:e._element}),te.trigger(e._element,Ho,{relatedTarget:t})};n?this._activate(n,n.parentNode,o):o()}}}},{key:"_activate",value:function(e,t,n){var r=this,i=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?xe.children(t,eu):xe.find(tu,t))[0],a=n&&i&&i.classList.contains(Yo),o=function(){return r._transitionComplete(e,i,n)};i&&a?(i.classList.remove(Jo),this._queueCallback(o,e,!0)):o()}},{key:"_transitionComplete",value:function(e,t,n){if(t){t.classList.remove($o);var r=xe.findOne(iu,t.parentNode);r&&r.classList.remove($o),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add($o),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),T(e),e.classList.contains(Yo)&&e.classList.add(Jo);var i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains(Qo)){var a=e.closest(Xo);a&&xe.find(ru,a).forEach((function(e){return e.classList.add($o)})),e.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return Vo}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ae);te.on(document,Go,nu,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),x(this)||au.getOrCreateInstance(this).show()})),P(au);var ou="toast",uu=".".concat("bs.toast"),su="mouseover".concat(uu),cu="mouseout".concat(uu),lu="focusin".concat(uu),fu="focusout".concat(uu),hu="hide".concat(uu),du="hidden".concat(uu),pu="show".concat(uu),vu="shown".concat(uu),yu="fade",mu="hide",gu="show",bu="showing",ku={animation:"boolean",autohide:"boolean",delay:"number"},_u={animation:!0,autohide:!0,delay:5e3},wu=function(e){s(n,e);var t=c(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return f(n,[{key:"show",value:function(){var e=this;if(!te.trigger(this._element,pu).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add(yu);var t=function(){e._element.classList.remove(bu),te.trigger(e._element,vu),e._maybeScheduleHide()};this._element.classList.remove(mu),T(this._element),this._element.classList.add(gu),this._element.classList.add(bu),this._queueCallback(t,this._element,this._config.animation)}}},{key:"hide",value:function(){var e=this;if(this._element.classList.contains(gu)&&!te.trigger(this._element,hu).defaultPrevented){var t=function(){e._element.classList.add(mu),e._element.classList.remove(bu),e._element.classList.remove(gu),te.trigger(e._element,du)};this._element.classList.add(bu),this._queueCallback(t,this._element,this._config.animation)}}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(gu)&&this._element.classList.remove(gu),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},_u),Oe.getDataAttributes(this._element)),"object"===typeof e&&e?e:{}),O(ou,e,this.constructor.DefaultType),e}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;te.on(this._element,su,(function(t){return e._onInteraction(t,!0)})),te.on(this._element,cu,(function(t){return e._onInteraction(t,!1)})),te.on(this._element,lu,(function(t){return e._onInteraction(t,!0)})),te.on(this._element,fu,(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return ku}},{key:"Default",get:function(){return _u}},{key:"NAME",get:function(){return ou}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ae);return oe(wu),P(wu),{Alert:de,Button:ke,Carousel:mt,Collapse:Ut,Dropdown:Ei,Modal:ga,Offcanvas:La,Popover:go,ScrollSpy:Uo,Tab:au,Toast:wu,Tooltip:so}}()},function(e,t,n){var r=n(107);function i(t,n,a){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},function(e,t,n){var r=n(71);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(84);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){var r=n(110),i=n(111),a=n(86),o=n(112);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){var r=n(85);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(114);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(71),i=n(116),a=n(117);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(118),i=n(119);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(123),i=n(124),a=n(86),o=n(125);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,_=k&&k(k(S([])));_&&_!==n&&r.call(_,a)&&(b=_);var w=g.prototype=y.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return m.prototype=g,s(w,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,o,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new j(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n(128)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(2),a=n(3),o=n(4),u=n(34),s=n(12),c=n(20),l=n(1);function f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return!("file:"!==f()&&"ionic:"!==f()&&"capacitor:"!==f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function d(){return Object(l.z)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return/Edge\/\d+/.test(e)}function v(){try{var e=self.localStorage,t=s.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return d()||p(e)}()||Object(l.A)()}catch(n){return y()&&Object(l.A)()}return!1}function y(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function m(){return("http:"===f()||"https:"===f()||Object(l.w)()||h())&&!(Object(l.E)()||Object(l.C)())&&v()&&!y()}function g(){return h()&&"undefined"!==typeof document}function b(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={LOCAL:"local",NONE:"none",SESSION:"session"},w=s.p,O="persistence";function j(e,t){w(Object.values(_).includes(t),e,"invalid-persistence-type"),Object(l.E)()?w(t!==_.SESSION,e,"unsupported-persistence-type"):Object(l.C)()?w(t===_.NONE,e,"unsupported-persistence-type"):y()?w(t===_.NONE||t===_.LOCAL&&Object(l.A)(),e,"unsupported-persistence-type"):w(t===_.NONE||v(),e,"unsupported-persistence-type")}function x(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=I(),i=s.w(O,t.config.apiKey,t.name),n&&n.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var T=s.p,S=function(){function e(){Object(i.a)(this,e),this.browserResolver=s.t(s.A),this.cordovaResolver=s.t(s.F),this.underlyingResolver=null,this._redirectPersistence=s.B,this._completeRedirectFn=s.u,this._overrideRedirectResult=s.v}return Object(a.a)(e,[{key:"_initialize",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return g()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return T(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function C(e){return e.unwrap()}function A(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return s.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===s.k.PASSWORD)return null;switch(r){case s.k.GOOGLE:n=s.f;break;case s.k.FACEBOOK:n=s.d;break;case s.k.GITHUB:n=s.e;break;case s.k.TWITTER:n=s.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,c=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?s.m._create(r,u):s.g._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new s.h(r).credential({idToken:i,accessToken:a,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function N(e,t){return t.catch((function(t){throw t instanceof l.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new D(e,s.K(e,t));else if(r){var i=A(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,A(t)),additionalUserInfo:s.J(e),user:L.getOrCreate(r)}}))}function P(e,t){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return N(t,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(a.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return N(C(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),L=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=s.T(t)}return Object(a.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,s.P(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,s.Q(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,s.R(this._delegate,t,S)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.q(this.auth));case 2:return e.abrupt("return",s.S(this._delegate,t,S));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,s.U(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return P(this.auth,s.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return N(this.auth,s.W(this._delegate,e,S))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.q(this.auth));case 2:return e.abrupt("return",s.X(this._delegate,t,S));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return s.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.jb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return s.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return s.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return s.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return s.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return s.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();L.USER_MAP=new WeakMap;var M=s.p,F=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;M(r,"invalid-api-key",{appName:t.name}),M(r,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?S:void 0;this._delegate=n.initialize({options:{persistence:V(r,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(s.H),this.linkUnderlyingAuth()}return Object(a.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?L.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){s.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return s.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return s.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return s.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this._delegate,s.G(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return s.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return s.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,s.L(this._delegate,S);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",N(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){s.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=U(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=U(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return s.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return s.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===_.SESSION?4:e.t0===_.LOCAL?6:e.t0===_.NONE?11:13;break;case 4:return n=s.B,e.abrupt("break",14);case 6:return e.next=8,s.t(s.N)._isAvailable();case 8:return i=e.sent,n=i?s.N:s.z,e.abrupt("break",14);case 11:return n=s.M,e.abrupt("break",14);case 13:return e.abrupt("return",s.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return N(this._delegate,s.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return N(this._delegate,s.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return N(this._delegate,s.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return N(this._delegate,s.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return N(this._delegate,s.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return P(this._delegate,s.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",N(this._delegate,s.hb(this._delegate,t,S)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,x(this._delegate);case 3:return e.abrupt("return",s.ib(this._delegate,t,S));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return s.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function U(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&L.getOrCreate(e))},error:t,complete:n}}function V(e,t){var n=function(e,t){var n=I();if(!n)return[];var r=s.w(O,e,t);switch(n.getItem(r)){case _.NONE:return[s.M];case _.LOCAL:return[s.N,s.B];case _.SESSION:return[s.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(s.N)||n.push(s.N),"undefined"!==typeof window)for(var r=0,i=[s.z,s.B];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(s.M)||n.push(s.M),n}F.Persistence=_;var q=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new s.i(C(u.a.auth()))}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return s.i.credential(e,t)}}]),e}();q.PHONE_SIGN_IN_METHOD=s.i.PHONE_SIGN_IN_METHOD,q.PROVIDER_ID=s.i.PROVIDER_ID;var B,z=s.p,W=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.app();Object(i.a)(this,e),z(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new s.l(t,n,a.auth()),this.type=this._delegate.type}return Object(a.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(B=u.a).INTERNAL.registerComponent(new c.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new F(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.a.EMAIL_SIGNIN,PASSWORD_RESET:s.a.PASSWORD_RESET,RECOVER_EMAIL:s.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.a.VERIFY_EMAIL}},EmailAuthProvider:s.c,FacebookAuthProvider:s.d,GithubAuthProvider:s.e,GoogleAuthProvider:s.f,OAuthProvider:s.h,SAMLAuthProvider:s.n,PhoneAuthProvider:q,PhoneMultiFactorGenerator:s.j,RecaptchaVerifier:W,TwitterAuthProvider:s.o,Auth:F,AuthCredential:s.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.2.16")}).call(this,n(58))},function(e,t,n){"use strict";n(70);var r=n(8),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=n(132)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||w(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(135);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(138)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||w(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},,function(e,t,n){"use strict";var r=n(44),i=n(10),a=n(11),o=n(6),u=n(2),s=n(3),c=n(34),l=n(13),f=n(1),h=n(20);function d(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function p(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function v(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var y=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return v(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return p(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return v(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return p(),new e(l.b.fromUint8Array(t))}}]),e}();function m(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(e,["next","error","complete"])}var g=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),b=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new P(this,Object(l.y)(this._delegate,e))}catch(t){throw x(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new j(this,Object(l.E)(this._delegate,e))}catch(t){throw x(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new C(this,Object(l.z)(this._delegate,e))}catch(t){throw x(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,(function(n){return e(new _(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new w(new l.l(this._delegate,(function(t){return Object(l.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then((function(e){return e?new C(t,e):null}))}}]),e}(),k=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(s.a)(n,[{key:"convertBytes",value:function(e){return new y(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return j.forKey(t,this.firestore,null)}}]),n}(l.a);var _=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=R(e);return this._delegate.get(n).then((function(e){return new T(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=R(e);return n?(d("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=R(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=R(e);return this._delegate.delete(t),this}}]),e}(),w=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=R(e);return n?(d("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=R(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=R(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),O=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new k(t),n),i.set(n,a)),a}}]),e}();O.INSTANCES=new WeakMap;var j=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new P(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new P(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw x(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.s)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=d("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw x(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw x(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=E(n),a=I(n,(function(t){return new T(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then((function(e){return new T(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(O.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function x(e,t,n){return e.message=e.message.replace(t,n),e}function E(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!m(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function I(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=m(e[0])?e[0]:m(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var T=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"ref",get:function(){return new j(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),S=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(T),C=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw x(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw x(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw x(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw x(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw x(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw x(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw x(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw x(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then((function(e){return new N(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=E(n),a=I(n,(function(t){return new N(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(O.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),A=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new S(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"query",get:function(){return new C(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new S(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new A(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new S(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),P=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(s.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new j(this.firestore,e):null}},{key:"doc",value:function(e){try{return new j(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw x(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then((function(e){return new j(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(O.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(C);function R(e){return Object(l.p)(e,l.d)}var D=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.s)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),L=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),M={Firestore:b,GeoPoint:l.h,Timestamp:l.k,Blob:y,Transaction:_,WriteBatch:w,DocumentReference:j,DocumentSnapshot:T,Query:C,QueryDocumentSnapshot:S,QuerySnapshot:N,CollectionReference:P,FieldPath:D,FieldValue:L,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new b(e,t,new g)},e.INTERNAL.registerComponent(new h.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},M))),e.registerVersion("@firebase/firestore-compat","0.1.19")}(c.a)},function(e,t,n){"use strict";var r=n(10),i=n(11),a=n(2),o=n(3),u=n(34),s=n(20),c=n(15),l=n(1),f=n(21),h=new f.b("@firebase/database-compat"),d=function(e){var t="FIREBASE WARNING: "+e;h.warn(t)},p=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(l.q)(e,t)+"must be a boolean.")},v=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(l.q)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},y=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"cancel",value:function(e){Object(l.Q)("OnDisconnect.cancel",0,1,arguments.length),Object(l.R)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Object(l.Q)("OnDisconnect.remove",0,1,arguments.length),Object(l.R)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Object(l.Q)("OnDisconnect.set",1,2,arguments.length),Object(l.R)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Object(l.Q)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(l.R)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Object(l.Q)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,d("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(l.R)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),m=function(){function e(t,n){Object(a.a)(this,e),this.committed=t,this.snapshot=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return Object(l.Q)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),g=function(){function e(t,n){Object(a.a)(this,e),this._database=t,this._delegate=n}return Object(o.a)(e,[{key:"val",value:function(){return Object(l.Q)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Object(l.Q)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Object(l.Q)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Object(l.Q)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Object(l.Q)("DataSnapshot.child",0,1,arguments.length),t=String(t),Object(c.g)("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Object(l.Q)("DataSnapshot.hasChild",1,1,arguments.length),Object(c.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Object(l.Q)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Object(l.Q)("DataSnapshot.forEach",1,1,arguments.length),Object(l.R)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Object(l.Q)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Object(l.Q)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Object(l.Q)("DataSnapshot.ref",0,0,arguments.length),new k(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),b=function(){function e(t,n){Object(a.a)(this,e),this.database=t,this._delegate=n}return Object(o.a)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Object(l.Q)("Query.on",2,4,arguments.length),Object(l.R)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new g(o.database,e),t)};s.userCallback=n,s.context=u.context;var f=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Object(c.B)(this._delegate,s,f),n;case"child_added":return Object(c.x)(this._delegate,s,f),n;case"child_removed":return Object(c.A)(this._delegate,s,f),n;case"child_changed":return Object(c.y)(this._delegate,s,f),n;case"child_moved":return Object(c.z)(this._delegate,s,f),n;default:throw new Error(Object(l.q)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Object(l.Q)("Query.off",0,3,arguments.length),v("Query.off",e,!0),Object(l.R)("Query.off","callback",t,!0),Object(l.S)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Object(c.w)(this._delegate,e,r)}else Object(c.w)(this._delegate,e)}},{key:"get",value:function(){var e=this;return Object(c.q)(this._delegate).then((function(t){return new g(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Object(l.Q)("Query.once",1,4,arguments.length),Object(l.R)("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new l.a,s=function(e,t){var r=new g(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var f=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":Object(c.B)(this._delegate,s,f,{onlyOnce:!0});break;case"child_added":Object(c.x)(this._delegate,s,f,{onlyOnce:!0});break;case"child_removed":Object(c.A)(this._delegate,s,f,{onlyOnce:!0});break;case"child_changed":Object(c.y)(this._delegate,s,f,{onlyOnce:!0});break;case"child_moved":Object(c.z)(this._delegate,s,f,{onlyOnce:!0});break;default:throw new Error(Object(l.q)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return Object(l.Q)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.u)(t)))}},{key:"limitToLast",value:function(t){return Object(l.Q)("Query.limitToLast",1,1,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.v)(t)))}},{key:"orderByChild",value:function(t){return Object(l.Q)("Query.orderByChild",1,1,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.C)(t)))}},{key:"orderByKey",value:function(){return Object(l.Q)("Query.orderByKey",0,0,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.D)()))}},{key:"orderByPriority",value:function(){return Object(l.Q)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.E)()))}},{key:"orderByValue",value:function(){return Object(l.Q)("Query.orderByValue",0,0,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.F)()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.Q)("Query.startAt",0,2,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.R)(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.Q)("Query.startAfter",0,2,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.Q)(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.Q)("Query.endAt",0,2,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.l)(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.Q)("Query.endBefore",0,2,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.m)(t,n)))}},{key:"equalTo",value:function(t,n){return Object(l.Q)("Query.equalTo",1,2,arguments.length),new e(this.database,Object(c.H)(this._delegate,Object(c.n)(t,n)))}},{key:"toString",value:function(){return Object(l.Q)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Object(l.Q)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Object(l.Q)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new k(this.database,new c.d(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(l.R)(e,"cancel",r.cancel,!0),r.context=n,Object(l.S)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(l.q)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),k=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,new c.b(r._repo,r._path,new c.c,!1))).database=e,i._delegate=r,i}return Object(o.a)(n,[{key:"getKey",value:function(){return Object(l.Q)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Object(l.Q)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Object(c.i)(this._delegate,e))}},{key:"getParent",value:function(){Object(l.Q)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Object(l.Q)("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Object(l.Q)("Reference.set",1,2,arguments.length),Object(l.R)("Reference.set","onComplete",t,!0);var n=Object(c.N)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Object(l.Q)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,d("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(c.h)("Reference.update",this._delegate._path),Object(l.R)("Reference.update","onComplete",t,!0);var i=Object(c.S)(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Object(l.Q)("Reference.setWithPriority",2,3,arguments.length),Object(l.R)("Reference.setWithPriority","onComplete",n,!0);var r=Object(c.P)(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Object(l.Q)("Reference.remove",0,1,arguments.length),Object(l.R)("Reference.remove","onComplete",e,!0);var t=Object(c.K)(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Object(l.Q)("Reference.transaction",1,3,arguments.length),Object(l.R)("Reference.transaction","transactionUpdate",e,!1),Object(l.R)("Reference.transaction","onComplete",t,!0),p("Reference.transaction","applyLocally",n,!0);var i=Object(c.L)(this._delegate,e,{applyLocally:n}).then((function(e){return new m(e.committed,new g(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Object(l.Q)("Reference.setPriority",1,2,arguments.length),Object(l.R)("Reference.setPriority","onComplete",t,!0);var n=Object(c.O)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Object(l.Q)("Reference.push",0,2,arguments.length),Object(l.R)("Reference.push","onComplete",t,!0);var i=Object(c.G)(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Object(c.h)("Reference.onDisconnect",this._delegate._path),new y(new c.a(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(b),_=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:c.p,forceLongPolling:c.o}}return Object(o.a)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.j)(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Object(l.Q)("database.ref",0,1,arguments.length),e instanceof k){var t=Object(c.J)(this._delegate,e.toString());return new k(this,t)}var n=Object(c.I)(this._delegate,e);return new k(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Object(l.Q)(t,1,1,arguments.length);var n=Object(c.J)(this._delegate,e);return new k(this,n)}},{key:"goOffline",value:function(){return Object(l.Q)("database.goOffline",0,0,arguments.length),Object(c.r)(this._delegate)}},{key:"goOnline",value:function(){return Object(l.Q)("database.goOnline",0,0,arguments.length),Object(c.s)(this._delegate)}}]),e}();_.ServerValue={TIMESTAMP:Object(c.M)(),increment:function(e){return Object(c.t)(e)}};var w,O=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;Object(c.f)(r);var l=new s.c("auth-internal",new s.b("database-standalone"));return l.setComponent(new s.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _(Object(c.e)(t,l,void 0,n,u),t),namespace:a}}}),j=_.ServerValue;(w=u.a).INTERNAL.registerComponent(new s.a("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new _(i,r)}),"PUBLIC").setServiceProps({Reference:k,Query:b,Database:_,DataSnapshot:g,enableLogging:c.k,INTERNAL:O,ServerValue:j}).setMultipleInstances(!0)),w.registerVersion("@firebase/database-compat","0.2.1")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(143),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function a(e,t){return i[t]||"".concat(r.a.generate(e),"-").concat(t)}},function(e,t,n){"use strict";var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();t.a=i},function(e,t,n){"use strict";var r=n(29),i=n(37),a=n(97),o=n(5),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=Object(i.a)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return Object(r.a)({},e,Object(o.a)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function y(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(s,")")}return Object(r.a)({keys:d,values:h,up:p,down:v,between:y,only:function(e){return d.indexOf(e)+1<d.length?y(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):y(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(28);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(l.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,d=e.shape,p=void 0===d?{}:d,v=Object(i.a)(e,h),y=s(n),m=f(l),g=Object(a.a)({breakpoints:y,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},u),spacing:m,shape:Object(r.a)({},c,p)},v),b=arguments.length,k=new Array(b>1?b-1:0),_=1;_<b;_++)k[_-1]=arguments[_];return g=k.reduce((function(e,t){return Object(a.a)(e,t)}),g)}},function(e,t,n){"use strict";var r=n(53),i=n(36),a=n(22),o=n(8),u=n(77),s=n(153),c=n(48),l=n(46),f=n(78),h=n(55),d=n(142),p=n(154);function v(e){return Object(d.a)("MuiCircularProgress",e)}Object(p.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var y,m,g,b,k,_,w,O,j=n(9),x=["className","color","disableShrink","size","style","thickness","value","variant"],E=44,I=Object(c.c)(k||(k=y||(y=Object(r.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),T=Object(c.c)(_||(_=m||(m=Object(r.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),S=Object(h.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Object(l.a)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return Object(a.a)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(c.b)(w||(w=g||(g=Object(r.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),I)})),C=Object(h.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),A=Object(h.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Object(l.a)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return Object(a.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(c.b)(O||(O=b||(b=Object(r.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),T)})),N=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiCircularProgress"}),r=n.className,o=n.color,c=void 0===o?"primary":o,h=n.disableShrink,d=void 0!==h&&h,p=n.size,y=void 0===p?40:p,m=n.style,g=n.thickness,b=void 0===g?3.6:g,k=n.value,_=void 0===k?0:k,w=n.variant,O=void 0===w?"indeterminate":w,I=Object(i.a)(n,x),T=Object(a.a)({},n,{color:c,disableShrink:d,size:y,thickness:b,value:_,variant:O}),N=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink,a={root:["root",n,"color".concat(Object(l.a)(r))],svg:["svg"],circle:["circle","circle".concat(Object(l.a)(n)),i&&"circleDisableShrink"]};return Object(s.a)(a,v,t)}(T),P={},R={},D={};if("determinate"===O){var L=2*Math.PI*((E-b)/2);P.strokeDasharray=L.toFixed(3),D["aria-valuenow"]=Math.round(_),P.strokeDashoffset="".concat(((100-_)/100*L).toFixed(3),"px"),R.transform="rotate(-90deg)"}return Object(j.jsx)(S,Object(a.a)({className:Object(u.a)(N.root,r),style:Object(a.a)({width:y,height:y},R,m),ownerState:T,ref:t,role:"progressbar"},D,I,{children:Object(j.jsx)(C,{className:N.svg,ownerState:T,viewBox:"".concat(22," ").concat(22," ").concat(E," ").concat(E),children:Object(j.jsx)(A,{className:N.circle,style:P,ownerState:T,cx:E,cy:E,r:(E-b)/2,fill:"none",strokeWidth:b})})}))}));t.a=N},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(157);var i=n(87);function a(e){var t=e.props,n=e.name,a=e.defaultTheme;return function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Object(r.a)(t.components[n].defaultProps,i):i}({theme:Object(i.a)(a),name:n,props:t})}},,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(142);function i(e,t){var n={};return t.forEach((function(t){n[t]=Object(r.a)(e,t)})),n}},function(e,t,n){"use strict";var r=n(5),i=n(38),a=n(89),o=n(26);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function s(e,t){return"function"===typeof e?e(t):e}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,i){var a,o=(a={},Object(r.a)(a,e,n),Object(r.a)(a,"theme",i),a),u=t[e];return u?u(o):Object(r.a)({},e,n)}function c(e){var a=e||{},l=a.sx,f=a.theme,h=void 0===f?{}:f;if(!l)return null;function d(e){var a=e;if("function"===typeof e)a=e(h);else if("object"!==typeof e)return e;if(!a)return null;var l=Object(o.a)(h.breakpoints),f=Object.keys(l),d=l;return Object.keys(a).forEach((function(e){var l=s(a[e],h);if(null!==l&&void 0!==l)if("object"===typeof l)if(t[e])d=Object(i.a)(d,n(e,l,h));else{var f=Object(o.b)({theme:h},l,(function(t){return Object(r.a)({},e,t)}));u(f,l)?d[e]=c({sx:l,theme:h}):d=Object(i.a)(d,f)}else d=Object(i.a)(d,n(e,l,h))})),Object(o.c)(f,d)}return Array.isArray(l)?l.map(d):d(l)}return c}();c.filterProps=["sx"],t.a=c},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(66);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(r.a)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(59);function i(e,t){var n=Object(r.a)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}}]]);
//# sourceMappingURL=6.8e8c23bd.chunk.js.map