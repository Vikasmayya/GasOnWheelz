(this.webpackJsonpgasonwheelz=this.webpackJsonpgasonwheelz||[]).push([[23],{240:function(e,t,o){"use strict";t.a=o.p+"static/media/project_orange_logo.90ce7bd7.png"},497:function(e,t,o){"use strict";o.r(t);var l=o(42),n=o(17),a=o(8),c=o(79),r=o(248),s=(o(263),o(264),o(373)),i=o.n(s),d=o(233),m=o(490),b=o(489),j=o(341),x=o(494),p=o(376),u=o.n(p),h=o(374),O=o.n(h),g=o(375),y=o.n(g),N=o(287),F=o.n(N),f=o(369),C=o(240),v=o(9),S=function(e){var t=e.post,o=e.handleClose,l=Object(a.useState)({address:"",gstin:""}),r=Object(n.a)(l,2),s=r[0],i=r[1];Object(a.useEffect)((function(){c.c.collection("customers").doc("GGTD".concat(t.phone)).get().then((function(e){e&&i(e.data())}))}),[t.phone]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"my-1 text-nowrap ",children:[Object(v.jsx)("div",{className:"float-end",children:Object(v.jsx)(b.a,{title:"Close Menu",children:Object(v.jsx)(j.a,{onClick:o,sx:{backgroundColor:"#2752E7"},children:Object(v.jsx)(F.a,{sx:{color:"#FFFFFF"}})})})}),Object(v.jsx)("h1",{className:"text-center ms-4 fw-bolder",children:"Booking Details "}),Object(v.jsxs)("h6",{className:"text-center",children:[new Date(1e3*t.booked_on.seconds).toLocaleDateString([],{dateStyle:"long"})," at ",new Date(1e3*t.booked_on.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:"true",second:"2-digit"})]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-lg-6",children:Object(v.jsxs)("div",{className:"row mt-1",children:[Object(v.jsx)("h6",{className:"fw-bold",children:"Customer Details"}),Object(v.jsxs)("div",{className:"col-lg-10 ",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Name or Company Name"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control round",name:"name",value:t.name,disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-10 ",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"GSTIN/UIN"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control round",name:"name",value:s&&s.gstin||"N/A",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-10 ",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlTextarea1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Customer's Address"}),Object(v.jsx)("textarea",{rows:"3",style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlTextarea1",className:"form-control round",name:"name",value:s&&s.address||"N/A",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-5 ",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Booking Id"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control round",name:"id",value:t.key?t.key:"N/A",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Booked by"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control p-1 text-center round",name:"bamount",value:t.booked_by?t.booked_by:"N/A",disabled:!0})]})]})}),Object(v.jsxs)("div",{className:"col-lg-6",children:[Object(v.jsx)("h6",{className:"fw-bold",children:"Order Status & Type"}),"INCOMPLETE"===t.order_status?Object(v.jsx)("h6",{className:"d-inline me-2 incomplete",children:"Incomplete"}):Object(v.jsx)("h6",{className:"d-inline me-2 complete",children:"Complete"}),"NEW_CONNECTION"===t.order_type?Object(v.jsx)("h6",{className:"ms-2 d-inline newConn",children:"New-Connection"}):Object(v.jsx)("h6",{className:"ms-2 d-inline refill",children:"Refill"}),Object(v.jsxs)("div",{className:"row mt-1",children:[Object(v.jsx)("h6",{className:"fw-bold",children:"Pricing Details"}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Refill Price"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"ncprice",value:t.ncprice?"\u20b9 "+t.ncprice+".00":"\u20b9 00.00",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"New Connection Price"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"price",value:t.price?"\u20b9 "+t.price+".00":"\u20b9 00.00",disabled:!0})]})]}),Object(v.jsxs)("div",{className:"row mt-2",children:[Object(v.jsx)("h6",{className:"fw-bold",children:"Cylinder Details"}),Object(v.jsxs)("div",{className:"col-lg-2 ",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Type"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"type",value:t.gas_cylinder_type,disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-2",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Qty"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"quantity",value:t.quantity,disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-2",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Empty Recv"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"empty",value:"NEW_CONNECTION"===t.order_type?"N/A":t.empty,disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-2",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Empty Bal"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control text-center round",name:"lname",value:"NEW_CONNECTION"===t.order_type?"N/A":t.pending_empty,disabled:!0})]})]}),Object(v.jsxs)("div",{className:"row mt-1",children:[Object(v.jsx)("h6",{className:"fw-bold",children:"Transaction Details"}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Total Amount"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control p-1 text-center round",name:"tamount",value:t.amount?"\u20b9 "+t.amount+".00":"\u20b9 00.00",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Recieved Amount"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control p-1 text-center round",name:"ramount",value:t.amountr?"\u20b9 "+t.amountr+".00":"\u20b9 00.00",disabled:!0})]}),Object(v.jsxs)("div",{className:"col-lg-3",children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlInput1",style:{fontSize:"1rem",color:"#7E92A2"},className:"form-label text-nowrap",children:"Balance Amount"}),Object(v.jsx)("input",{style:{backgroundColor:"#F6FAFD"},type:"text",id:"exampleFormControlInput1",className:"form-control p-1 text-center round",name:"bamount",value:t.pending_amount?"\u20b9 "+t.pending_amount+".00":"\u20b9 00.00",disabled:!0})]})]})]})]}),Object(v.jsx)("div",{className:"my-2 mx-5 text-center",children:"INCOMPLETE"===t.order_status?Object(v.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!0,children:"Generate Invoice "}):Object(v.jsx)("button",{type:"button",onClick:function(){var e="Gopal Govinda Total Distributors",o="29DHXPG5165D1ZV",l="Karnataka, Code : 29",n="Khatha No.630/595/194/2, Suggata Main Road,",a="Jala Hobli, Hunasamaranahalli Village,",c="Bengaluru",r="562157",i={CGSTPercent:"19KG"===t.gas_cylinder_type?"9%":"12KG"===t.gas_cylinder_type?"2.5%":"9%",GSTPercent:"19KG"===t.gas_cylinder_type?"18%":"12KG"===t.gas_cylinder_type?"5%":"18%",GSTAmount:"19KG"===t.gas_cylinder_type?.18*t.amount:"12KG"===t.gas_cylinder_type?.05*t.amount:.18*t.amount,GSTncRate:"19KG"===t.gas_cylinder_type?.18*t.ncprice:"12KG"===t.gas_cylinder_type?.05*t.ncprice:.18*t.ncprice,GSTRate:"19KG"===t.gas_cylinder_type?.18*t.price:"12KG"===t.gas_cylinder_type?.05*t.price:.18*t.price};var d=function(e){for(var t=[],o=0;o<e.length;o+=1)t.push({id:e[o],name:e[o],prompt:e[o],width:45,align:"center",padding:0});return t}(["id","Product","Quantity","Rate","per","Amount"]),m=new f.a;m.setFontSize(10),m.setFontSize(15),m.setFont("times","bold"),m.text("TAX INVOICE",85,15),m.setFontSize(10),m.setLineWidth(.1),m.line(4,20,206.5,20),m.line(105.2,20,105.2,80),m.setFont("times","normal"),m.text("Date :",110,30),m.setFont("times","bold"),m.text(new Date(1e3*t.booked_on.seconds).toLocaleDateString([],{dateStyle:"long"}),120,30),m.setFont("times","normal"),m.text("Invoice No : ",8,30),m.setFont("times","bold"),m.text(t.key,28,30),m.line(4,35,206.5,35),m.setFont("times","normal"),m.text("Seller(Bill From)",8,40),m.setFont("times","bold"),m.text(e,8,45),m.text(n,8,50),m.text(a,8,55),m.text(c+" - "+r,8,60),m.text("GST/UIN : "+o,8,65),m.text("State Name : "+l,8,70),m.setFont("times","normal"),m.text("Buyer(Bill To)",110,40),m.setFont("times","bold"),m.text(t.name,110,45),m.text(n,110,50),m.text(a,110,55),m.text(c+" - "+r,110,60),m.text("GST/UIN : "+(s&&s.gstin)||!1,110,65),m.text("State Name : "+l,110,70),m.table(4,80,function(e){for(var o=[],l={Product:"19KG"===t.gas_cylinder_type?"Commercial LPG 19 Kgs":"12KG"===t.gas_cylinder_type?"Domestic LPG 12 Kgs":"Commercial LPG 17 Kgs",Quantity:t.quantity+".00 NOS",Rate:t.ncprice?"Rs."+parseFloat(t.ncprice-i.GSTncRate).toFixed(2):"Rs."+parseFloat(t.price-i.GSTRate).toFixed(2),per:"NOS",Amount:"Rs."+parseFloat(t.amount-i.GSTAmount).toFixed(2)},n=0;n<e;n+=1)l.id=(n+1).toString(),o.push(Object.assign({},l));return o}(1),d),m.text("CGST : ",8,115),m.text(i.CGSTPercent,120,115),m.text("Rs "+(i.GSTAmount/2).toFixed(2),178,115),m.line(4,119,206.5,119),m.text("SGST : ",8,125),m.text(i.CGSTPercent,120,125),m.text("Rs "+(i.GSTAmount/2).toFixed(2),178,125),m.line(4,129,206.5,129),m.text("Total Tax : ",8,135),m.text(i.GSTPercent,120,135),m.text("Rs "+i.GSTAmount.toFixed(2),178,135),m.line(4,139,206.5,139),m.text("Total : ",8,145),m.text(t.quantity+".00 NOS",78,145),m.text("Rs."+t.amount.toFixed(2),178,145),m.line(206.5,20,206.5,280),m.line(4,20,4,280),m.line(4,149,206.5,149),m.text("Company\u2019s Bank Details",8,235),m.text("Bank Name : HDFC BANK",8,240),m.text("A/c No. : 50200020730245",8,245),m.text("Branch & IFS Code : YELAHANKA & HDFC0000371",8,250),m.setFont("times","bold"),m.text("Declaration :",8,265),m.setFont("times","normal"),m.text("We declare that this invoice shows the actual price of the",8,270),m.text("goods described and that all particulars are true and correct.",8,275),m.setFont("times","bold"),m.line(110,230,206.5,230),m.line(110,230,110,280),m.text("for Gopal Govinda Total Distributors.",135,240),m.text("Authorised Signatory",165,275),m.setFont("times","normal"),m.line(4,280,206.5,280),m.addImage(C.a,"JPEG",8,285,8,8),m.text("Powered by Gas on Wheelz.",18,290),m.text("This is a Computer generated Document.",135,290),m.save("".concat(t.name,".pdf"))},className:"btn btn-primary",children:"Generate Invoice "})})]})};t.default=function(){var e=Object(a.useState)(""),t=Object(n.a)(e,2),o=t[0],s=t[1],p=Object(a.useState)([]),h=Object(n.a)(p,2),g=h[0],N=h[1],F=Object(a.useState)(""),f=Object(n.a)(F,2),C=f[0],k=f[1],w=Object(a.useState)(new Date),_=Object(n.a)(w,2),A=_[0],T=_[1],I=Object(a.useState)(new Date),D=Object(n.a)(I,2),G=D[0],E=D[1],R={startDate:A,endDate:G,key:"selection"},z=Object(a.useState)([]),B=Object(n.a)(z,2),P=B[0],K=B[1],L=Object(a.useState)(!1),W=Object(n.a)(L,2),H=W[0],M=W[1],q=function(){return M(!1)};var J=Object(a.useCallback)((function(){var e=[],t=c.c.collection("Sales").where("booked_on",">",A).where("booked_on","<",G).orderBy("booked_on","asc").limit(9).onSnapshot((function(t){t.forEach((function(t){e.push(Object(l.a)(Object(l.a)({},t.data()),{},{key:t.id}))})),N(e);var o=t.docs[t.docs.length-1];k(o)}));return function(){return t()}}),[A,G]),V=Object(a.useCallback)((function(){if(C){var e=[],t=c.c.collection("Sales").where("booked_on",">",A).where("booked_on","<",G).orderBy("booked_on","asc").startAfter(C).limit(9).onSnapshot((function(t){if(0===t.size)alert("reached end of document");else{t.forEach((function(t){e.push(Object(l.a)(Object(l.a)({},t.data()),{},{key:t.id}))})),N(e);var o=t.docs[t.docs.length-1];k(o)}}));return function(){return t()}}alert("No data exists!Please select other date ranges.")}),[A,G,C]),Q=Object(a.useCallback)((function(){if(C){var e=[],t=c.c.collection("Sales").where("booked_on",">",A).where("booked_on","<",G).orderBy("booked_on","asc").endBefore(C).limit(9).onSnapshot((function(t){var o=0===t.size,n=t.size;if(!o&&n>=9){t.forEach((function(t){e.push(Object(l.a)(Object(l.a)({},t.data()),{},{key:t.id}))})),N(e);var a=t.docs[t.docs.length-1];k(a)}else alert("No more previous documents exists!")}));return function(){return t()}}alert("No data exists!Please select other date ranges.")}),[A,G,C]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{paddingLeft:"1em",paddingRight:"1em",paddingtTop:0},children:[Object(v.jsx)("div",{className:"mt-0",style:{display:"inline-block"},children:Object(v.jsx)("h4",{style:{fontWeight:"700",marginBottom:0,marginTop:"0.3em",fontSize:"1.719rem",fontStyle:"bold"},children:"Booking History"})}),Object(v.jsx)("div",{style:{backgroundColor:"#2752E7",width:"2.5em",float:"right",display:"inline-block",borderRadius:"0.5rem"},children:Object(v.jsx)(b.a,{title:"CLick to Add Filters",children:Object(v.jsx)(j.a,{onClick:function(){M(!0),s("ACTION_2")},children:Object(v.jsx)(i.a,{sx:{color:"#FFFFFF"}})})})})]}),Object(v.jsxs)("div",{style:{paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"20rem"},children:[Object(v.jsx)("div",{className:"table overflow-auto",children:Object(v.jsxs)("table",{className:"table table-borderless",children:[Object(v.jsx)("thead",{style:{backgroundColor:"white",color:"black"},children:Object(v.jsxs)("tr",{style:{borderRadius:"0.25em"},children:[Object(v.jsx)("th",{scope:"col",children:"Customer Name"}),Object(v.jsx)("th",{scope:"col",children:"Order Type"}),Object(v.jsx)("th",{scope:"col",children:"Type"}),Object(v.jsx)("th",{className:"text-right",scope:"col",children:"Total amount"}),Object(v.jsx)("th",{className:"text-right",scope:"col",children:"Balance amount"}),Object(v.jsx)("th",{className:"text-right",scope:"col",children:"Empty Balance"}),Object(v.jsx)("th",{scope:"col",children:"  Order Status"}),Object(v.jsx)("th",{scope:"col",children:"Booked On"}),Object(v.jsx)("th",{className:"text-center",scope:"col",children:"Action"})]})}),Object(v.jsx)("tbody",{children:g.map((function(e,t){var o=e.name,l=e.gas_cylinder_type,n=e.order_type,a=e.booked_on,c=e.amount,r=e.pending_amount,i=e.pending_empty,d=e.order_status;return Object(v.jsxs)("tr",{className:"align-middle",style:{backgroundColor:"white",height:"1em"},children:[Object(v.jsx)("td",{children:o}),Object(v.jsx)("td",{children:"NEW_CONNECTION"===n?Object(v.jsx)("div",{className:"newConn",children:"New-Connection"}):Object(v.jsx)("div",{className:"refill",children:"Refill"})}),Object(v.jsx)("td",{children:l}),Object(v.jsxs)("td",{className:"text-right",children:["\u20b9 ",c,".00"]}),Object(v.jsxs)("td",{className:"text-right",children:["\u20b9 ",r,".00"]}),Object(v.jsx)("td",{className:"text-right",children:"NEW_CONNECTION"===n?Object(v.jsx)("h6",{className:"mb-0",children:"N/A"}):Object(v.jsx)("h6",{className:"mb-0",children:i})}),Object(v.jsx)("td",{className:"text-center",children:"INCOMPLETE"===d?Object(v.jsx)("div",{className:"incomplete text-center",children:"Incomplete"}):Object(v.jsx)("div",{className:"complete",children:"Complete"})}),Object(v.jsx)("td",{children:Object(v.jsxs)("h6",{style:{fontSize:"0.8em",paddingTop:"0.1em",margin:0},children:[new Date(1e3*a.seconds).toLocaleDateString([],{dateStyle:"medium"}),Object(v.jsx)("br",{}),new Date(1e3*a.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:"true",second:"2-digit"})]})}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)(x.a,{variant:"text",style:{textTransform:"none",fontFamily:"Sen"},onClick:function(){M(!0),K(e),s("ACTION_1")},children:"View more"})})]},t)}))})]})}),Object(v.jsxs)("div",{style:{backgroundColor:"white",float:"right",borderRadius:"0.5rem",padding:"0.5rem"},children:[Object(v.jsx)(b.a,{title:"CLick to previous page",children:Object(v.jsx)("span",{style:{backgroundColor:"#F1F7FF"},className:"prev",onClick:Q,children:Object(v.jsx)(O.a,{sx:{color:"#333333"}})})}),Object(v.jsx)(b.a,{title:"CLick for Next Page",children:Object(v.jsx)("span",{style:{backgroundColor:"#2752E7"},className:"next",onClick:V,children:Object(v.jsx)(y.a,{sx:{color:"white"}})})})]}),Object(v.jsx)(m.a,{open:H,onClose:q,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:"ACTION_1"===o?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(d.a,{sx:{position:"absolute",top:"12%",left:"2.5%",transform:"translate(-0.5%, -1%)",bgcolor:"background.paper",borderRadius:"1.125rem",boxShadow:24,width:"95%",height:"83%",p:2,overflow:"auto"},children:Object(v.jsx)(S,{post:P,handleClose:q})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(d.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:"1.125rem",boxShadow:24,p:2},children:[Object(v.jsx)(r.DateRange,{editableDateInputs:!0,onChange:function(e){T(e.selection.startDate),E(e.selection.endDate)},moveRangeOnFirstSelection:!1,ranges:[R]}),Object(v.jsx)("div",{style:{textAlign:"center",paddingBottom:"1em",backgroundColor:"white",marginLeft:"auto",marginRight:0},children:Object(v.jsx)(b.a,{title:"Apply Filters",children:Object(v.jsx)(x.a,{variant:"contained",onClick:function(){J(),M(!1)},endIcon:Object(v.jsx)(u.a,{}),children:"Apply"})})})]})})})]})]})}}}]);
//# sourceMappingURL=23.1ca22acf.chunk.js.map