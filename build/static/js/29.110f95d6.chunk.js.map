{"version":3,"sources":["employee/BookingList.js"],"names":["BookingList","useState","Bookings","setBookings","useEffect","start","Date","setDate","getDate","end","getPostFromFirebase","firebaseData","firestore","collection","where","orderBy","onSnapshot","querySnapshot","forEach","doc","push","data","key","id","className","style","padding","borderColor","backgroundColor","color","scope","map","post","name","gas_cylinder_type","order_type","booked_on","amount","pending_amount","pending_empty","order_status","seconds","toLocaleDateString","toLocaleTimeString","to"],"mappings":"sKA6EeA,UAzEK,WAChB,MAA+BC,mBAAS,IAAxC,mBAAOC,EAAP,KAAiBC,EAAjB,KAqBA,OAnBAC,qBAAU,WACN,IAAIC,EAAQ,IAAIC,KAChBD,EAAME,QAAQF,EAAMG,UAAY,GAChC,IAAIC,EAAM,IAAIH,KACdG,EAAIF,QAAQE,EAAID,UAAY,GAC5B,IAAME,EAAsB,GACtBC,EAAeC,IAAUC,WAAW,SACzCC,MAAM,YAAa,IAAKT,GACxBS,MAAM,YAAa,IAAKL,GACxBM,QAAQ,YAAY,QACpBC,YAAW,SAACC,GACTA,EAAcC,SAAS,SAAAC,GACnBT,EAAoBU,KAApB,2BAA6BD,EAAIE,QAAjC,IAAyCC,IAAKH,EAAII,SAEtDpB,EAAYO,MAEhB,OAAO,kBAAMC,OACd,IAGC,qCACG,qBAAKa,UAAU,OAAf,SACK,oBAAIA,UAAU,cAAd,gDAEL,qBAAKA,UAAU,mBAAmBC,MAAO,CAACC,QAAQ,QAAlD,SACA,wBAAOF,UAAU,uBAAuBC,MAAO,CAACE,YAAa,eAA7D,UACC,uBAAOH,UAAU,aAAaC,MAAO,CAACG,gBAAkB,QAAUC,MAAO,QAAQF,YAAa,SAA9F,SACI,+BACA,oBAAIG,MAAM,MAAV,6BACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,yBACA,oBAAIA,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,yBAKD5B,EAAS6B,KAAI,SAACC,GACZ,IAAQV,EAA6GU,EAA7GV,IAAKW,EAAwGD,EAAxGC,KAAMC,EAAkGF,EAAlGE,kBAAmBC,EAA+EH,EAA/EG,WAAYC,EAAmEJ,EAAnEI,UAAWC,EAAwDL,EAAxDK,OAAQC,EAAgDN,EAAhDM,eAAgBC,EAAgCP,EAAhCO,cAAeC,EAAiBR,EAAjBQ,aACtG,OACC,gCACI,+BACA,6BAAKP,IACL,6BAAKC,IACL,6BAAKC,IACL,6BAAKE,IACL,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,IACL,6BAAK,IAAIlC,KAAyB,IAApB8B,EAAUK,SAAgBC,mBAAmB,SAAU,OAAO,IAAIpC,KAAyB,IAApB8B,EAAUK,SAAgBE,uBAC/G,6BACC,cAAC,IAAD,CAAMC,GAAE,uBAAkBtB,GAAOE,UAAU,kBAA3C,wBAXOF","file":"static/js/29.110f95d6.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { firestore } from \"../Firebase\";\r\n\r\nconst BookingList = () => {\r\n    const [Bookings, setBookings] =useState([]);\r\n    \r\n    useEffect(() =>{\r\n        let start = new Date();\r\n        start.setDate(start.getDate() - 1);\r\n        let end = new Date();\r\n        end.setDate(end.getDate() + 1);\r\n        const getPostFromFirebase = [];\r\n        const firebaseData = firestore.collection(\"Sales\")\r\n        .where(\"booked_on\", \">\", start)\r\n        .where('booked_on', '<', end)\r\n        .orderBy(\"booked_on\",\"desc\")\r\n        .onSnapshot((querySnapshot) =>{\r\n            querySnapshot.forEach( doc => {\r\n                getPostFromFirebase.push({...doc.data(), key: doc.id,});\r\n            });\r\n            setBookings(getPostFromFirebase);\r\n        });\r\n        return () => firebaseData();\r\n    }, []);\r\n    \r\n    return (\r\n        <>\r\n           <div className=\"my-5\">\r\n                <h1 className=\"text-center\">Booking History of last 24 hours</h1>\r\n            </div>\r\n           <div className=\"table-responsive\" style={{padding:\"20px\"}}>\r\n           <table className=\"table table-bordered\" style={{borderColor: \"transparent\"}}>\r\n            <thead className=\"thead-dark\" style={{backgroundColor : \"black\" , color: \"white\",borderColor: \"white\"}}>\r\n                <tr>\r\n                <th scope=\"col\">Customer's Name</th>\r\n                <th scope=\"col\"> Type</th>\r\n                <th scope=\"col\">Order Type</th>\r\n                <th scope=\"col\">Total Amount</th>\r\n                <th scope=\"col\">Amount Bal.</th>\r\n                <th scope=\"col\">Empty Bal.</th>\r\n                <th scope=\"col\">Order Status</th>\r\n                <th scope=\"col\">Booked On</th>\r\n                <th scope=\"col\">Action</th>\r\n                {/* <th scope=\"col\">booked_by</th> */}\r\n                </tr>\r\n            </thead>\r\n           {\r\n               Bookings.map((post) => {\r\n                 const { key, name, gas_cylinder_type, order_type, booked_on, amount, pending_amount, pending_empty, order_status } = post; \r\n               return(\r\n                <tbody key={key}>\r\n                    <tr>\r\n                    <td>{name}</td>\r\n                    <td>{gas_cylinder_type}</td>\r\n                    <td>{order_type}</td>\r\n                    <td>{amount}</td>\r\n                    <td>{pending_amount}</td>\r\n                    <td>{pending_empty}</td>\r\n                    <td>{order_status}</td>\r\n                    <td>{new Date(booked_on.seconds * 1000).toLocaleDateString(\"en-UK\")+ \" at \"+new Date(booked_on.seconds * 1000).toLocaleTimeString() }</td>\r\n                    <td>\r\n                     <Link to={`/BookDetails/${key}`} className=\"btn btn-primary\">\r\n                          More\r\n                     </Link>\r\n                    </td>\r\n                    </tr>\r\n                </tbody>\r\n               )\r\n            })\r\n           }\r\n           </table>\r\n           </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BookingList;"],"sourceRoot":""}